const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CfjUO-SJ.js","assets/index-CJJ_hUQ7.css"])))=>i.map(i=>d[i]);
(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const L of document.querySelectorAll('link[rel="modulepreload"]'))T(L);new MutationObserver(L=>{for(const b of L)if(b.type==="childList")for(const W of b.addedNodes)W.tagName==="LINK"&&W.rel==="modulepreload"&&T(W)}).observe(document,{childList:!0,subtree:!0});function y(L){const b={};return L.integrity&&(b.integrity=L.integrity),L.referrerPolicy&&(b.referrerPolicy=L.referrerPolicy),L.crossOrigin==="use-credentials"?b.credentials="include":L.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function T(L){if(L.ep)return;L.ep=!0;const b=y(L);fetch(L.href,b)}})();/**
* @vue/shared v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Fs(u,c){const y=new Set(u.split(","));return T=>y.has(T)}const Le={},An=[],Ai=()=>{},ul=()=>!1,Vr=u=>u.charCodeAt(0)===111&&u.charCodeAt(1)===110&&(u.charCodeAt(2)>122||u.charCodeAt(2)<97),Bs=u=>u.startsWith("onUpdate:"),$e=Object.assign,Vs=(u,c)=>{const y=u.indexOf(c);y>-1&&u.splice(y,1)},ll=Object.prototype.hasOwnProperty,Te=(u,c)=>ll.call(u,c),fe=Array.isArray,Zn=u=>Dr(u)==="[object Map]",hl=u=>Dr(u)==="[object Set]",de=u=>typeof u=="function",Je=u=>typeof u=="string",zn=u=>typeof u=="symbol",He=u=>u!==null&&typeof u=="object",xo=u=>(He(u)||de(u))&&de(u.then)&&de(u.catch),fl=Object.prototype.toString,Dr=u=>fl.call(u),cl=u=>Dr(u).slice(8,-1),dl=u=>Dr(u)==="[object Object]",Ds=u=>Je(u)&&u!=="NaN"&&u[0]!=="-"&&""+parseInt(u,10)===u,Kn=Fs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qr=u=>{const c=Object.create(null);return y=>c[y]||(c[y]=u(y))},pl=/-(\w)/g,vn=qr(u=>u.replace(pl,(c,y)=>y?y.toUpperCase():"")),gl=/\B([A-Z])/g,yn=qr(u=>u.replace(gl,"-$1").toLowerCase()),bo=qr(u=>u.charAt(0).toUpperCase()+u.slice(1)),us=qr(u=>u?`on${bo(u)}`:""),nn=(u,c)=>!Object.is(u,c),ls=(u,...c)=>{for(let y=0;y<u.length;y++)u[y](...c)},So=(u,c,y,T=!1)=>{Object.defineProperty(u,c,{configurable:!0,enumerable:!1,writable:T,value:y})},_l=u=>{const c=parseFloat(u);return isNaN(c)?u:c};let Ca;const Co=()=>Ca||(Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qs(u){if(fe(u)){const c={};for(let y=0;y<u.length;y++){const T=u[y],L=Je(T)?wl(T):qs(T);if(L)for(const b in L)c[b]=L[b]}return c}else if(Je(u)||He(u))return u}const vl=/;(?![^(]*\))/g,ml=/:([^]+)/,yl=/\/\*[^]*?\*\//g;function wl(u){const c={};return u.replace(yl,"").split(vl).forEach(y=>{if(y){const T=y.split(ml);T.length>1&&(c[T[0].trim()]=T[1].trim())}}),c}function Hs(u){let c="";if(Je(u))c=u;else if(fe(u))for(let y=0;y<u.length;y++){const T=Hs(u[y]);T&&(c+=T+" ")}else if(He(u))for(const y in u)u[y]&&(c+=y+" ");return c.trim()}const xl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",bl=Fs(xl);function Po(u){return!!u||u===""}/**
* @vue/reactivity v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let di;class Sl{constructor(c=!1){this.detached=c,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=di,!c&&di&&(this.index=(di.scopes||(di.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let c,y;if(this.scopes)for(c=0,y=this.scopes.length;c<y;c++)this.scopes[c].pause();for(c=0,y=this.effects.length;c<y;c++)this.effects[c].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let c,y;if(this.scopes)for(c=0,y=this.scopes.length;c<y;c++)this.scopes[c].resume();for(c=0,y=this.effects.length;c<y;c++)this.effects[c].resume()}}run(c){if(this._active){const y=di;try{return di=this,c()}finally{di=y}}}on(){di=this}off(){di=this.parent}stop(c){if(this._active){let y,T;for(y=0,T=this.effects.length;y<T;y++)this.effects[y].stop();for(y=0,T=this.cleanups.length;y<T;y++)this.cleanups[y]();if(this.scopes)for(y=0,T=this.scopes.length;y<T;y++)this.scopes[y].stop(!0);if(!this.detached&&this.parent&&!c){const L=this.parent.scopes.pop();L&&L!==this&&(this.parent.scopes[this.index]=L,L.index=this.index)}this.parent=void 0,this._active=!1}}}function Cl(){return di}let Oe;const hs=new WeakSet;class Io{constructor(c){this.fn=c,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,di&&di.active&&di.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,hs.has(this)&&(hs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=Xn,Xn=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pa(this),ko(this);const c=Oe,y=xi;Oe=this,xi=!0;try{return this.fn()}finally{Ao(this),Oe=c,xi=y,this.flags&=-3}}stop(){if(this.flags&1){for(let c=this.deps;c;c=c.nextDep)Ws(c);this.deps=this.depsTail=void 0,Pa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?hs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bs(this)&&this.run()}get dirty(){return bs(this)}}let Eo=0,Xn;function Us(){Eo++}function js(){if(--Eo>0)return;let u;for(;Xn;){let c=Xn;for(Xn=void 0;c;){const y=c.nextEffect;if(c.nextEffect=void 0,c.flags&=-9,c.flags&1)try{c.trigger()}catch(T){u||(u=T)}c=y}}if(u)throw u}function ko(u){for(let c=u.deps;c;c=c.nextDep)c.version=-1,c.prevActiveLink=c.dep.activeLink,c.dep.activeLink=c}function Ao(u){let c,y=u.depsTail;for(let T=y;T;T=T.prevDep)T.version===-1?(T===y&&(y=T.prevDep),Ws(T),Pl(T)):c=T,T.dep.activeLink=T.prevActiveLink,T.prevActiveLink=void 0;u.deps=c,u.depsTail=y}function bs(u){for(let c=u.deps;c;c=c.nextDep)if(c.dep.version!==c.version||c.dep.computed&&To(c.dep.computed)===!1||c.dep.version!==c.version)return!0;return!!u._dirty}function To(u){if(u.flags&2)return!1;if(u.flags&4&&!(u.flags&16)||(u.flags&=-17,u.globalVersion===ir))return;u.globalVersion=ir;const c=u.dep;if(u.flags|=2,c.version>0&&!u.isSSR&&!bs(u)){u.flags&=-3;return}const y=Oe,T=xi;Oe=u,xi=!0;try{ko(u);const L=u.fn(u._value);(c.version===0||nn(L,u._value))&&(u._value=L,c.version++)}catch(L){throw c.version++,L}finally{Oe=y,xi=T,Ao(u),u.flags&=-3}}function Ws(u){const{dep:c,prevSub:y,nextSub:T}=u;if(y&&(y.nextSub=T,u.prevSub=void 0),T&&(T.prevSub=y,u.nextSub=void 0),c.subs===u&&(c.subs=y),!c.subs&&c.computed){c.computed.flags&=-5;for(let L=c.computed.deps;L;L=L.nextDep)Ws(L)}}function Pl(u){const{prevDep:c,nextDep:y}=u;c&&(c.nextDep=y,u.prevDep=void 0),y&&(y.prevDep=c,u.nextDep=void 0)}let xi=!0;const Oo=[];function rn(){Oo.push(xi),xi=!1}function sn(){const u=Oo.pop();xi=u===void 0?!0:u}function Pa(u){const{cleanup:c}=u;if(u.cleanup=void 0,c){const y=Oe;Oe=void 0;try{c()}finally{Oe=y}}}let ir=0;class Gs{constructor(c){this.computed=c,this.version=0,this.activeLink=void 0,this.subs=void 0}track(c){if(!Oe||!xi||Oe===this.computed)return;let y=this.activeLink;if(y===void 0||y.sub!==Oe)y=this.activeLink={dep:this,sub:Oe,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},Oe.deps?(y.prevDep=Oe.depsTail,Oe.depsTail.nextDep=y,Oe.depsTail=y):Oe.deps=Oe.depsTail=y,Oe.flags&4&&Mo(y);else if(y.version===-1&&(y.version=this.version,y.nextDep)){const T=y.nextDep;T.prevDep=y.prevDep,y.prevDep&&(y.prevDep.nextDep=T),y.prevDep=Oe.depsTail,y.nextDep=void 0,Oe.depsTail.nextDep=y,Oe.depsTail=y,Oe.deps===y&&(Oe.deps=T)}return y}trigger(c){this.version++,ir++,this.notify(c)}notify(c){Us();try{for(let y=this.subs;y;y=y.prevSub)y.sub.notify()}finally{js()}}}function Mo(u){const c=u.dep.computed;if(c&&!u.dep.subs){c.flags|=20;for(let T=c.deps;T;T=T.nextDep)Mo(T)}const y=u.dep.subs;y!==u&&(u.prevSub=y,y&&(y.nextSub=u)),u.dep.subs=u}const Ss=new WeakMap,_n=Symbol(""),Cs=Symbol(""),nr=Symbol("");function ri(u,c,y){if(xi&&Oe){let T=Ss.get(u);T||Ss.set(u,T=new Map);let L=T.get(y);L||T.set(y,L=new Gs),L.track()}}function Vi(u,c,y,T,L,b){const W=Ss.get(u);if(!W){ir++;return}let Z=[];if(c==="clear")Z=[...W.values()];else{const K=fe(u),rt=K&&Ds(y);if(K&&y==="length"){const Q=Number(T);W.forEach((Y,lt)=>{(lt==="length"||lt===nr||!zn(lt)&&lt>=Q)&&Z.push(Y)})}else{const Q=Y=>Y&&Z.push(Y);switch(y!==void 0&&Q(W.get(y)),rt&&Q(W.get(nr)),c){case"add":K?rt&&Q(W.get("length")):(Q(W.get(_n)),Zn(u)&&Q(W.get(Cs)));break;case"delete":K||(Q(W.get(_n)),Zn(u)&&Q(W.get(Cs)));break;case"set":Zn(u)&&Q(W.get(_n));break}}}Us();for(const K of Z)K.trigger();js()}function In(u){const c=ke(u);return c===u?c:(ri(c,"iterate",nr),bi(u)?c:c.map(ai))}function Zs(u){return ri(u=ke(u),"iterate",nr),u}const Il={__proto__:null,[Symbol.iterator](){return fs(this,Symbol.iterator,ai)},concat(...u){return In(this).concat(...u.map(c=>fe(c)?In(c):c))},entries(){return fs(this,"entries",u=>(u[1]=ai(u[1]),u))},every(u,c){return Ri(this,"every",u,c,void 0,arguments)},filter(u,c){return Ri(this,"filter",u,c,y=>y.map(ai),arguments)},find(u,c){return Ri(this,"find",u,c,ai,arguments)},findIndex(u,c){return Ri(this,"findIndex",u,c,void 0,arguments)},findLast(u,c){return Ri(this,"findLast",u,c,ai,arguments)},findLastIndex(u,c){return Ri(this,"findLastIndex",u,c,void 0,arguments)},forEach(u,c){return Ri(this,"forEach",u,c,void 0,arguments)},includes(...u){return cs(this,"includes",u)},indexOf(...u){return cs(this,"indexOf",u)},join(u){return In(this).join(u)},lastIndexOf(...u){return cs(this,"lastIndexOf",u)},map(u,c){return Ri(this,"map",u,c,void 0,arguments)},pop(){return Un(this,"pop")},push(...u){return Un(this,"push",u)},reduce(u,...c){return Ia(this,"reduce",u,c)},reduceRight(u,...c){return Ia(this,"reduceRight",u,c)},shift(){return Un(this,"shift")},some(u,c){return Ri(this,"some",u,c,void 0,arguments)},splice(...u){return Un(this,"splice",u)},toReversed(){return In(this).toReversed()},toSorted(u){return In(this).toSorted(u)},toSpliced(...u){return In(this).toSpliced(...u)},unshift(...u){return Un(this,"unshift",u)},values(){return fs(this,"values",ai)}};function fs(u,c,y){const T=Zs(u),L=T[c]();return T!==u&&!bi(u)&&(L._next=L.next,L.next=()=>{const b=L._next();return b.value&&(b.value=y(b.value)),b}),L}const El=Array.prototype;function Ri(u,c,y,T,L,b){const W=Zs(u),Z=W!==u&&!bi(u),K=W[c];if(K!==El[c]){const Y=K.apply(u,b);return Z?ai(Y):Y}let rt=y;W!==u&&(Z?rt=function(Y,lt){return y.call(this,ai(Y),lt,u)}:y.length>2&&(rt=function(Y,lt){return y.call(this,Y,lt,u)}));const Q=K.call(W,rt,T);return Z&&L?L(Q):Q}function Ia(u,c,y,T){const L=Zs(u);let b=y;return L!==u&&(bi(u)?y.length>3&&(b=function(W,Z,K){return y.call(this,W,Z,K,u)}):b=function(W,Z,K){return y.call(this,W,ai(Z),K,u)}),L[c](b,...T)}function cs(u,c,y){const T=ke(u);ri(T,"iterate",nr);const L=T[c](...y);return(L===-1||L===!1)&&Js(y[0])?(y[0]=ke(y[0]),T[c](...y)):L}function Un(u,c,y=[]){rn(),Us();const T=ke(u)[c].apply(u,y);return js(),sn(),T}const kl=Fs("__proto__,__v_isRef,__isVue"),Lo=new Set(Object.getOwnPropertyNames(Symbol).filter(u=>u!=="arguments"&&u!=="caller").map(u=>Symbol[u]).filter(zn));function Al(u){zn(u)||(u=String(u));const c=ke(this);return ri(c,"has",u),c.hasOwnProperty(u)}class No{constructor(c=!1,y=!1){this._isReadonly=c,this._isShallow=y}get(c,y,T){const L=this._isReadonly,b=this._isShallow;if(y==="__v_isReactive")return!L;if(y==="__v_isReadonly")return L;if(y==="__v_isShallow")return b;if(y==="__v_raw")return T===(L?b?Hl:Bo:b?Fo:zo).get(c)||Object.getPrototypeOf(c)===Object.getPrototypeOf(T)?c:void 0;const W=fe(c);if(!L){let K;if(W&&(K=Il[y]))return K;if(y==="hasOwnProperty")return Al}const Z=Reflect.get(c,y,ni(c)?c:T);return(zn(y)?Lo.has(y):kl(y))||(L||ri(c,"get",y),b)?Z:ni(Z)?W&&Ds(y)?Z:Z.value:He(Z)?L?Do(Z):Ur(Z):Z}}class Ro extends No{constructor(c=!1){super(!1,c)}set(c,y,T,L){let b=c[y];if(!this._isShallow){const K=mn(b);if(!bi(T)&&!mn(T)&&(b=ke(b),T=ke(T)),!fe(c)&&ni(b)&&!ni(T))return K?!1:(b.value=T,!0)}const W=fe(c)&&Ds(y)?Number(y)<c.length:Te(c,y),Z=Reflect.set(c,y,T,ni(c)?c:L);return c===ke(L)&&(W?nn(T,b)&&Vi(c,"set",y,T):Vi(c,"add",y,T)),Z}deleteProperty(c,y){const T=Te(c,y);c[y];const L=Reflect.deleteProperty(c,y);return L&&T&&Vi(c,"delete",y,void 0),L}has(c,y){const T=Reflect.has(c,y);return(!zn(y)||!Lo.has(y))&&ri(c,"has",y),T}ownKeys(c){return ri(c,"iterate",fe(c)?"length":_n),Reflect.ownKeys(c)}}class Tl extends No{constructor(c=!1){super(!0,c)}set(c,y){return!0}deleteProperty(c,y){return!0}}const Ol=new Ro,Ml=new Tl,Ll=new Ro(!0);const Ks=u=>u,Hr=u=>Reflect.getPrototypeOf(u);function br(u,c,y=!1,T=!1){u=u.__v_raw;const L=ke(u),b=ke(c);y||(nn(c,b)&&ri(L,"get",c),ri(L,"get",b));const{has:W}=Hr(L),Z=T?Ks:y?Qs:ai;if(W.call(L,c))return Z(u.get(c));if(W.call(L,b))return Z(u.get(b));u!==L&&u.get(c)}function Sr(u,c=!1){const y=this.__v_raw,T=ke(y),L=ke(u);return c||(nn(u,L)&&ri(T,"has",u),ri(T,"has",L)),u===L?y.has(u):y.has(u)||y.has(L)}function Cr(u,c=!1){return u=u.__v_raw,!c&&ri(ke(u),"iterate",_n),Reflect.get(u,"size",u)}function Ea(u,c=!1){!c&&!bi(u)&&!mn(u)&&(u=ke(u));const y=ke(this);return Hr(y).has.call(y,u)||(y.add(u),Vi(y,"add",u,u)),this}function ka(u,c,y=!1){!y&&!bi(c)&&!mn(c)&&(c=ke(c));const T=ke(this),{has:L,get:b}=Hr(T);let W=L.call(T,u);W||(u=ke(u),W=L.call(T,u));const Z=b.call(T,u);return T.set(u,c),W?nn(c,Z)&&Vi(T,"set",u,c):Vi(T,"add",u,c),this}function Aa(u){const c=ke(this),{has:y,get:T}=Hr(c);let L=y.call(c,u);L||(u=ke(u),L=y.call(c,u)),T&&T.call(c,u);const b=c.delete(u);return L&&Vi(c,"delete",u,void 0),b}function Ta(){const u=ke(this),c=u.size!==0,y=u.clear();return c&&Vi(u,"clear",void 0,void 0),y}function Pr(u,c){return function(T,L){const b=this,W=b.__v_raw,Z=ke(W),K=c?Ks:u?Qs:ai;return!u&&ri(Z,"iterate",_n),W.forEach((rt,Q)=>T.call(L,K(rt),K(Q),b))}}function Ir(u,c,y){return function(...T){const L=this.__v_raw,b=ke(L),W=Zn(b),Z=u==="entries"||u===Symbol.iterator&&W,K=u==="keys"&&W,rt=L[u](...T),Q=y?Ks:c?Qs:ai;return!c&&ri(b,"iterate",K?Cs:_n),{next(){const{value:Y,done:lt}=rt.next();return lt?{value:Y,done:lt}:{value:Z?[Q(Y[0]),Q(Y[1])]:Q(Y),done:lt}},[Symbol.iterator](){return this}}}}function Ki(u){return function(...c){return u==="delete"?!1:u==="clear"?void 0:this}}function Nl(){const u={get(b){return br(this,b)},get size(){return Cr(this)},has:Sr,add:Ea,set:ka,delete:Aa,clear:Ta,forEach:Pr(!1,!1)},c={get(b){return br(this,b,!1,!0)},get size(){return Cr(this)},has:Sr,add(b){return Ea.call(this,b,!0)},set(b,W){return ka.call(this,b,W,!0)},delete:Aa,clear:Ta,forEach:Pr(!1,!0)},y={get(b){return br(this,b,!0)},get size(){return Cr(this,!0)},has(b){return Sr.call(this,b,!0)},add:Ki("add"),set:Ki("set"),delete:Ki("delete"),clear:Ki("clear"),forEach:Pr(!0,!1)},T={get(b){return br(this,b,!0,!0)},get size(){return Cr(this,!0)},has(b){return Sr.call(this,b,!0)},add:Ki("add"),set:Ki("set"),delete:Ki("delete"),clear:Ki("clear"),forEach:Pr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(b=>{u[b]=Ir(b,!1,!1),y[b]=Ir(b,!0,!1),c[b]=Ir(b,!1,!0),T[b]=Ir(b,!0,!0)}),[u,y,c,T]}const[Rl,zl,Fl,Bl]=Nl();function Xs(u,c){const y=c?u?Bl:Fl:u?zl:Rl;return(T,L,b)=>L==="__v_isReactive"?!u:L==="__v_isReadonly"?u:L==="__v_raw"?T:Reflect.get(Te(y,L)&&L in T?y:T,L,b)}const Vl={get:Xs(!1,!1)},Dl={get:Xs(!1,!0)},ql={get:Xs(!0,!1)};const zo=new WeakMap,Fo=new WeakMap,Bo=new WeakMap,Hl=new WeakMap;function Ul(u){switch(u){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jl(u){return u.__v_skip||!Object.isExtensible(u)?0:Ul(cl(u))}function Ur(u){return mn(u)?u:Ys(u,!1,Ol,Vl,zo)}function Vo(u){return Ys(u,!1,Ll,Dl,Fo)}function Do(u){return Ys(u,!0,Ml,ql,Bo)}function Ys(u,c,y,T,L){if(!He(u)||u.__v_raw&&!(c&&u.__v_isReactive))return u;const b=L.get(u);if(b)return b;const W=jl(u);if(W===0)return u;const Z=new Proxy(u,W===2?T:y);return L.set(u,Z),Z}function Yn(u){return mn(u)?Yn(u.__v_raw):!!(u&&u.__v_isReactive)}function mn(u){return!!(u&&u.__v_isReadonly)}function bi(u){return!!(u&&u.__v_isShallow)}function Js(u){return u?!!u.__v_raw:!1}function ke(u){const c=u&&u.__v_raw;return c?ke(c):u}function Wl(u){return Object.isExtensible(u)&&So(u,"__v_skip",!0),u}const ai=u=>He(u)?Ur(u):u,Qs=u=>He(u)?Do(u):u;function ni(u){return u?u.__v_isRef===!0:!1}function Gl(u){return qo(u,!1)}function Zl(u){return qo(u,!0)}function qo(u,c){return ni(u)?u:new Kl(u,c)}class Kl{constructor(c,y){this.dep=new Gs,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=y?c:ke(c),this._value=y?c:ai(c),this.__v_isShallow=y}get value(){return this.dep.track(),this._value}set value(c){const y=this._rawValue,T=this.__v_isShallow||bi(c)||mn(c);c=T?c:ke(c),nn(c,y)&&(this._rawValue=c,this._value=T?c:ai(c),this.dep.trigger())}}function Tn(u){return ni(u)?u.value:u}const Xl={get:(u,c,y)=>c==="__v_raw"?u:Tn(Reflect.get(u,c,y)),set:(u,c,y,T)=>{const L=u[c];return ni(L)&&!ni(y)?(L.value=y,!0):Reflect.set(u,c,y,T)}};function Ho(u){return Yn(u)?u:new Proxy(u,Xl)}class Yl{constructor(c,y,T){this.fn=c,this.setter=y,this._value=void 0,this.dep=new Gs(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ir-1,this.effect=this,this.__v_isReadonly=!y,this.isSSR=T}notify(){Oe!==this&&(this.flags|=16,this.dep.notify())}get value(){const c=this.dep.track();return To(this),c&&(c.version=this.dep.version),this._value}set value(c){this.setter&&this.setter(c)}}function Jl(u,c,y=!1){let T,L;return de(u)?T=u:(T=u.get,L=u.set),new Yl(T,L,y)}const Er={},Nr=new WeakMap;let gn;function Ql(u,c=!1,y=gn){if(y){let T=Nr.get(y);T||Nr.set(y,T=[]),T.push(u)}}function $l(u,c,y=Le){const{immediate:T,deep:L,once:b,scheduler:W,augmentJob:Z,call:K}=y,rt=Rt=>L?Rt:bi(Rt)||L===!1||L===0?en(Rt,1):en(Rt);let Q,Y,lt,R,Ft=!1,ot=!1;if(ni(u)?(Y=()=>u.value,Ft=bi(u)):Yn(u)?(Y=()=>rt(u),Ft=!0):fe(u)?(ot=!0,Ft=u.some(Rt=>Yn(Rt)||bi(Rt)),Y=()=>u.map(Rt=>{if(ni(Rt))return Rt.value;if(Yn(Rt))return rt(Rt);if(de(Rt))return K?K(Rt,2):Rt()})):de(u)?c?Y=K?()=>K(u,2):u:Y=()=>{if(lt){rn();try{lt()}finally{sn()}}const Rt=gn;gn=Q;try{return K?K(u,3,[R]):u(R)}finally{gn=Rt}}:Y=Ai,c&&L){const Rt=Y,Xt=L===!0?1/0:L;Y=()=>en(Rt(),Xt)}const Vt=Cl(),ct=()=>{Q.stop(),Vt&&Vs(Vt.effects,Q)};if(b)if(c){const Rt=c;c=(...Xt)=>{Rt(...Xt),ct()}}else{const Rt=Y;Y=()=>{Rt(),ct()}}let Yt=ot?new Array(u.length).fill(Er):Er;const St=Rt=>{if(!(!(Q.flags&1)||!Q.dirty&&!Rt))if(c){const Xt=Q.run();if(L||Ft||(ot?Xt.some((D,$t)=>nn(D,Yt[$t])):nn(Xt,Yt))){lt&&lt();const D=gn;gn=Q;try{const $t=[Xt,Yt===Er?void 0:ot&&Yt[0]===Er?[]:Yt,R];K?K(c,3,$t):c(...$t),Yt=Xt}finally{gn=D}}}else Q.run()};return Z&&Z(St),Q=new Io(Y),Q.scheduler=W?()=>W(St,!1):St,R=Rt=>Ql(Rt,!1,Q),lt=Q.onStop=()=>{const Rt=Nr.get(Q);if(Rt){if(K)K(Rt,4);else for(const Xt of Rt)Xt();Nr.delete(Q)}},c?T?St(!0):Yt=Q.run():W?W(St.bind(null,!0),!0):Q.run(),ct.pause=Q.pause.bind(Q),ct.resume=Q.resume.bind(Q),ct.stop=ct,ct}function en(u,c=1/0,y){if(c<=0||!He(u)||u.__v_skip||(y=y||new Set,y.has(u)))return u;if(y.add(u),c--,ni(u))en(u.value,c,y);else if(fe(u))for(let T=0;T<u.length;T++)en(u[T],c,y);else if(hl(u)||Zn(u))u.forEach(T=>{en(T,c,y)});else if(dl(u)){for(const T in u)en(u[T],c,y);for(const T of Object.getOwnPropertySymbols(u))Object.prototype.propertyIsEnumerable.call(u,T)&&en(u[T],c,y)}return u}/**
* @vue/runtime-core v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hr(u,c,y,T){try{return T?u(...T):u()}catch(L){jr(L,c,y)}}function Ti(u,c,y,T){if(de(u)){const L=hr(u,c,y,T);return L&&xo(L)&&L.catch(b=>{jr(b,c,y)}),L}if(fe(u)){const L=[];for(let b=0;b<u.length;b++)L.push(Ti(u[b],c,y,T));return L}}function jr(u,c,y,T=!0){const L=c?c.vnode:null,{errorHandler:b,throwUnhandledErrorInProduction:W}=c&&c.appContext.config||Le;if(c){let Z=c.parent;const K=c.proxy,rt=`https://vuejs.org/error-reference/#runtime-${y}`;for(;Z;){const Q=Z.ec;if(Q){for(let Y=0;Y<Q.length;Y++)if(Q[Y](u,K,rt)===!1)return}Z=Z.parent}if(b){rn(),hr(b,null,10,[u,K,rt]),sn();return}}th(u,y,L,T,W)}function th(u,c,y,T=!0,L=!1){if(L)throw u;console.error(u)}let rr=!1,Ps=!1;const oi=[];let Ii=0;const On=[];let Qi=null,En=0;const Uo=Promise.resolve();let $s=null;function jo(u){const c=$s||Uo;return u?c.then(this?u.bind(this):u):c}function eh(u){let c=rr?Ii+1:0,y=oi.length;for(;c<y;){const T=c+y>>>1,L=oi[T],b=sr(L);b<u||b===u&&L.flags&2?c=T+1:y=T}return c}function ta(u){if(!(u.flags&1)){const c=sr(u),y=oi[oi.length-1];!y||!(u.flags&2)&&c>=sr(y)?oi.push(u):oi.splice(eh(c),0,u),u.flags|=1,Wo()}}function Wo(){!rr&&!Ps&&(Ps=!0,$s=Uo.then(Zo))}function ih(u){fe(u)?On.push(...u):Qi&&u.id===-1?Qi.splice(En+1,0,u):u.flags&1||(On.push(u),u.flags|=1),Wo()}function Oa(u,c,y=rr?Ii+1:0){for(;y<oi.length;y++){const T=oi[y];if(T&&T.flags&2){if(u&&T.id!==u.uid)continue;oi.splice(y,1),y--,T.flags&4&&(T.flags&=-2),T(),T.flags&=-2}}}function Go(u){if(On.length){const c=[...new Set(On)].sort((y,T)=>sr(y)-sr(T));if(On.length=0,Qi){Qi.push(...c);return}for(Qi=c,En=0;En<Qi.length;En++){const y=Qi[En];y.flags&4&&(y.flags&=-2),y.flags&8||y(),y.flags&=-2}Qi=null,En=0}}const sr=u=>u.id==null?u.flags&2?-1:1/0:u.id;function Zo(u){Ps=!1,rr=!0;try{for(Ii=0;Ii<oi.length;Ii++){const c=oi[Ii];c&&!(c.flags&8)&&(c.flags&4&&(c.flags&=-2),hr(c,c.i,c.i?15:14),c.flags&=-2)}}finally{for(;Ii<oi.length;Ii++){const c=oi[Ii];c&&(c.flags&=-2)}Ii=0,oi.length=0,Go(),rr=!1,$s=null,(oi.length||On.length)&&Zo()}}let ki=null,Ko=null;function Rr(u){const c=ki;return ki=u,Ko=u&&u.type.__scopeId||null,c}function nh(u,c=ki,y){if(!c||u._n)return u;const T=(...L)=>{T._d&&Da(-1);const b=Rr(c);let W;try{W=u(...L)}finally{Rr(b),T._d&&Da(1)}return W};return T._n=!0,T._c=!0,T._d=!0,T}function dn(u,c,y,T){const L=u.dirs,b=c&&c.dirs;for(let W=0;W<L.length;W++){const Z=L[W];b&&(Z.oldValue=b[W].value);let K=Z.dir[T];K&&(rn(),Ti(K,y,8,[u.el,Z,u,c]),sn())}}const rh=Symbol("_vte"),sh=u=>u.__isTeleport;function ea(u,c){u.shapeFlag&6&&u.component?(u.transition=c,ea(u.component.subTree,c)):u.shapeFlag&128?(u.ssContent.transition=c.clone(u.ssContent),u.ssFallback.transition=c.clone(u.ssFallback)):u.transition=c}/*! #__NO_SIDE_EFFECTS__ */function ia(u,c){return de(u)?$e({name:u.name},c,{setup:u}):u}function Xo(u){u.ids=[u.ids[0]+u.ids[2]+++"-",0,0]}function Is(u,c,y,T,L=!1){if(fe(u)){u.forEach((Ft,ot)=>Is(Ft,c&&(fe(c)?c[ot]:c),y,T,L));return}if(Jn(T)&&!L)return;const b=T.shapeFlag&4?aa(T.component):T.el,W=L?null:b,{i:Z,r:K}=u,rt=c&&c.r,Q=Z.refs===Le?Z.refs={}:Z.refs,Y=Z.setupState,lt=ke(Y),R=Y===Le?()=>!1:Ft=>Te(lt,Ft);if(rt!=null&&rt!==K&&(Je(rt)?(Q[rt]=null,R(rt)&&(Y[rt]=null)):ni(rt)&&(rt.value=null)),de(K))hr(K,Z,12,[W,Q]);else{const Ft=Je(K),ot=ni(K);if(Ft||ot){const Vt=()=>{if(u.f){const ct=Ft?R(K)?Y[K]:Q[K]:K.value;L?fe(ct)&&Vs(ct,b):fe(ct)?ct.includes(b)||ct.push(b):Ft?(Q[K]=[b],R(K)&&(Y[K]=Q[K])):(K.value=[b],u.k&&(Q[u.k]=K.value))}else Ft?(Q[K]=W,R(K)&&(Y[K]=W)):ot&&(K.value=W,u.k&&(Q[u.k]=W))};W?(Vt.id=-1,ci(Vt,y)):Vt()}}}const Jn=u=>!!u.type.__asyncLoader,Yo=u=>u.type.__isKeepAlive;function ah(u,c){Jo(u,"a",c)}function oh(u,c){Jo(u,"da",c)}function Jo(u,c,y=ui){const T=u.__wdc||(u.__wdc=()=>{let L=y;for(;L;){if(L.isDeactivated)return;L=L.parent}return u()});if(Wr(c,T,y),y){let L=y.parent;for(;L&&L.parent;)Yo(L.parent.vnode)&&uh(T,c,y,L),L=L.parent}}function uh(u,c,y,T){const L=Wr(c,u,T,!0);Qo(()=>{Vs(T[c],L)},y)}function Wr(u,c,y=ui,T=!1){if(y){const L=y[u]||(y[u]=[]),b=c.__weh||(c.__weh=(...W)=>{rn();const Z=fr(y),K=Ti(c,y,u,W);return Z(),sn(),K});return T?L.unshift(b):L.push(b),b}}const qi=u=>(c,y=ui)=>{(!Kr||u==="sp")&&Wr(u,(...T)=>c(...T),y)},lh=qi("bm"),hh=qi("m"),fh=qi("bu"),ch=qi("u"),dh=qi("bum"),Qo=qi("um"),ph=qi("sp"),gh=qi("rtg"),_h=qi("rtc");function vh(u,c=ui){Wr("ec",u,c)}const mh=Symbol.for("v-ndc"),Es=u=>u?vu(u)?aa(u):Es(u.parent):null,Qn=$e(Object.create(null),{$:u=>u,$el:u=>u.vnode.el,$data:u=>u.data,$props:u=>u.props,$attrs:u=>u.attrs,$slots:u=>u.slots,$refs:u=>u.refs,$parent:u=>Es(u.parent),$root:u=>Es(u.root),$host:u=>u.ce,$emit:u=>u.emit,$options:u=>na(u),$forceUpdate:u=>u.f||(u.f=()=>{ta(u.update)}),$nextTick:u=>u.n||(u.n=jo.bind(u.proxy)),$watch:u=>Vh.bind(u)}),ds=(u,c)=>u!==Le&&!u.__isScriptSetup&&Te(u,c),yh={get({_:u},c){if(c==="__v_skip")return!0;const{ctx:y,setupState:T,data:L,props:b,accessCache:W,type:Z,appContext:K}=u;let rt;if(c[0]!=="$"){const R=W[c];if(R!==void 0)switch(R){case 1:return T[c];case 2:return L[c];case 4:return y[c];case 3:return b[c]}else{if(ds(T,c))return W[c]=1,T[c];if(L!==Le&&Te(L,c))return W[c]=2,L[c];if((rt=u.propsOptions[0])&&Te(rt,c))return W[c]=3,b[c];if(y!==Le&&Te(y,c))return W[c]=4,y[c];ks&&(W[c]=0)}}const Q=Qn[c];let Y,lt;if(Q)return c==="$attrs"&&ri(u.attrs,"get",""),Q(u);if((Y=Z.__cssModules)&&(Y=Y[c]))return Y;if(y!==Le&&Te(y,c))return W[c]=4,y[c];if(lt=K.config.globalProperties,Te(lt,c))return lt[c]},set({_:u},c,y){const{data:T,setupState:L,ctx:b}=u;return ds(L,c)?(L[c]=y,!0):T!==Le&&Te(T,c)?(T[c]=y,!0):Te(u.props,c)||c[0]==="$"&&c.slice(1)in u?!1:(b[c]=y,!0)},has({_:{data:u,setupState:c,accessCache:y,ctx:T,appContext:L,propsOptions:b}},W){let Z;return!!y[W]||u!==Le&&Te(u,W)||ds(c,W)||(Z=b[0])&&Te(Z,W)||Te(T,W)||Te(Qn,W)||Te(L.config.globalProperties,W)},defineProperty(u,c,y){return y.get!=null?u._.accessCache[c]=0:Te(y,"value")&&this.set(u,c,y.value,null),Reflect.defineProperty(u,c,y)}};function Ma(u){return fe(u)?u.reduce((c,y)=>(c[y]=null,c),{}):u}let ks=!0;function wh(u){const c=na(u),y=u.proxy,T=u.ctx;ks=!1,c.beforeCreate&&La(c.beforeCreate,u,"bc");const{data:L,computed:b,methods:W,watch:Z,provide:K,inject:rt,created:Q,beforeMount:Y,mounted:lt,beforeUpdate:R,updated:Ft,activated:ot,deactivated:Vt,beforeDestroy:ct,beforeUnmount:Yt,destroyed:St,unmounted:Rt,render:Xt,renderTracked:D,renderTriggered:$t,errorCaptured:Ne,serverPrefetch:ue,expose:Re,inheritAttrs:Ue,components:_e,directives:be,filters:It}=c;if(rt&&xh(rt,T,null),W)for(const te in W){const ae=W[te];de(ae)&&(T[te]=ae.bind(y))}if(L){const te=L.call(y,y);He(te)&&(u.data=Ur(te))}if(ks=!0,b)for(const te in b){const ae=b[te],qt=de(ae)?ae.bind(y,y):de(ae.get)?ae.get.bind(y,y):Ai,pe=!de(ae)&&de(ae.set)?ae.set.bind(y):Ai,Ze=wi({get:qt,set:pe});Object.defineProperty(T,te,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:ze=>Ze.value=ze})}if(Z)for(const te in Z)$o(Z[te],T,y,te);if(K){const te=de(K)?K.call(y):K;Reflect.ownKeys(te).forEach(ae=>{Ar(ae,te[ae])})}Q&&La(Q,u,"c");function at(te,ae){fe(ae)?ae.forEach(qt=>te(qt.bind(y))):ae&&te(ae.bind(y))}if(at(lh,Y),at(hh,lt),at(fh,R),at(ch,Ft),at(ah,ot),at(oh,Vt),at(vh,Ne),at(_h,D),at(gh,$t),at(dh,Yt),at(Qo,Rt),at(ph,ue),fe(Re))if(Re.length){const te=u.exposed||(u.exposed={});Re.forEach(ae=>{Object.defineProperty(te,ae,{get:()=>y[ae],set:qt=>y[ae]=qt})})}else u.exposed||(u.exposed={});Xt&&u.render===Ai&&(u.render=Xt),Ue!=null&&(u.inheritAttrs=Ue),_e&&(u.components=_e),be&&(u.directives=be),ue&&Xo(u)}function xh(u,c,y=Ai){fe(u)&&(u=As(u));for(const T in u){const L=u[T];let b;He(L)?"default"in L?b=Di(L.from||T,L.default,!0):b=Di(L.from||T):b=Di(L),ni(b)?Object.defineProperty(c,T,{enumerable:!0,configurable:!0,get:()=>b.value,set:W=>b.value=W}):c[T]=b}}function La(u,c,y){Ti(fe(u)?u.map(T=>T.bind(c.proxy)):u.bind(c.proxy),c,y)}function $o(u,c,y,T){let L=T.includes(".")?du(y,T):()=>y[T];if(Je(u)){const b=c[u];de(b)&&Tr(L,b)}else if(de(u))Tr(L,u.bind(y));else if(He(u))if(fe(u))u.forEach(b=>$o(b,c,y,T));else{const b=de(u.handler)?u.handler.bind(y):c[u.handler];de(b)&&Tr(L,b,u)}}function na(u){const c=u.type,{mixins:y,extends:T}=c,{mixins:L,optionsCache:b,config:{optionMergeStrategies:W}}=u.appContext,Z=b.get(c);let K;return Z?K=Z:!L.length&&!y&&!T?K=c:(K={},L.length&&L.forEach(rt=>zr(K,rt,W,!0)),zr(K,c,W)),He(c)&&b.set(c,K),K}function zr(u,c,y,T=!1){const{mixins:L,extends:b}=c;b&&zr(u,b,y,!0),L&&L.forEach(W=>zr(u,W,y,!0));for(const W in c)if(!(T&&W==="expose")){const Z=bh[W]||y&&y[W];u[W]=Z?Z(u[W],c[W]):c[W]}return u}const bh={data:Na,props:Ra,emits:Ra,methods:Gn,computed:Gn,beforeCreate:si,created:si,beforeMount:si,mounted:si,beforeUpdate:si,updated:si,beforeDestroy:si,beforeUnmount:si,destroyed:si,unmounted:si,activated:si,deactivated:si,errorCaptured:si,serverPrefetch:si,components:Gn,directives:Gn,watch:Ch,provide:Na,inject:Sh};function Na(u,c){return c?u?function(){return $e(de(u)?u.call(this,this):u,de(c)?c.call(this,this):c)}:c:u}function Sh(u,c){return Gn(As(u),As(c))}function As(u){if(fe(u)){const c={};for(let y=0;y<u.length;y++)c[u[y]]=u[y];return c}return u}function si(u,c){return u?[...new Set([].concat(u,c))]:c}function Gn(u,c){return u?$e(Object.create(null),u,c):c}function Ra(u,c){return u?fe(u)&&fe(c)?[...new Set([...u,...c])]:$e(Object.create(null),Ma(u),Ma(c??{})):c}function Ch(u,c){if(!u)return c;if(!c)return u;const y=$e(Object.create(null),u);for(const T in c)y[T]=si(u[T],c[T]);return y}function tu(){return{app:null,config:{isNativeTag:ul,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ph=0;function Ih(u,c){return function(T,L=null){de(T)||(T=$e({},T)),L!=null&&!He(L)&&(L=null);const b=tu(),W=new WeakSet,Z=[];let K=!1;const rt=b.app={_uid:Ph++,_component:T,_props:L,_container:null,_context:b,_instance:null,version:of,get config(){return b.config},set config(Q){},use(Q,...Y){return W.has(Q)||(Q&&de(Q.install)?(W.add(Q),Q.install(rt,...Y)):de(Q)&&(W.add(Q),Q(rt,...Y))),rt},mixin(Q){return b.mixins.includes(Q)||b.mixins.push(Q),rt},component(Q,Y){return Y?(b.components[Q]=Y,rt):b.components[Q]},directive(Q,Y){return Y?(b.directives[Q]=Y,rt):b.directives[Q]},mount(Q,Y,lt){if(!K){const R=rt._ceVNode||_i(T,L);return R.appContext=b,lt===!0?lt="svg":lt===!1&&(lt=void 0),Y&&c?c(R,Q):u(R,Q,lt),K=!0,rt._container=Q,Q.__vue_app__=rt,aa(R.component)}},onUnmount(Q){Z.push(Q)},unmount(){K&&(Ti(Z,rt._instance,16),u(null,rt._container),delete rt._container.__vue_app__)},provide(Q,Y){return b.provides[Q]=Y,rt},runWithContext(Q){const Y=Mn;Mn=rt;try{return Q()}finally{Mn=Y}}};return rt}}let Mn=null;function Ar(u,c){if(ui){let y=ui.provides;const T=ui.parent&&ui.parent.provides;T===y&&(y=ui.provides=Object.create(T)),y[u]=c}}function Di(u,c,y=!1){const T=ui||ki;if(T||Mn){const L=Mn?Mn._context.provides:T?T.parent==null?T.vnode.appContext&&T.vnode.appContext.provides:T.parent.provides:void 0;if(L&&u in L)return L[u];if(arguments.length>1)return y&&de(c)?c.call(T&&T.proxy):c}}const eu={},iu=()=>Object.create(eu),nu=u=>Object.getPrototypeOf(u)===eu;function Eh(u,c,y,T=!1){const L={},b=iu();u.propsDefaults=Object.create(null),ru(u,c,L,b);for(const W in u.propsOptions[0])W in L||(L[W]=void 0);y?u.props=T?L:Vo(L):u.type.props?u.props=L:u.props=b,u.attrs=b}function kh(u,c,y,T){const{props:L,attrs:b,vnode:{patchFlag:W}}=u,Z=ke(L),[K]=u.propsOptions;let rt=!1;if((T||W>0)&&!(W&16)){if(W&8){const Q=u.vnode.dynamicProps;for(let Y=0;Y<Q.length;Y++){let lt=Q[Y];if(Gr(u.emitsOptions,lt))continue;const R=c[lt];if(K)if(Te(b,lt))R!==b[lt]&&(b[lt]=R,rt=!0);else{const Ft=vn(lt);L[Ft]=Ts(K,Z,Ft,R,u,!1)}else R!==b[lt]&&(b[lt]=R,rt=!0)}}}else{ru(u,c,L,b)&&(rt=!0);let Q;for(const Y in Z)(!c||!Te(c,Y)&&((Q=yn(Y))===Y||!Te(c,Q)))&&(K?y&&(y[Y]!==void 0||y[Q]!==void 0)&&(L[Y]=Ts(K,Z,Y,void 0,u,!0)):delete L[Y]);if(b!==Z)for(const Y in b)(!c||!Te(c,Y))&&(delete b[Y],rt=!0)}rt&&Vi(u.attrs,"set","")}function ru(u,c,y,T){const[L,b]=u.propsOptions;let W=!1,Z;if(c)for(let K in c){if(Kn(K))continue;const rt=c[K];let Q;L&&Te(L,Q=vn(K))?!b||!b.includes(Q)?y[Q]=rt:(Z||(Z={}))[Q]=rt:Gr(u.emitsOptions,K)||(!(K in T)||rt!==T[K])&&(T[K]=rt,W=!0)}if(b){const K=ke(y),rt=Z||Le;for(let Q=0;Q<b.length;Q++){const Y=b[Q];y[Y]=Ts(L,K,Y,rt[Y],u,!Te(rt,Y))}}return W}function Ts(u,c,y,T,L,b){const W=u[y];if(W!=null){const Z=Te(W,"default");if(Z&&T===void 0){const K=W.default;if(W.type!==Function&&!W.skipFactory&&de(K)){const{propsDefaults:rt}=L;if(y in rt)T=rt[y];else{const Q=fr(L);T=rt[y]=K.call(null,c),Q()}}else T=K;L.ce&&L.ce._setProp(y,T)}W[0]&&(b&&!Z?T=!1:W[1]&&(T===""||T===yn(y))&&(T=!0))}return T}const Ah=new WeakMap;function su(u,c,y=!1){const T=y?Ah:c.propsCache,L=T.get(u);if(L)return L;const b=u.props,W={},Z=[];let K=!1;if(!de(u)){const Q=Y=>{K=!0;const[lt,R]=su(Y,c,!0);$e(W,lt),R&&Z.push(...R)};!y&&c.mixins.length&&c.mixins.forEach(Q),u.extends&&Q(u.extends),u.mixins&&u.mixins.forEach(Q)}if(!b&&!K)return He(u)&&T.set(u,An),An;if(fe(b))for(let Q=0;Q<b.length;Q++){const Y=vn(b[Q]);za(Y)&&(W[Y]=Le)}else if(b)for(const Q in b){const Y=vn(Q);if(za(Y)){const lt=b[Q],R=W[Y]=fe(lt)||de(lt)?{type:lt}:$e({},lt),Ft=R.type;let ot=!1,Vt=!0;if(fe(Ft))for(let ct=0;ct<Ft.length;++ct){const Yt=Ft[ct],St=de(Yt)&&Yt.name;if(St==="Boolean"){ot=!0;break}else St==="String"&&(Vt=!1)}else ot=de(Ft)&&Ft.name==="Boolean";R[0]=ot,R[1]=Vt,(ot||Te(R,"default"))&&Z.push(Y)}}const rt=[W,Z];return He(u)&&T.set(u,rt),rt}function za(u){return u[0]!=="$"&&!Kn(u)}const au=u=>u[0]==="_"||u==="$stable",ra=u=>fe(u)?u.map(Ei):[Ei(u)],Th=(u,c,y)=>{if(c._n)return c;const T=nh((...L)=>ra(c(...L)),y);return T._c=!1,T},ou=(u,c,y)=>{const T=u._ctx;for(const L in u){if(au(L))continue;const b=u[L];if(de(b))c[L]=Th(L,b,T);else if(b!=null){const W=ra(b);c[L]=()=>W}}},uu=(u,c)=>{const y=ra(c);u.slots.default=()=>y},lu=(u,c,y)=>{for(const T in c)(y||T!=="_")&&(u[T]=c[T])},Oh=(u,c,y)=>{const T=u.slots=iu();if(u.vnode.shapeFlag&32){const L=c._;L?(lu(T,c,y),y&&So(T,"_",L,!0)):ou(c,T)}else c&&uu(u,c)},Mh=(u,c,y)=>{const{vnode:T,slots:L}=u;let b=!0,W=Le;if(T.shapeFlag&32){const Z=c._;Z?y&&Z===1?b=!1:lu(L,c,y):(b=!c.$stable,ou(c,L)),W=c}else c&&(uu(u,c),W={default:1});if(b)for(const Z in L)!au(Z)&&W[Z]==null&&delete L[Z]},ci=Gh;function Lh(u){return Nh(u)}function Nh(u,c){const y=Co();y.__VUE__=!0;const{insert:T,remove:L,patchProp:b,createElement:W,createText:Z,createComment:K,setText:rt,setElementText:Q,parentNode:Y,nextSibling:lt,setScopeId:R=Ai,insertStaticContent:Ft}=u,ot=(J,et,dt,Ot=null,xt=null,Lt=null,jt=void 0,At=null,kt=!!et.dynamicChildren)=>{if(J===et)return;J&&!jn(J,et)&&(Ot=Ct(J),ze(J,xt,Lt,!0),J=null),et.patchFlag===-2&&(kt=!1,et.dynamicChildren=null);const{type:yt,ref:Zt,shapeFlag:Et}=et;switch(yt){case Zr:Vt(J,et,dt,Ot);break;case ar:ct(J,et,dt,Ot);break;case Or:J==null&&Yt(et,dt,Ot,jt);break;case Bi:_e(J,et,dt,Ot,xt,Lt,jt,At,kt);break;default:Et&1?Xt(J,et,dt,Ot,xt,Lt,jt,At,kt):Et&6?be(J,et,dt,Ot,xt,Lt,jt,At,kt):(Et&64||Et&128)&&yt.process(J,et,dt,Ot,xt,Lt,jt,At,kt,Mt)}Zt!=null&&xt&&Is(Zt,J&&J.ref,Lt,et||J,!et)},Vt=(J,et,dt,Ot)=>{if(J==null)T(et.el=Z(et.children),dt,Ot);else{const xt=et.el=J.el;et.children!==J.children&&rt(xt,et.children)}},ct=(J,et,dt,Ot)=>{J==null?T(et.el=K(et.children||""),dt,Ot):et.el=J.el},Yt=(J,et,dt,Ot)=>{[J.el,J.anchor]=Ft(J.children,et,dt,Ot,J.el,J.anchor)},St=({el:J,anchor:et},dt,Ot)=>{let xt;for(;J&&J!==et;)xt=lt(J),T(J,dt,Ot),J=xt;T(et,dt,Ot)},Rt=({el:J,anchor:et})=>{let dt;for(;J&&J!==et;)dt=lt(J),L(J),J=dt;L(et)},Xt=(J,et,dt,Ot,xt,Lt,jt,At,kt)=>{et.type==="svg"?jt="svg":et.type==="math"&&(jt="mathml"),J==null?D(et,dt,Ot,xt,Lt,jt,At,kt):ue(J,et,xt,Lt,jt,At,kt)},D=(J,et,dt,Ot,xt,Lt,jt,At)=>{let kt,yt;const{props:Zt,shapeFlag:Et,transition:n,dirs:t}=J;if(kt=J.el=W(J.type,Lt,Zt&&Zt.is,Zt),Et&8?Q(kt,J.children):Et&16&&Ne(J.children,kt,null,Ot,xt,ps(J,Lt),jt,At),t&&dn(J,null,Ot,"created"),$t(kt,J,J.scopeId,jt,Ot),Zt){for(const i in Zt)i!=="value"&&!Kn(i)&&b(kt,i,null,Zt[i],Lt,Ot);"value"in Zt&&b(kt,"value",null,Zt.value,Lt),(yt=Zt.onVnodeBeforeMount)&&Pi(yt,Ot,J)}t&&dn(J,null,Ot,"beforeMount");const e=Rh(xt,n);e&&n.beforeEnter(kt),T(kt,et,dt),((yt=Zt&&Zt.onVnodeMounted)||e||t)&&ci(()=>{yt&&Pi(yt,Ot,J),e&&n.enter(kt),t&&dn(J,null,Ot,"mounted")},xt)},$t=(J,et,dt,Ot,xt)=>{if(dt&&R(J,dt),Ot)for(let Lt=0;Lt<Ot.length;Lt++)R(J,Ot[Lt]);if(xt){let Lt=xt.subTree;if(et===Lt||gu(Lt.type)&&(Lt.ssContent===et||Lt.ssFallback===et)){const jt=xt.vnode;$t(J,jt,jt.scopeId,jt.slotScopeIds,xt.parent)}}},Ne=(J,et,dt,Ot,xt,Lt,jt,At,kt=0)=>{for(let yt=kt;yt<J.length;yt++){const Zt=J[yt]=At?$i(J[yt]):Ei(J[yt]);ot(null,Zt,et,dt,Ot,xt,Lt,jt,At)}},ue=(J,et,dt,Ot,xt,Lt,jt)=>{const At=et.el=J.el;let{patchFlag:kt,dynamicChildren:yt,dirs:Zt}=et;kt|=J.patchFlag&16;const Et=J.props||Le,n=et.props||Le;let t;if(dt&&pn(dt,!1),(t=n.onVnodeBeforeUpdate)&&Pi(t,dt,et,J),Zt&&dn(et,J,dt,"beforeUpdate"),dt&&pn(dt,!0),(Et.innerHTML&&n.innerHTML==null||Et.textContent&&n.textContent==null)&&Q(At,""),yt?Re(J.dynamicChildren,yt,At,dt,Ot,ps(et,xt),Lt):jt||ae(J,et,At,null,dt,Ot,ps(et,xt),Lt,!1),kt>0){if(kt&16)Ue(At,Et,n,dt,xt);else if(kt&2&&Et.class!==n.class&&b(At,"class",null,n.class,xt),kt&4&&b(At,"style",Et.style,n.style,xt),kt&8){const e=et.dynamicProps;for(let i=0;i<e.length;i++){const r=e[i],s=Et[r],a=n[r];(a!==s||r==="value")&&b(At,r,s,a,xt,dt)}}kt&1&&J.children!==et.children&&Q(At,et.children)}else!jt&&yt==null&&Ue(At,Et,n,dt,xt);((t=n.onVnodeUpdated)||Zt)&&ci(()=>{t&&Pi(t,dt,et,J),Zt&&dn(et,J,dt,"updated")},Ot)},Re=(J,et,dt,Ot,xt,Lt,jt)=>{for(let At=0;At<et.length;At++){const kt=J[At],yt=et[At],Zt=kt.el&&(kt.type===Bi||!jn(kt,yt)||kt.shapeFlag&70)?Y(kt.el):dt;ot(kt,yt,Zt,null,Ot,xt,Lt,jt,!0)}},Ue=(J,et,dt,Ot,xt)=>{if(et!==dt){if(et!==Le)for(const Lt in et)!Kn(Lt)&&!(Lt in dt)&&b(J,Lt,et[Lt],null,xt,Ot);for(const Lt in dt){if(Kn(Lt))continue;const jt=dt[Lt],At=et[Lt];jt!==At&&Lt!=="value"&&b(J,Lt,At,jt,xt,Ot)}"value"in dt&&b(J,"value",et.value,dt.value,xt)}},_e=(J,et,dt,Ot,xt,Lt,jt,At,kt)=>{const yt=et.el=J?J.el:Z(""),Zt=et.anchor=J?J.anchor:Z("");let{patchFlag:Et,dynamicChildren:n,slotScopeIds:t}=et;t&&(At=At?At.concat(t):t),J==null?(T(yt,dt,Ot),T(Zt,dt,Ot),Ne(et.children||[],dt,Zt,xt,Lt,jt,At,kt)):Et>0&&Et&64&&n&&J.dynamicChildren?(Re(J.dynamicChildren,n,dt,xt,Lt,jt,At),(et.key!=null||xt&&et===xt.subTree)&&hu(J,et,!0)):ae(J,et,dt,Zt,xt,Lt,jt,At,kt)},be=(J,et,dt,Ot,xt,Lt,jt,At,kt)=>{et.slotScopeIds=At,J==null?et.shapeFlag&512?xt.ctx.activate(et,dt,Ot,jt,kt):It(et,dt,Ot,xt,Lt,jt,kt):ti(J,et,kt)},It=(J,et,dt,Ot,xt,Lt,jt)=>{const At=J.component=tf(J,Ot,xt);if(Yo(J)&&(At.ctx.renderer=Mt),ef(At,!1,jt),At.asyncDep){if(xt&&xt.registerDep(At,at,jt),!J.el){const kt=At.subTree=_i(ar);ct(null,kt,et,dt)}}else at(At,J,et,dt,xt,Lt,jt)},ti=(J,et,dt)=>{const Ot=et.component=J.component;if(jh(J,et,dt))if(Ot.asyncDep&&!Ot.asyncResolved){te(Ot,et,dt);return}else Ot.next=et,Ot.update();else et.el=J.el,Ot.vnode=et},at=(J,et,dt,Ot,xt,Lt,jt)=>{const At=()=>{if(J.isMounted){let{next:Et,bu:n,u:t,parent:e,vnode:i}=J;{const h=fu(J);if(h){Et&&(Et.el=i.el,te(J,Et,jt)),h.asyncDep.then(()=>{J.isUnmounted||At()});return}}let r=Et,s;pn(J,!1),Et?(Et.el=i.el,te(J,Et,jt)):Et=i,n&&ls(n),(s=Et.props&&Et.props.onVnodeBeforeUpdate)&&Pi(s,e,Et,i),pn(J,!0);const a=gs(J),l=J.subTree;J.subTree=a,ot(l,a,Y(l.el),Ct(l),J,xt,Lt),Et.el=a.el,r===null&&Wh(J,a.el),t&&ci(t,xt),(s=Et.props&&Et.props.onVnodeUpdated)&&ci(()=>Pi(s,e,Et,i),xt)}else{let Et;const{el:n,props:t}=et,{bm:e,m:i,parent:r,root:s,type:a}=J,l=Jn(et);if(pn(J,!1),e&&ls(e),!l&&(Et=t&&t.onVnodeBeforeMount)&&Pi(Et,r,et),pn(J,!0),n&&Ie){const h=()=>{J.subTree=gs(J),Ie(n,J.subTree,J,xt,null)};l&&a.__asyncHydrate?a.__asyncHydrate(n,J,h):h()}else{s.ce&&s.ce._injectChildStyle(a);const h=J.subTree=gs(J);ot(null,h,dt,Ot,J,xt,Lt),et.el=h.el}if(i&&ci(i,xt),!l&&(Et=t&&t.onVnodeMounted)){const h=et;ci(()=>Pi(Et,r,h),xt)}(et.shapeFlag&256||r&&Jn(r.vnode)&&r.vnode.shapeFlag&256)&&J.a&&ci(J.a,xt),J.isMounted=!0,et=dt=Ot=null}};J.scope.on();const kt=J.effect=new Io(At);J.scope.off();const yt=J.update=kt.run.bind(kt),Zt=J.job=kt.runIfDirty.bind(kt);Zt.i=J,Zt.id=J.uid,kt.scheduler=()=>ta(Zt),pn(J,!0),yt()},te=(J,et,dt)=>{et.component=J;const Ot=J.vnode.props;J.vnode=et,J.next=null,kh(J,et.props,Ot,dt),Mh(J,et.children,dt),rn(),Oa(J),sn()},ae=(J,et,dt,Ot,xt,Lt,jt,At,kt=!1)=>{const yt=J&&J.children,Zt=J?J.shapeFlag:0,Et=et.children,{patchFlag:n,shapeFlag:t}=et;if(n>0){if(n&128){pe(yt,Et,dt,Ot,xt,Lt,jt,At,kt);return}else if(n&256){qt(yt,Et,dt,Ot,xt,Lt,jt,At,kt);return}}t&8?(Zt&16&&Fe(yt,xt,Lt),Et!==yt&&Q(dt,Et)):Zt&16?t&16?pe(yt,Et,dt,Ot,xt,Lt,jt,At,kt):Fe(yt,xt,Lt,!0):(Zt&8&&Q(dt,""),t&16&&Ne(Et,dt,Ot,xt,Lt,jt,At,kt))},qt=(J,et,dt,Ot,xt,Lt,jt,At,kt)=>{J=J||An,et=et||An;const yt=J.length,Zt=et.length,Et=Math.min(yt,Zt);let n;for(n=0;n<Et;n++){const t=et[n]=kt?$i(et[n]):Ei(et[n]);ot(J[n],t,dt,null,xt,Lt,jt,At,kt)}yt>Zt?Fe(J,xt,Lt,!0,!1,Et):Ne(et,dt,Ot,xt,Lt,jt,At,kt,Et)},pe=(J,et,dt,Ot,xt,Lt,jt,At,kt)=>{let yt=0;const Zt=et.length;let Et=J.length-1,n=Zt-1;for(;yt<=Et&&yt<=n;){const t=J[yt],e=et[yt]=kt?$i(et[yt]):Ei(et[yt]);if(jn(t,e))ot(t,e,dt,null,xt,Lt,jt,At,kt);else break;yt++}for(;yt<=Et&&yt<=n;){const t=J[Et],e=et[n]=kt?$i(et[n]):Ei(et[n]);if(jn(t,e))ot(t,e,dt,null,xt,Lt,jt,At,kt);else break;Et--,n--}if(yt>Et){if(yt<=n){const t=n+1,e=t<Zt?et[t].el:Ot;for(;yt<=n;)ot(null,et[yt]=kt?$i(et[yt]):Ei(et[yt]),dt,e,xt,Lt,jt,At,kt),yt++}}else if(yt>n)for(;yt<=Et;)ze(J[yt],xt,Lt,!0),yt++;else{const t=yt,e=yt,i=new Map;for(yt=e;yt<=n;yt++){const _=et[yt]=kt?$i(et[yt]):Ei(et[yt]);_.key!=null&&i.set(_.key,yt)}let r,s=0;const a=n-e+1;let l=!1,h=0;const f=new Array(a);for(yt=0;yt<a;yt++)f[yt]=0;for(yt=t;yt<=Et;yt++){const _=J[yt];if(s>=a){ze(_,xt,Lt,!0);continue}let g;if(_.key!=null)g=i.get(_.key);else for(r=e;r<=n;r++)if(f[r-e]===0&&jn(_,et[r])){g=r;break}g===void 0?ze(_,xt,Lt,!0):(f[g-e]=yt+1,g>=h?h=g:l=!0,ot(_,et[g],dt,null,xt,Lt,jt,At,kt),s++)}const d=l?zh(f):An;for(r=d.length-1,yt=a-1;yt>=0;yt--){const _=e+yt,g=et[_],p=_+1<Zt?et[_+1].el:Ot;f[yt]===0?ot(null,g,dt,p,xt,Lt,jt,At,kt):l&&(r<0||yt!==d[r]?Ze(g,dt,p,2):r--)}}},Ze=(J,et,dt,Ot,xt=null)=>{const{el:Lt,type:jt,transition:At,children:kt,shapeFlag:yt}=J;if(yt&6){Ze(J.component.subTree,et,dt,Ot);return}if(yt&128){J.suspense.move(et,dt,Ot);return}if(yt&64){jt.move(J,et,dt,Mt);return}if(jt===Bi){T(Lt,et,dt);for(let Et=0;Et<kt.length;Et++)Ze(kt[Et],et,dt,Ot);T(J.anchor,et,dt);return}if(jt===Or){St(J,et,dt);return}if(Ot!==2&&yt&1&&At)if(Ot===0)At.beforeEnter(Lt),T(Lt,et,dt),ci(()=>At.enter(Lt),xt);else{const{leave:Et,delayLeave:n,afterLeave:t}=At,e=()=>T(Lt,et,dt),i=()=>{Et(Lt,()=>{e(),t&&t()})};n?n(Lt,e,i):i()}else T(Lt,et,dt)},ze=(J,et,dt,Ot=!1,xt=!1)=>{const{type:Lt,props:jt,ref:At,children:kt,dynamicChildren:yt,shapeFlag:Zt,patchFlag:Et,dirs:n,cacheIndex:t}=J;if(Et===-2&&(xt=!1),At!=null&&Is(At,null,dt,J,!0),t!=null&&(et.renderCache[t]=void 0),Zt&256){et.ctx.deactivate(J);return}const e=Zt&1&&n,i=!Jn(J);let r;if(i&&(r=jt&&jt.onVnodeBeforeUnmount)&&Pi(r,et,J),Zt&6)ne(J.component,dt,Ot);else{if(Zt&128){J.suspense.unmount(dt,Ot);return}e&&dn(J,null,et,"beforeUnmount"),Zt&64?J.type.remove(J,et,dt,Mt,Ot):yt&&!yt.hasOnce&&(Lt!==Bi||Et>0&&Et&64)?Fe(yt,et,dt,!1,!0):(Lt===Bi&&Et&384||!xt&&Zt&16)&&Fe(kt,et,dt),Ot&&Ve(J)}(i&&(r=jt&&jt.onVnodeUnmounted)||e)&&ci(()=>{r&&Pi(r,et,J),e&&dn(J,null,et,"unmounted")},dt)},Ve=J=>{const{type:et,el:dt,anchor:Ot,transition:xt}=J;if(et===Bi){li(dt,Ot);return}if(et===Or){Rt(J);return}const Lt=()=>{L(dt),xt&&!xt.persisted&&xt.afterLeave&&xt.afterLeave()};if(J.shapeFlag&1&&xt&&!xt.persisted){const{leave:jt,delayLeave:At}=xt,kt=()=>jt(dt,Lt);At?At(J.el,Lt,kt):kt()}else Lt()},li=(J,et)=>{let dt;for(;J!==et;)dt=lt(J),L(J),J=dt;L(et)},ne=(J,et,dt)=>{const{bum:Ot,scope:xt,job:Lt,subTree:jt,um:At,m:kt,a:yt}=J;Fa(kt),Fa(yt),Ot&&ls(Ot),xt.stop(),Lt&&(Lt.flags|=8,ze(jt,J,et,dt)),At&&ci(At,et),ci(()=>{J.isUnmounted=!0},et),et&&et.pendingBranch&&!et.isUnmounted&&J.asyncDep&&!J.asyncResolved&&J.suspenseId===et.pendingId&&(et.deps--,et.deps===0&&et.resolve())},Fe=(J,et,dt,Ot=!1,xt=!1,Lt=0)=>{for(let jt=Lt;jt<J.length;jt++)ze(J[jt],et,dt,Ot,xt)},Ct=J=>{if(J.shapeFlag&6)return Ct(J.component.subTree);if(J.shapeFlag&128)return J.suspense.next();const et=lt(J.anchor||J.el),dt=et&&et[rh];return dt?lt(dt):et};let Kt=!1;const bt=(J,et,dt)=>{J==null?et._vnode&&ze(et._vnode,null,null,!0):ot(et._vnode||null,J,et,null,null,null,dt),et._vnode=J,Kt||(Kt=!0,Oa(),Go(),Kt=!1)},Mt={p:ot,um:ze,m:Ze,r:Ve,mt:It,mc:Ne,pc:ae,pbc:Re,n:Ct,o:u};let Gt,Ie;return{render:bt,hydrate:Gt,createApp:Ih(bt,Gt)}}function ps({type:u,props:c},y){return y==="svg"&&u==="foreignObject"||y==="mathml"&&u==="annotation-xml"&&c&&c.encoding&&c.encoding.includes("html")?void 0:y}function pn({effect:u,job:c},y){y?(u.flags|=32,c.flags|=4):(u.flags&=-33,c.flags&=-5)}function Rh(u,c){return(!u||u&&!u.pendingBranch)&&c&&!c.persisted}function hu(u,c,y=!1){const T=u.children,L=c.children;if(fe(T)&&fe(L))for(let b=0;b<T.length;b++){const W=T[b];let Z=L[b];Z.shapeFlag&1&&!Z.dynamicChildren&&((Z.patchFlag<=0||Z.patchFlag===32)&&(Z=L[b]=$i(L[b]),Z.el=W.el),!y&&Z.patchFlag!==-2&&hu(W,Z)),Z.type===Zr&&(Z.el=W.el)}}function zh(u){const c=u.slice(),y=[0];let T,L,b,W,Z;const K=u.length;for(T=0;T<K;T++){const rt=u[T];if(rt!==0){if(L=y[y.length-1],u[L]<rt){c[T]=L,y.push(T);continue}for(b=0,W=y.length-1;b<W;)Z=b+W>>1,u[y[Z]]<rt?b=Z+1:W=Z;rt<u[y[b]]&&(b>0&&(c[T]=y[b-1]),y[b]=T)}}for(b=y.length,W=y[b-1];b-- >0;)y[b]=W,W=c[W];return y}function fu(u){const c=u.subTree.component;if(c)return c.asyncDep&&!c.asyncResolved?c:fu(c)}function Fa(u){if(u)for(let c=0;c<u.length;c++)u[c].flags|=8}const Fh=Symbol.for("v-scx"),Bh=()=>Di(Fh);function Tr(u,c,y){return cu(u,c,y)}function cu(u,c,y=Le){const{immediate:T,deep:L,flush:b,once:W}=y,Z=$e({},y);let K;if(Kr)if(b==="sync"){const lt=Bh();K=lt.__watcherHandles||(lt.__watcherHandles=[])}else if(!c||T)Z.once=!0;else return{stop:Ai,resume:Ai,pause:Ai};const rt=ui;Z.call=(lt,R,Ft)=>Ti(lt,rt,R,Ft);let Q=!1;b==="post"?Z.scheduler=lt=>{ci(lt,rt&&rt.suspense)}:b!=="sync"&&(Q=!0,Z.scheduler=(lt,R)=>{R?lt():ta(lt)}),Z.augmentJob=lt=>{c&&(lt.flags|=4),Q&&(lt.flags|=2,rt&&(lt.id=rt.uid,lt.i=rt))};const Y=$l(u,c,Z);return K&&K.push(Y),Y}function Vh(u,c,y){const T=this.proxy,L=Je(u)?u.includes(".")?du(T,u):()=>T[u]:u.bind(T,T);let b;de(c)?b=c:(b=c.handler,y=c);const W=fr(this),Z=cu(L,b.bind(T),y);return W(),Z}function du(u,c){const y=c.split(".");return()=>{let T=u;for(let L=0;L<y.length&&T;L++)T=T[y[L]];return T}}const Dh=(u,c)=>c==="modelValue"||c==="model-value"?u.modelModifiers:u[`${c}Modifiers`]||u[`${vn(c)}Modifiers`]||u[`${yn(c)}Modifiers`];function qh(u,c,...y){if(u.isUnmounted)return;const T=u.vnode.props||Le;let L=y;const b=c.startsWith("update:"),W=b&&Dh(T,c.slice(7));W&&(W.trim&&(L=y.map(Q=>Je(Q)?Q.trim():Q)),W.number&&(L=y.map(_l)));let Z,K=T[Z=us(c)]||T[Z=us(vn(c))];!K&&b&&(K=T[Z=us(yn(c))]),K&&Ti(K,u,6,L);const rt=T[Z+"Once"];if(rt){if(!u.emitted)u.emitted={};else if(u.emitted[Z])return;u.emitted[Z]=!0,Ti(rt,u,6,L)}}function pu(u,c,y=!1){const T=c.emitsCache,L=T.get(u);if(L!==void 0)return L;const b=u.emits;let W={},Z=!1;if(!de(u)){const K=rt=>{const Q=pu(rt,c,!0);Q&&(Z=!0,$e(W,Q))};!y&&c.mixins.length&&c.mixins.forEach(K),u.extends&&K(u.extends),u.mixins&&u.mixins.forEach(K)}return!b&&!Z?(He(u)&&T.set(u,null),null):(fe(b)?b.forEach(K=>W[K]=null):$e(W,b),He(u)&&T.set(u,W),W)}function Gr(u,c){return!u||!Vr(c)?!1:(c=c.slice(2).replace(/Once$/,""),Te(u,c[0].toLowerCase()+c.slice(1))||Te(u,yn(c))||Te(u,c))}function gs(u){const{type:c,vnode:y,proxy:T,withProxy:L,propsOptions:[b],slots:W,attrs:Z,emit:K,render:rt,renderCache:Q,props:Y,data:lt,setupState:R,ctx:Ft,inheritAttrs:ot}=u,Vt=Rr(u);let ct,Yt;try{if(y.shapeFlag&4){const Rt=L||T,Xt=Rt;ct=Ei(rt.call(Xt,Rt,Q,Y,R,lt,Ft)),Yt=Z}else{const Rt=c;ct=Ei(Rt.length>1?Rt(Y,{attrs:Z,slots:W,emit:K}):Rt(Y,null)),Yt=c.props?Z:Hh(Z)}}catch(Rt){$n.length=0,jr(Rt,u,1),ct=_i(ar)}let St=ct;if(Yt&&ot!==!1){const Rt=Object.keys(Yt),{shapeFlag:Xt}=St;Rt.length&&Xt&7&&(b&&Rt.some(Bs)&&(Yt=Uh(Yt,b)),St=Ln(St,Yt,!1,!0))}return y.dirs&&(St=Ln(St,null,!1,!0),St.dirs=St.dirs?St.dirs.concat(y.dirs):y.dirs),y.transition&&ea(St,y.transition),ct=St,Rr(Vt),ct}const Hh=u=>{let c;for(const y in u)(y==="class"||y==="style"||Vr(y))&&((c||(c={}))[y]=u[y]);return c},Uh=(u,c)=>{const y={};for(const T in u)(!Bs(T)||!(T.slice(9)in c))&&(y[T]=u[T]);return y};function jh(u,c,y){const{props:T,children:L,component:b}=u,{props:W,children:Z,patchFlag:K}=c,rt=b.emitsOptions;if(c.dirs||c.transition)return!0;if(y&&K>=0){if(K&1024)return!0;if(K&16)return T?Ba(T,W,rt):!!W;if(K&8){const Q=c.dynamicProps;for(let Y=0;Y<Q.length;Y++){const lt=Q[Y];if(W[lt]!==T[lt]&&!Gr(rt,lt))return!0}}}else return(L||Z)&&(!Z||!Z.$stable)?!0:T===W?!1:T?W?Ba(T,W,rt):!0:!!W;return!1}function Ba(u,c,y){const T=Object.keys(c);if(T.length!==Object.keys(u).length)return!0;for(let L=0;L<T.length;L++){const b=T[L];if(c[b]!==u[b]&&!Gr(y,b))return!0}return!1}function Wh({vnode:u,parent:c},y){for(;c;){const T=c.subTree;if(T.suspense&&T.suspense.activeBranch===u&&(T.el=u.el),T===u)(u=c.vnode).el=y,c=c.parent;else break}}const gu=u=>u.__isSuspense;function Gh(u,c){c&&c.pendingBranch?fe(u)?c.effects.push(...u):c.effects.push(u):ih(u)}const Bi=Symbol.for("v-fgt"),Zr=Symbol.for("v-txt"),ar=Symbol.for("v-cmt"),Or=Symbol.for("v-stc"),$n=[];let pi=null;function Va(u=!1){$n.push(pi=u?null:[])}function Zh(){$n.pop(),pi=$n[$n.length-1]||null}let or=1;function Da(u){or+=u,u<0&&pi&&(pi.hasOnce=!0)}function Kh(u){return u.dynamicChildren=or>0?pi||An:null,Zh(),or>0&&pi&&pi.push(u),u}function qa(u,c,y,T,L,b){return Kh(xe(u,c,y,T,L,b,!0))}function Os(u){return u?u.__v_isVNode===!0:!1}function jn(u,c){return u.type===c.type&&u.key===c.key}const _u=({key:u})=>u??null,Mr=({ref:u,ref_key:c,ref_for:y})=>(typeof u=="number"&&(u=""+u),u!=null?Je(u)||ni(u)||de(u)?{i:ki,r:u,k:c,f:!!y}:u:null);function xe(u,c=null,y=null,T=0,L=null,b=u===Bi?0:1,W=!1,Z=!1){const K={__v_isVNode:!0,__v_skip:!0,type:u,props:c,key:c&&_u(c),ref:c&&Mr(c),scopeId:Ko,slotScopeIds:null,children:y,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:b,patchFlag:T,dynamicProps:L,dynamicChildren:null,appContext:null,ctx:ki};return Z?(sa(K,y),b&128&&u.normalize(K)):y&&(K.shapeFlag|=Je(y)?8:16),or>0&&!W&&pi&&(K.patchFlag>0||b&6)&&K.patchFlag!==32&&pi.push(K),K}const _i=Xh;function Xh(u,c=null,y=null,T=0,L=null,b=!1){if((!u||u===mh)&&(u=ar),Os(u)){const Z=Ln(u,c,!0);return y&&sa(Z,y),or>0&&!b&&pi&&(Z.shapeFlag&6?pi[pi.indexOf(u)]=Z:pi.push(Z)),Z.patchFlag=-2,Z}if(af(u)&&(u=u.__vccOpts),c){c=Yh(c);let{class:Z,style:K}=c;Z&&!Je(Z)&&(c.class=Hs(Z)),He(K)&&(Js(K)&&!fe(K)&&(K=$e({},K)),c.style=qs(K))}const W=Je(u)?1:gu(u)?128:sh(u)?64:He(u)?4:de(u)?2:0;return xe(u,c,y,T,L,W,b,!0)}function Yh(u){return u?Js(u)||nu(u)?$e({},u):u:null}function Ln(u,c,y=!1,T=!1){const{props:L,ref:b,patchFlag:W,children:Z,transition:K}=u,rt=c?Jh(L||{},c):L,Q={__v_isVNode:!0,__v_skip:!0,type:u.type,props:rt,key:rt&&_u(rt),ref:c&&c.ref?y&&b?fe(b)?b.concat(Mr(c)):[b,Mr(c)]:Mr(c):b,scopeId:u.scopeId,slotScopeIds:u.slotScopeIds,children:Z,target:u.target,targetStart:u.targetStart,targetAnchor:u.targetAnchor,staticCount:u.staticCount,shapeFlag:u.shapeFlag,patchFlag:c&&u.type!==Bi?W===-1?16:W|16:W,dynamicProps:u.dynamicProps,dynamicChildren:u.dynamicChildren,appContext:u.appContext,dirs:u.dirs,transition:K,component:u.component,suspense:u.suspense,ssContent:u.ssContent&&Ln(u.ssContent),ssFallback:u.ssFallback&&Ln(u.ssFallback),el:u.el,anchor:u.anchor,ctx:u.ctx,ce:u.ce};return K&&T&&ea(Q,K.clone(Q)),Q}function Ji(u=" ",c=0){return _i(Zr,null,u,c)}function Xi(u,c){const y=_i(Or,null,u);return y.staticCount=c,y}function Ei(u){return u==null||typeof u=="boolean"?_i(ar):fe(u)?_i(Bi,null,u.slice()):typeof u=="object"?$i(u):_i(Zr,null,String(u))}function $i(u){return u.el===null&&u.patchFlag!==-1||u.memo?u:Ln(u)}function sa(u,c){let y=0;const{shapeFlag:T}=u;if(c==null)c=null;else if(fe(c))y=16;else if(typeof c=="object")if(T&65){const L=c.default;L&&(L._c&&(L._d=!1),sa(u,L()),L._c&&(L._d=!0));return}else{y=32;const L=c._;!L&&!nu(c)?c._ctx=ki:L===3&&ki&&(ki.slots._===1?c._=1:(c._=2,u.patchFlag|=1024))}else de(c)?(c={default:c,_ctx:ki},y=32):(c=String(c),T&64?(y=16,c=[Ji(c)]):y=8);u.children=c,u.shapeFlag|=y}function Jh(...u){const c={};for(let y=0;y<u.length;y++){const T=u[y];for(const L in T)if(L==="class")c.class!==T.class&&(c.class=Hs([c.class,T.class]));else if(L==="style")c.style=qs([c.style,T.style]);else if(Vr(L)){const b=c[L],W=T[L];W&&b!==W&&!(fe(b)&&b.includes(W))&&(c[L]=b?[].concat(b,W):W)}else L!==""&&(c[L]=T[L])}return c}function Pi(u,c,y,T=null){Ti(u,c,7,[y,T])}const Qh=tu();let $h=0;function tf(u,c,y){const T=u.type,L=(c?c.appContext:u.appContext)||Qh,b={uid:$h++,vnode:u,type:T,parent:c,appContext:L,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Sl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:c?c.provides:Object.create(L.provides),ids:c?c.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:su(T,L),emitsOptions:pu(T,L),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:T.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:y,suspenseId:y?y.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return b.ctx={_:b},b.root=c?c.root:b,b.emit=qh.bind(null,b),u.ce&&u.ce(b),b}let ui=null,Fr,Ms;{const u=Co(),c=(y,T)=>{let L;return(L=u[y])||(L=u[y]=[]),L.push(T),b=>{L.length>1?L.forEach(W=>W(b)):L[0](b)}};Fr=c("__VUE_INSTANCE_SETTERS__",y=>ui=y),Ms=c("__VUE_SSR_SETTERS__",y=>Kr=y)}const fr=u=>{const c=ui;return Fr(u),u.scope.on(),()=>{u.scope.off(),Fr(c)}},Ha=()=>{ui&&ui.scope.off(),Fr(null)};function vu(u){return u.vnode.shapeFlag&4}let Kr=!1;function ef(u,c=!1,y=!1){c&&Ms(c);const{props:T,children:L}=u.vnode,b=vu(u);Eh(u,T,b,c),Oh(u,L,y);const W=b?nf(u,c):void 0;return c&&Ms(!1),W}function nf(u,c){const y=u.type;u.accessCache=Object.create(null),u.proxy=new Proxy(u.ctx,yh);const{setup:T}=y;if(T){const L=u.setupContext=T.length>1?sf(u):null,b=fr(u);rn();const W=hr(T,u,0,[u.props,L]);if(sn(),b(),xo(W)){if(Jn(u)||Xo(u),W.then(Ha,Ha),c)return W.then(Z=>{Ua(u,Z,c)}).catch(Z=>{jr(Z,u,0)});u.asyncDep=W}else Ua(u,W,c)}else mu(u,c)}function Ua(u,c,y){de(c)?u.type.__ssrInlineRender?u.ssrRender=c:u.render=c:He(c)&&(u.setupState=Ho(c)),mu(u,y)}let ja;function mu(u,c,y){const T=u.type;if(!u.render){if(!c&&ja&&!T.render){const L=T.template||na(u).template;if(L){const{isCustomElement:b,compilerOptions:W}=u.appContext.config,{delimiters:Z,compilerOptions:K}=T,rt=$e($e({isCustomElement:b,delimiters:Z},W),K);T.render=ja(L,rt)}}u.render=T.render||Ai}{const L=fr(u);rn();try{wh(u)}finally{sn(),L()}}}const rf={get(u,c){return ri(u,"get",""),u[c]}};function sf(u){const c=y=>{u.exposed=y||{}};return{attrs:new Proxy(u.attrs,rf),slots:u.slots,emit:u.emit,expose:c}}function aa(u){return u.exposed?u.exposeProxy||(u.exposeProxy=new Proxy(Ho(Wl(u.exposed)),{get(c,y){if(y in c)return c[y];if(y in Qn)return Qn[y](u)},has(c,y){return y in c||y in Qn}})):u.proxy}function af(u){return de(u)&&"__vccOpts"in u}const wi=(u,c)=>Jl(u,c,Kr);function yu(u,c,y){const T=arguments.length;return T===2?He(c)&&!fe(c)?Os(c)?_i(u,null,[c]):_i(u,c):_i(u,null,c):(T>3?y=Array.prototype.slice.call(arguments,2):T===3&&Os(y)&&(y=[y]),_i(u,c,y))}const of="3.5.3";/**
* @vue/runtime-dom v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ls;const Wa=typeof window<"u"&&window.trustedTypes;if(Wa)try{Ls=Wa.createPolicy("vue",{createHTML:u=>u})}catch{}const wu=Ls?u=>Ls.createHTML(u):u=>u,uf="http://www.w3.org/2000/svg",lf="http://www.w3.org/1998/Math/MathML",Fi=typeof document<"u"?document:null,Ga=Fi&&Fi.createElement("template"),hf={insert:(u,c,y)=>{c.insertBefore(u,y||null)},remove:u=>{const c=u.parentNode;c&&c.removeChild(u)},createElement:(u,c,y,T)=>{const L=c==="svg"?Fi.createElementNS(uf,u):c==="mathml"?Fi.createElementNS(lf,u):y?Fi.createElement(u,{is:y}):Fi.createElement(u);return u==="select"&&T&&T.multiple!=null&&L.setAttribute("multiple",T.multiple),L},createText:u=>Fi.createTextNode(u),createComment:u=>Fi.createComment(u),setText:(u,c)=>{u.nodeValue=c},setElementText:(u,c)=>{u.textContent=c},parentNode:u=>u.parentNode,nextSibling:u=>u.nextSibling,querySelector:u=>Fi.querySelector(u),setScopeId(u,c){u.setAttribute(c,"")},insertStaticContent(u,c,y,T,L,b){const W=y?y.previousSibling:c.lastChild;if(L&&(L===b||L.nextSibling))for(;c.insertBefore(L.cloneNode(!0),y),!(L===b||!(L=L.nextSibling)););else{Ga.innerHTML=wu(T==="svg"?`<svg>${u}</svg>`:T==="mathml"?`<math>${u}</math>`:u);const Z=Ga.content;if(T==="svg"||T==="mathml"){const K=Z.firstChild;for(;K.firstChild;)Z.appendChild(K.firstChild);Z.removeChild(K)}c.insertBefore(Z,y)}return[W?W.nextSibling:c.firstChild,y?y.previousSibling:c.lastChild]}},ff=Symbol("_vtc");function cf(u,c,y){const T=u[ff];T&&(c=(c?[c,...T]:[...T]).join(" ")),c==null?u.removeAttribute("class"):y?u.setAttribute("class",c):u.className=c}const Za=Symbol("_vod"),df=Symbol("_vsh"),pf=Symbol(""),gf=/(^|;)\s*display\s*:/;function _f(u,c,y){const T=u.style,L=Je(y);let b=!1;if(y&&!L){if(c)if(Je(c))for(const W of c.split(";")){const Z=W.slice(0,W.indexOf(":")).trim();y[Z]==null&&Lr(T,Z,"")}else for(const W in c)y[W]==null&&Lr(T,W,"");for(const W in y)W==="display"&&(b=!0),Lr(T,W,y[W])}else if(L){if(c!==y){const W=T[pf];W&&(y+=";"+W),T.cssText=y,b=gf.test(y)}}else c&&u.removeAttribute("style");Za in u&&(u[Za]=b?T.display:"",u[df]&&(T.display="none"))}const Ka=/\s*!important$/;function Lr(u,c,y){if(fe(y))y.forEach(T=>Lr(u,c,T));else if(y==null&&(y=""),c.startsWith("--"))u.setProperty(c,y);else{const T=vf(u,c);Ka.test(y)?u.setProperty(yn(T),y.replace(Ka,""),"important"):u[T]=y}}const Xa=["Webkit","Moz","ms"],_s={};function vf(u,c){const y=_s[c];if(y)return y;let T=vn(c);if(T!=="filter"&&T in u)return _s[c]=T;T=bo(T);for(let L=0;L<Xa.length;L++){const b=Xa[L]+T;if(b in u)return _s[c]=b}return c}const Ya="http://www.w3.org/1999/xlink";function Ja(u,c,y,T,L,b=bl(c)){T&&c.startsWith("xlink:")?y==null?u.removeAttributeNS(Ya,c.slice(6,c.length)):u.setAttributeNS(Ya,c,y):y==null||b&&!Po(y)?u.removeAttribute(c):u.setAttribute(c,b?"":zn(y)?String(y):y)}function mf(u,c,y,T){if(c==="innerHTML"||c==="textContent"){y!=null&&(u[c]=c==="innerHTML"?wu(y):y);return}const L=u.tagName;if(c==="value"&&L!=="PROGRESS"&&!L.includes("-")){const W=L==="OPTION"?u.getAttribute("value")||"":u.value,Z=y==null?u.type==="checkbox"?"on":"":String(y);(W!==Z||!("_value"in u))&&(u.value=Z),y==null&&u.removeAttribute(c),u._value=y;return}let b=!1;if(y===""||y==null){const W=typeof u[c];W==="boolean"?y=Po(y):y==null&&W==="string"?(y="",b=!0):W==="number"&&(y=0,b=!0)}try{u[c]=y}catch{}b&&u.removeAttribute(c)}function yf(u,c,y,T){u.addEventListener(c,y,T)}function wf(u,c,y,T){u.removeEventListener(c,y,T)}const Qa=Symbol("_vei");function xf(u,c,y,T,L=null){const b=u[Qa]||(u[Qa]={}),W=b[c];if(T&&W)W.value=T;else{const[Z,K]=bf(c);if(T){const rt=b[c]=Pf(T,L);yf(u,Z,rt,K)}else W&&(wf(u,Z,W,K),b[c]=void 0)}}const $a=/(?:Once|Passive|Capture)$/;function bf(u){let c;if($a.test(u)){c={};let T;for(;T=u.match($a);)u=u.slice(0,u.length-T[0].length),c[T[0].toLowerCase()]=!0}return[u[2]===":"?u.slice(3):yn(u.slice(2)),c]}let vs=0;const Sf=Promise.resolve(),Cf=()=>vs||(Sf.then(()=>vs=0),vs=Date.now());function Pf(u,c){const y=T=>{if(!T._vts)T._vts=Date.now();else if(T._vts<=y.attached)return;Ti(If(T,y.value),c,5,[T])};return y.value=u,y.attached=Cf(),y}function If(u,c){if(fe(c)){const y=u.stopImmediatePropagation;return u.stopImmediatePropagation=()=>{y.call(u),u._stopped=!0},c.map(T=>L=>!L._stopped&&T&&T(L))}else return c}const to=u=>u.charCodeAt(0)===111&&u.charCodeAt(1)===110&&u.charCodeAt(2)>96&&u.charCodeAt(2)<123,Ef=(u,c,y,T,L,b)=>{const W=L==="svg";c==="class"?cf(u,T,W):c==="style"?_f(u,y,T):Vr(c)?Bs(c)||xf(u,c,y,T,b):(c[0]==="."?(c=c.slice(1),!0):c[0]==="^"?(c=c.slice(1),!1):kf(u,c,T,W))?(mf(u,c,T),!u.tagName.includes("-")&&(c==="value"||c==="checked"||c==="selected")&&Ja(u,c,T,W,b,c!=="value")):(c==="true-value"?u._trueValue=T:c==="false-value"&&(u._falseValue=T),Ja(u,c,T,W))};function kf(u,c,y,T){if(T)return!!(c==="innerHTML"||c==="textContent"||c in u&&to(c)&&de(y));if(c==="spellcheck"||c==="draggable"||c==="translate"||c==="form"||c==="list"&&u.tagName==="INPUT"||c==="type"&&u.tagName==="TEXTAREA")return!1;if(c==="width"||c==="height"){const L=u.tagName;if(L==="IMG"||L==="VIDEO"||L==="CANVAS"||L==="SOURCE")return!1}return to(c)&&Je(y)?!1:!!(c in u||u._isVueCE&&(/[A-Z]/.test(c)||!Je(y)))}const Af=$e({patchProp:Ef},hf);let eo;function Tf(){return eo||(eo=Lh(Af))}const Of=(...u)=>{const c=Tf().createApp(...u),{mount:y}=c;return c.mount=T=>{const L=Lf(T);if(!L)return;const b=c._component;!de(b)&&!b.render&&!b.template&&(b.template=L.innerHTML),L.nodeType===1&&(L.textContent="");const W=y(L,!1,Mf(L));return L instanceof Element&&(L.removeAttribute("v-cloak"),L.setAttribute("data-v-app","")),W},c};function Mf(u){if(u instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&u instanceof MathMLElement)return"mathml"}function Lf(u){return Je(u)?document.querySelector(u):u}/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const kn=typeof document<"u";function Nf(u){return u.__esModule||u[Symbol.toStringTag]==="Module"}const Ae=Object.assign;function ms(u,c){const y={};for(const T in c){const L=c[T];y[T]=Si(L)?L.map(u):u(L)}return y}const tr=()=>{},Si=Array.isArray,xu=/#/g,Rf=/&/g,zf=/\//g,Ff=/=/g,Bf=/\?/g,bu=/\+/g,Vf=/%5B/g,Df=/%5D/g,Su=/%5E/g,qf=/%60/g,Cu=/%7B/g,Hf=/%7C/g,Pu=/%7D/g,Uf=/%20/g;function oa(u){return encodeURI(""+u).replace(Hf,"|").replace(Vf,"[").replace(Df,"]")}function jf(u){return oa(u).replace(Cu,"{").replace(Pu,"}").replace(Su,"^")}function Ns(u){return oa(u).replace(bu,"%2B").replace(Uf,"+").replace(xu,"%23").replace(Rf,"%26").replace(qf,"`").replace(Cu,"{").replace(Pu,"}").replace(Su,"^")}function Wf(u){return Ns(u).replace(Ff,"%3D")}function Gf(u){return oa(u).replace(xu,"%23").replace(Bf,"%3F")}function Zf(u){return u==null?"":Gf(u).replace(zf,"%2F")}function ur(u){try{return decodeURIComponent(""+u)}catch{}return""+u}const Kf=/\/$/,Xf=u=>u.replace(Kf,"");function ys(u,c,y="/"){let T,L={},b="",W="";const Z=c.indexOf("#");let K=c.indexOf("?");return Z<K&&Z>=0&&(K=-1),K>-1&&(T=c.slice(0,K),b=c.slice(K+1,Z>-1?Z:c.length),L=u(b)),Z>-1&&(T=T||c.slice(0,Z),W=c.slice(Z,c.length)),T=$f(T??c,y),{fullPath:T+(b&&"?")+b+W,path:T,query:L,hash:ur(W)}}function Yf(u,c){const y=c.query?u(c.query):"";return c.path+(y&&"?")+y+(c.hash||"")}function io(u,c){return!c||!u.toLowerCase().startsWith(c.toLowerCase())?u:u.slice(c.length)||"/"}function Jf(u,c,y){const T=c.matched.length-1,L=y.matched.length-1;return T>-1&&T===L&&Nn(c.matched[T],y.matched[L])&&Iu(c.params,y.params)&&u(c.query)===u(y.query)&&c.hash===y.hash}function Nn(u,c){return(u.aliasOf||u)===(c.aliasOf||c)}function Iu(u,c){if(Object.keys(u).length!==Object.keys(c).length)return!1;for(const y in u)if(!Qf(u[y],c[y]))return!1;return!0}function Qf(u,c){return Si(u)?no(u,c):Si(c)?no(c,u):u===c}function no(u,c){return Si(c)?u.length===c.length&&u.every((y,T)=>y===c[T]):u.length===1&&u[0]===c}function $f(u,c){if(u.startsWith("/"))return u;if(!u)return c;const y=c.split("/"),T=u.split("/"),L=T[T.length-1];(L===".."||L===".")&&T.push("");let b=y.length-1,W,Z;for(W=0;W<T.length;W++)if(Z=T[W],Z!==".")if(Z==="..")b>1&&b--;else break;return y.slice(0,b).join("/")+"/"+T.slice(W).join("/")}const Yi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var lr;(function(u){u.pop="pop",u.push="push"})(lr||(lr={}));var er;(function(u){u.back="back",u.forward="forward",u.unknown=""})(er||(er={}));function tc(u){if(!u)if(kn){const c=document.querySelector("base");u=c&&c.getAttribute("href")||"/",u=u.replace(/^\w+:\/\/[^\/]+/,"")}else u="/";return u[0]!=="/"&&u[0]!=="#"&&(u="/"+u),Xf(u)}const ec=/^[^#]+#/;function ic(u,c){return u.replace(ec,"#")+c}function nc(u,c){const y=document.documentElement.getBoundingClientRect(),T=u.getBoundingClientRect();return{behavior:c.behavior,left:T.left-y.left-(c.left||0),top:T.top-y.top-(c.top||0)}}const Xr=()=>({left:window.scrollX,top:window.scrollY});function rc(u){let c;if("el"in u){const y=u.el,T=typeof y=="string"&&y.startsWith("#"),L=typeof y=="string"?T?document.getElementById(y.slice(1)):document.querySelector(y):y;if(!L)return;c=nc(L,u)}else c=u;"scrollBehavior"in document.documentElement.style?window.scrollTo(c):window.scrollTo(c.left!=null?c.left:window.scrollX,c.top!=null?c.top:window.scrollY)}function ro(u,c){return(history.state?history.state.position-c:-1)+u}const Rs=new Map;function sc(u,c){Rs.set(u,c)}function ac(u){const c=Rs.get(u);return Rs.delete(u),c}let oc=()=>location.protocol+"//"+location.host;function Eu(u,c){const{pathname:y,search:T,hash:L}=c,b=u.indexOf("#");if(b>-1){let Z=L.includes(u.slice(b))?u.slice(b).length:1,K=L.slice(Z);return K[0]!=="/"&&(K="/"+K),io(K,"")}return io(y,u)+T+L}function uc(u,c,y,T){let L=[],b=[],W=null;const Z=({state:lt})=>{const R=Eu(u,location),Ft=y.value,ot=c.value;let Vt=0;if(lt){if(y.value=R,c.value=lt,W&&W===Ft){W=null;return}Vt=ot?lt.position-ot.position:0}else T(R);L.forEach(ct=>{ct(y.value,Ft,{delta:Vt,type:lr.pop,direction:Vt?Vt>0?er.forward:er.back:er.unknown})})};function K(){W=y.value}function rt(lt){L.push(lt);const R=()=>{const Ft=L.indexOf(lt);Ft>-1&&L.splice(Ft,1)};return b.push(R),R}function Q(){const{history:lt}=window;lt.state&&lt.replaceState(Ae({},lt.state,{scroll:Xr()}),"")}function Y(){for(const lt of b)lt();b=[],window.removeEventListener("popstate",Z),window.removeEventListener("beforeunload",Q)}return window.addEventListener("popstate",Z),window.addEventListener("beforeunload",Q,{passive:!0}),{pauseListeners:K,listen:rt,destroy:Y}}function so(u,c,y,T=!1,L=!1){return{back:u,current:c,forward:y,replaced:T,position:window.history.length,scroll:L?Xr():null}}function lc(u){const{history:c,location:y}=window,T={value:Eu(u,y)},L={value:c.state};L.value||b(T.value,{back:null,current:T.value,forward:null,position:c.length-1,replaced:!0,scroll:null},!0);function b(K,rt,Q){const Y=u.indexOf("#"),lt=Y>-1?(y.host&&document.querySelector("base")?u:u.slice(Y))+K:oc()+u+K;try{c[Q?"replaceState":"pushState"](rt,"",lt),L.value=rt}catch(R){console.error(R),y[Q?"replace":"assign"](lt)}}function W(K,rt){const Q=Ae({},c.state,so(L.value.back,K,L.value.forward,!0),rt,{position:L.value.position});b(K,Q,!0),T.value=K}function Z(K,rt){const Q=Ae({},L.value,c.state,{forward:K,scroll:Xr()});b(Q.current,Q,!0);const Y=Ae({},so(T.value,K,null),{position:Q.position+1},rt);b(K,Y,!1),T.value=K}return{location:T,state:L,push:Z,replace:W}}function hc(u){u=tc(u);const c=lc(u),y=uc(u,c.state,c.location,c.replace);function T(b,W=!0){W||y.pauseListeners(),history.go(b)}const L=Ae({location:"",base:u,go:T,createHref:ic.bind(null,u)},c,y);return Object.defineProperty(L,"location",{enumerable:!0,get:()=>c.location.value}),Object.defineProperty(L,"state",{enumerable:!0,get:()=>c.state.value}),L}function fc(u){return typeof u=="string"||u&&typeof u=="object"}function ku(u){return typeof u=="string"||typeof u=="symbol"}const Au=Symbol("");var ao;(function(u){u[u.aborted=4]="aborted",u[u.cancelled=8]="cancelled",u[u.duplicated=16]="duplicated"})(ao||(ao={}));function Rn(u,c){return Ae(new Error,{type:u,[Au]:!0},c)}function zi(u,c){return u instanceof Error&&Au in u&&(c==null||!!(u.type&c))}const oo="[^/]+?",cc={sensitive:!1,strict:!1,start:!0,end:!0},dc=/[.+*?^${}()[\]/\\]/g;function pc(u,c){const y=Ae({},cc,c),T=[];let L=y.start?"^":"";const b=[];for(const rt of u){const Q=rt.length?[]:[90];y.strict&&!rt.length&&(L+="/");for(let Y=0;Y<rt.length;Y++){const lt=rt[Y];let R=40+(y.sensitive?.25:0);if(lt.type===0)Y||(L+="/"),L+=lt.value.replace(dc,"\\$&"),R+=40;else if(lt.type===1){const{value:Ft,repeatable:ot,optional:Vt,regexp:ct}=lt;b.push({name:Ft,repeatable:ot,optional:Vt});const Yt=ct||oo;if(Yt!==oo){R+=10;try{new RegExp(`(${Yt})`)}catch(Rt){throw new Error(`Invalid custom RegExp for param "${Ft}" (${Yt}): `+Rt.message)}}let St=ot?`((?:${Yt})(?:/(?:${Yt}))*)`:`(${Yt})`;Y||(St=Vt&&rt.length<2?`(?:/${St})`:"/"+St),Vt&&(St+="?"),L+=St,R+=20,Vt&&(R+=-8),ot&&(R+=-20),Yt===".*"&&(R+=-50)}Q.push(R)}T.push(Q)}if(y.strict&&y.end){const rt=T.length-1;T[rt][T[rt].length-1]+=.7000000000000001}y.strict||(L+="/?"),y.end?L+="$":y.strict&&(L+="(?:/|$)");const W=new RegExp(L,y.sensitive?"":"i");function Z(rt){const Q=rt.match(W),Y={};if(!Q)return null;for(let lt=1;lt<Q.length;lt++){const R=Q[lt]||"",Ft=b[lt-1];Y[Ft.name]=R&&Ft.repeatable?R.split("/"):R}return Y}function K(rt){let Q="",Y=!1;for(const lt of u){(!Y||!Q.endsWith("/"))&&(Q+="/"),Y=!1;for(const R of lt)if(R.type===0)Q+=R.value;else if(R.type===1){const{value:Ft,repeatable:ot,optional:Vt}=R,ct=Ft in rt?rt[Ft]:"";if(Si(ct)&&!ot)throw new Error(`Provided param "${Ft}" is an array but it is not repeatable (* or + modifiers)`);const Yt=Si(ct)?ct.join("/"):ct;if(!Yt)if(Vt)lt.length<2&&(Q.endsWith("/")?Q=Q.slice(0,-1):Y=!0);else throw new Error(`Missing required param "${Ft}"`);Q+=Yt}}return Q||"/"}return{re:W,score:T,keys:b,parse:Z,stringify:K}}function gc(u,c){let y=0;for(;y<u.length&&y<c.length;){const T=c[y]-u[y];if(T)return T;y++}return u.length<c.length?u.length===1&&u[0]===80?-1:1:u.length>c.length?c.length===1&&c[0]===80?1:-1:0}function Tu(u,c){let y=0;const T=u.score,L=c.score;for(;y<T.length&&y<L.length;){const b=gc(T[y],L[y]);if(b)return b;y++}if(Math.abs(L.length-T.length)===1){if(uo(T))return 1;if(uo(L))return-1}return L.length-T.length}function uo(u){const c=u[u.length-1];return u.length>0&&c[c.length-1]<0}const _c={type:0,value:""},vc=/[a-zA-Z0-9_]/;function mc(u){if(!u)return[[]];if(u==="/")return[[_c]];if(!u.startsWith("/"))throw new Error(`Invalid path "${u}"`);function c(R){throw new Error(`ERR (${y})/"${rt}": ${R}`)}let y=0,T=y;const L=[];let b;function W(){b&&L.push(b),b=[]}let Z=0,K,rt="",Q="";function Y(){rt&&(y===0?b.push({type:0,value:rt}):y===1||y===2||y===3?(b.length>1&&(K==="*"||K==="+")&&c(`A repeatable param (${rt}) must be alone in its segment. eg: '/:ids+.`),b.push({type:1,value:rt,regexp:Q,repeatable:K==="*"||K==="+",optional:K==="*"||K==="?"})):c("Invalid state to consume buffer"),rt="")}function lt(){rt+=K}for(;Z<u.length;){if(K=u[Z++],K==="\\"&&y!==2){T=y,y=4;continue}switch(y){case 0:K==="/"?(rt&&Y(),W()):K===":"?(Y(),y=1):lt();break;case 4:lt(),y=T;break;case 1:K==="("?y=2:vc.test(K)?lt():(Y(),y=0,K!=="*"&&K!=="?"&&K!=="+"&&Z--);break;case 2:K===")"?Q[Q.length-1]=="\\"?Q=Q.slice(0,-1)+K:y=3:Q+=K;break;case 3:Y(),y=0,K!=="*"&&K!=="?"&&K!=="+"&&Z--,Q="";break;default:c("Unknown state");break}}return y===2&&c(`Unfinished custom RegExp for param "${rt}"`),Y(),W(),L}function yc(u,c,y){const T=pc(mc(u.path),y),L=Ae(T,{record:u,parent:c,children:[],alias:[]});return c&&!L.record.aliasOf==!c.record.aliasOf&&c.children.push(L),L}function wc(u,c){const y=[],T=new Map;c=fo({strict:!1,end:!0,sensitive:!1},c);function L(Y){return T.get(Y)}function b(Y,lt,R){const Ft=!R,ot=xc(Y);ot.aliasOf=R&&R.record;const Vt=fo(c,Y),ct=[ot];if("alias"in Y){const Rt=typeof Y.alias=="string"?[Y.alias]:Y.alias;for(const Xt of Rt)ct.push(Ae({},ot,{components:R?R.record.components:ot.components,path:Xt,aliasOf:R?R.record:ot}))}let Yt,St;for(const Rt of ct){const{path:Xt}=Rt;if(lt&&Xt[0]!=="/"){const D=lt.record.path,$t=D[D.length-1]==="/"?"":"/";Rt.path=lt.record.path+(Xt&&$t+Xt)}if(Yt=yc(Rt,lt,Vt),R?R.alias.push(Yt):(St=St||Yt,St!==Yt&&St.alias.push(Yt),Ft&&Y.name&&!ho(Yt)&&W(Y.name)),Ou(Yt)&&K(Yt),ot.children){const D=ot.children;for(let $t=0;$t<D.length;$t++)b(D[$t],Yt,R&&R.children[$t])}R=R||Yt}return St?()=>{W(St)}:tr}function W(Y){if(ku(Y)){const lt=T.get(Y);lt&&(T.delete(Y),y.splice(y.indexOf(lt),1),lt.children.forEach(W),lt.alias.forEach(W))}else{const lt=y.indexOf(Y);lt>-1&&(y.splice(lt,1),Y.record.name&&T.delete(Y.record.name),Y.children.forEach(W),Y.alias.forEach(W))}}function Z(){return y}function K(Y){const lt=Cc(Y,y);y.splice(lt,0,Y),Y.record.name&&!ho(Y)&&T.set(Y.record.name,Y)}function rt(Y,lt){let R,Ft={},ot,Vt;if("name"in Y&&Y.name){if(R=T.get(Y.name),!R)throw Rn(1,{location:Y});Vt=R.record.name,Ft=Ae(lo(lt.params,R.keys.filter(St=>!St.optional).concat(R.parent?R.parent.keys.filter(St=>St.optional):[]).map(St=>St.name)),Y.params&&lo(Y.params,R.keys.map(St=>St.name))),ot=R.stringify(Ft)}else if(Y.path!=null)ot=Y.path,R=y.find(St=>St.re.test(ot)),R&&(Ft=R.parse(ot),Vt=R.record.name);else{if(R=lt.name?T.get(lt.name):y.find(St=>St.re.test(lt.path)),!R)throw Rn(1,{location:Y,currentLocation:lt});Vt=R.record.name,Ft=Ae({},lt.params,Y.params),ot=R.stringify(Ft)}const ct=[];let Yt=R;for(;Yt;)ct.unshift(Yt.record),Yt=Yt.parent;return{name:Vt,path:ot,params:Ft,matched:ct,meta:Sc(ct)}}u.forEach(Y=>b(Y));function Q(){y.length=0,T.clear()}return{addRoute:b,resolve:rt,removeRoute:W,clearRoutes:Q,getRoutes:Z,getRecordMatcher:L}}function lo(u,c){const y={};for(const T of c)T in u&&(y[T]=u[T]);return y}function xc(u){return{path:u.path,redirect:u.redirect,name:u.name,meta:u.meta||{},aliasOf:void 0,beforeEnter:u.beforeEnter,props:bc(u),children:u.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in u?u.components||null:u.component&&{default:u.component}}}function bc(u){const c={},y=u.props||!1;if("component"in u)c.default=y;else for(const T in u.components)c[T]=typeof y=="object"?y[T]:y;return c}function ho(u){for(;u;){if(u.record.aliasOf)return!0;u=u.parent}return!1}function Sc(u){return u.reduce((c,y)=>Ae(c,y.meta),{})}function fo(u,c){const y={};for(const T in u)y[T]=T in c?c[T]:u[T];return y}function Cc(u,c){let y=0,T=c.length;for(;y!==T;){const b=y+T>>1;Tu(u,c[b])<0?T=b:y=b+1}const L=Pc(u);return L&&(T=c.lastIndexOf(L,T-1)),T}function Pc(u){let c=u;for(;c=c.parent;)if(Ou(c)&&Tu(u,c)===0)return c}function Ou({record:u}){return!!(u.name||u.components&&Object.keys(u.components).length||u.redirect)}function Ic(u){const c={};if(u===""||u==="?")return c;const T=(u[0]==="?"?u.slice(1):u).split("&");for(let L=0;L<T.length;++L){const b=T[L].replace(bu," "),W=b.indexOf("="),Z=ur(W<0?b:b.slice(0,W)),K=W<0?null:ur(b.slice(W+1));if(Z in c){let rt=c[Z];Si(rt)||(rt=c[Z]=[rt]),rt.push(K)}else c[Z]=K}return c}function co(u){let c="";for(let y in u){const T=u[y];if(y=Wf(y),T==null){T!==void 0&&(c+=(c.length?"&":"")+y);continue}(Si(T)?T.map(b=>b&&Ns(b)):[T&&Ns(T)]).forEach(b=>{b!==void 0&&(c+=(c.length?"&":"")+y,b!=null&&(c+="="+b))})}return c}function Ec(u){const c={};for(const y in u){const T=u[y];T!==void 0&&(c[y]=Si(T)?T.map(L=>L==null?null:""+L):T==null?T:""+T)}return c}const kc=Symbol(""),po=Symbol(""),ua=Symbol(""),Mu=Symbol(""),zs=Symbol("");function Wn(){let u=[];function c(T){return u.push(T),()=>{const L=u.indexOf(T);L>-1&&u.splice(L,1)}}function y(){u=[]}return{add:c,list:()=>u.slice(),reset:y}}function tn(u,c,y,T,L,b=W=>W()){const W=T&&(T.enterCallbacks[L]=T.enterCallbacks[L]||[]);return()=>new Promise((Z,K)=>{const rt=lt=>{lt===!1?K(Rn(4,{from:y,to:c})):lt instanceof Error?K(lt):fc(lt)?K(Rn(2,{from:c,to:lt})):(W&&T.enterCallbacks[L]===W&&typeof lt=="function"&&W.push(lt),Z())},Q=b(()=>u.call(T&&T.instances[L],c,y,rt));let Y=Promise.resolve(Q);u.length<3&&(Y=Y.then(rt)),Y.catch(lt=>K(lt))})}function ws(u,c,y,T,L=b=>b()){const b=[];for(const W of u)for(const Z in W.components){let K=W.components[Z];if(!(c!=="beforeRouteEnter"&&!W.instances[Z]))if(Ac(K)){const Q=(K.__vccOpts||K)[c];Q&&b.push(tn(Q,y,T,W,Z,L))}else{let rt=K();b.push(()=>rt.then(Q=>{if(!Q)return Promise.reject(new Error(`Couldn't resolve component "${Z}" at "${W.path}"`));const Y=Nf(Q)?Q.default:Q;W.components[Z]=Y;const R=(Y.__vccOpts||Y)[c];return R&&tn(R,y,T,W,Z,L)()}))}}return b}function Ac(u){return typeof u=="object"||"displayName"in u||"props"in u||"__vccOpts"in u}function go(u){const c=Di(ua),y=Di(Mu),T=wi(()=>{const K=Tn(u.to);return c.resolve(K)}),L=wi(()=>{const{matched:K}=T.value,{length:rt}=K,Q=K[rt-1],Y=y.matched;if(!Q||!Y.length)return-1;const lt=Y.findIndex(Nn.bind(null,Q));if(lt>-1)return lt;const R=_o(K[rt-2]);return rt>1&&_o(Q)===R&&Y[Y.length-1].path!==R?Y.findIndex(Nn.bind(null,K[rt-2])):lt}),b=wi(()=>L.value>-1&&Lc(y.params,T.value.params)),W=wi(()=>L.value>-1&&L.value===y.matched.length-1&&Iu(y.params,T.value.params));function Z(K={}){return Mc(K)?c[Tn(u.replace)?"replace":"push"](Tn(u.to)).catch(tr):Promise.resolve()}return{route:T,href:wi(()=>T.value.href),isActive:b,isExactActive:W,navigate:Z}}const Tc=ia({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:go,setup(u,{slots:c}){const y=Ur(go(u)),{options:T}=Di(ua),L=wi(()=>({[vo(u.activeClass,T.linkActiveClass,"router-link-active")]:y.isActive,[vo(u.exactActiveClass,T.linkExactActiveClass,"router-link-exact-active")]:y.isExactActive}));return()=>{const b=c.default&&c.default(y);return u.custom?b:yu("a",{"aria-current":y.isExactActive?u.ariaCurrentValue:null,href:y.href,onClick:y.navigate,class:L.value},b)}}}),Oc=Tc;function Mc(u){if(!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)&&!u.defaultPrevented&&!(u.button!==void 0&&u.button!==0)){if(u.currentTarget&&u.currentTarget.getAttribute){const c=u.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(c))return}return u.preventDefault&&u.preventDefault(),!0}}function Lc(u,c){for(const y in c){const T=c[y],L=u[y];if(typeof T=="string"){if(T!==L)return!1}else if(!Si(L)||L.length!==T.length||T.some((b,W)=>b!==L[W]))return!1}return!0}function _o(u){return u?u.aliasOf?u.aliasOf.path:u.path:""}const vo=(u,c,y)=>u??c??y,Nc=ia({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(u,{attrs:c,slots:y}){const T=Di(zs),L=wi(()=>u.route||T.value),b=Di(po,0),W=wi(()=>{let rt=Tn(b);const{matched:Q}=L.value;let Y;for(;(Y=Q[rt])&&!Y.components;)rt++;return rt}),Z=wi(()=>L.value.matched[W.value]);Ar(po,wi(()=>W.value+1)),Ar(kc,Z),Ar(zs,L);const K=Gl();return Tr(()=>[K.value,Z.value,u.name],([rt,Q,Y],[lt,R,Ft])=>{Q&&(Q.instances[Y]=rt,R&&R!==Q&&rt&&rt===lt&&(Q.leaveGuards.size||(Q.leaveGuards=R.leaveGuards),Q.updateGuards.size||(Q.updateGuards=R.updateGuards))),rt&&Q&&(!R||!Nn(Q,R)||!lt)&&(Q.enterCallbacks[Y]||[]).forEach(ot=>ot(rt))},{flush:"post"}),()=>{const rt=L.value,Q=u.name,Y=Z.value,lt=Y&&Y.components[Q];if(!lt)return mo(y.default,{Component:lt,route:rt});const R=Y.props[Q],Ft=R?R===!0?rt.params:typeof R=="function"?R(rt):R:null,Vt=yu(lt,Ae({},Ft,c,{onVnodeUnmounted:ct=>{ct.component.isUnmounted&&(Y.instances[Q]=null)},ref:K}));return mo(y.default,{Component:Vt,route:rt})||Vt}}});function mo(u,c){if(!u)return null;const y=u(c);return y.length===1?y[0]:y}const Rc=Nc;function zc(u){const c=wc(u.routes,u),y=u.parseQuery||Ic,T=u.stringifyQuery||co,L=u.history,b=Wn(),W=Wn(),Z=Wn(),K=Zl(Yi);let rt=Yi;kn&&u.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const Q=ms.bind(null,Ct=>""+Ct),Y=ms.bind(null,Zf),lt=ms.bind(null,ur);function R(Ct,Kt){let bt,Mt;return ku(Ct)?(bt=c.getRecordMatcher(Ct),Mt=Kt):Mt=Ct,c.addRoute(Mt,bt)}function Ft(Ct){const Kt=c.getRecordMatcher(Ct);Kt&&c.removeRoute(Kt)}function ot(){return c.getRoutes().map(Ct=>Ct.record)}function Vt(Ct){return!!c.getRecordMatcher(Ct)}function ct(Ct,Kt){if(Kt=Ae({},Kt||K.value),typeof Ct=="string"){const et=ys(y,Ct,Kt.path),dt=c.resolve({path:et.path},Kt),Ot=L.createHref(et.fullPath);return Ae(et,dt,{params:lt(dt.params),hash:ur(et.hash),redirectedFrom:void 0,href:Ot})}let bt;if(Ct.path!=null)bt=Ae({},Ct,{path:ys(y,Ct.path,Kt.path).path});else{const et=Ae({},Ct.params);for(const dt in et)et[dt]==null&&delete et[dt];bt=Ae({},Ct,{params:Y(et)}),Kt.params=Y(Kt.params)}const Mt=c.resolve(bt,Kt),Gt=Ct.hash||"";Mt.params=Q(lt(Mt.params));const Ie=Yf(T,Ae({},Ct,{hash:jf(Gt),path:Mt.path})),J=L.createHref(Ie);return Ae({fullPath:Ie,hash:Gt,query:T===co?Ec(Ct.query):Ct.query||{}},Mt,{redirectedFrom:void 0,href:J})}function Yt(Ct){return typeof Ct=="string"?ys(y,Ct,K.value.path):Ae({},Ct)}function St(Ct,Kt){if(rt!==Ct)return Rn(8,{from:Kt,to:Ct})}function Rt(Ct){return $t(Ct)}function Xt(Ct){return Rt(Ae(Yt(Ct),{replace:!0}))}function D(Ct){const Kt=Ct.matched[Ct.matched.length-1];if(Kt&&Kt.redirect){const{redirect:bt}=Kt;let Mt=typeof bt=="function"?bt(Ct):bt;return typeof Mt=="string"&&(Mt=Mt.includes("?")||Mt.includes("#")?Mt=Yt(Mt):{path:Mt},Mt.params={}),Ae({query:Ct.query,hash:Ct.hash,params:Mt.path!=null?{}:Ct.params},Mt)}}function $t(Ct,Kt){const bt=rt=ct(Ct),Mt=K.value,Gt=Ct.state,Ie=Ct.force,J=Ct.replace===!0,et=D(bt);if(et)return $t(Ae(Yt(et),{state:typeof et=="object"?Ae({},Gt,et.state):Gt,force:Ie,replace:J}),Kt||bt);const dt=bt;dt.redirectedFrom=Kt;let Ot;return!Ie&&Jf(T,Mt,bt)&&(Ot=Rn(16,{to:dt,from:Mt}),Ze(Mt,Mt,!0,!1)),(Ot?Promise.resolve(Ot):Re(dt,Mt)).catch(xt=>zi(xt)?zi(xt,2)?xt:pe(xt):ae(xt,dt,Mt)).then(xt=>{if(xt){if(zi(xt,2))return $t(Ae({replace:J},Yt(xt.to),{state:typeof xt.to=="object"?Ae({},Gt,xt.to.state):Gt,force:Ie}),Kt||dt)}else xt=_e(dt,Mt,!0,J,Gt);return Ue(dt,Mt,xt),xt})}function Ne(Ct,Kt){const bt=St(Ct,Kt);return bt?Promise.reject(bt):Promise.resolve()}function ue(Ct){const Kt=li.values().next().value;return Kt&&typeof Kt.runWithContext=="function"?Kt.runWithContext(Ct):Ct()}function Re(Ct,Kt){let bt;const[Mt,Gt,Ie]=Fc(Ct,Kt);bt=ws(Mt.reverse(),"beforeRouteLeave",Ct,Kt);for(const et of Mt)et.leaveGuards.forEach(dt=>{bt.push(tn(dt,Ct,Kt))});const J=Ne.bind(null,Ct,Kt);return bt.push(J),Fe(bt).then(()=>{bt=[];for(const et of b.list())bt.push(tn(et,Ct,Kt));return bt.push(J),Fe(bt)}).then(()=>{bt=ws(Gt,"beforeRouteUpdate",Ct,Kt);for(const et of Gt)et.updateGuards.forEach(dt=>{bt.push(tn(dt,Ct,Kt))});return bt.push(J),Fe(bt)}).then(()=>{bt=[];for(const et of Ie)if(et.beforeEnter)if(Si(et.beforeEnter))for(const dt of et.beforeEnter)bt.push(tn(dt,Ct,Kt));else bt.push(tn(et.beforeEnter,Ct,Kt));return bt.push(J),Fe(bt)}).then(()=>(Ct.matched.forEach(et=>et.enterCallbacks={}),bt=ws(Ie,"beforeRouteEnter",Ct,Kt,ue),bt.push(J),Fe(bt))).then(()=>{bt=[];for(const et of W.list())bt.push(tn(et,Ct,Kt));return bt.push(J),Fe(bt)}).catch(et=>zi(et,8)?et:Promise.reject(et))}function Ue(Ct,Kt,bt){Z.list().forEach(Mt=>ue(()=>Mt(Ct,Kt,bt)))}function _e(Ct,Kt,bt,Mt,Gt){const Ie=St(Ct,Kt);if(Ie)return Ie;const J=Kt===Yi,et=kn?history.state:{};bt&&(Mt||J?L.replace(Ct.fullPath,Ae({scroll:J&&et&&et.scroll},Gt)):L.push(Ct.fullPath,Gt)),K.value=Ct,Ze(Ct,Kt,bt,J),pe()}let be;function It(){be||(be=L.listen((Ct,Kt,bt)=>{if(!ne.listening)return;const Mt=ct(Ct),Gt=D(Mt);if(Gt){$t(Ae(Gt,{replace:!0}),Mt).catch(tr);return}rt=Mt;const Ie=K.value;kn&&sc(ro(Ie.fullPath,bt.delta),Xr()),Re(Mt,Ie).catch(J=>zi(J,12)?J:zi(J,2)?($t(J.to,Mt).then(et=>{zi(et,20)&&!bt.delta&&bt.type===lr.pop&&L.go(-1,!1)}).catch(tr),Promise.reject()):(bt.delta&&L.go(-bt.delta,!1),ae(J,Mt,Ie))).then(J=>{J=J||_e(Mt,Ie,!1),J&&(bt.delta&&!zi(J,8)?L.go(-bt.delta,!1):bt.type===lr.pop&&zi(J,20)&&L.go(-1,!1)),Ue(Mt,Ie,J)}).catch(tr)}))}let ti=Wn(),at=Wn(),te;function ae(Ct,Kt,bt){pe(Ct);const Mt=at.list();return Mt.length?Mt.forEach(Gt=>Gt(Ct,Kt,bt)):console.error(Ct),Promise.reject(Ct)}function qt(){return te&&K.value!==Yi?Promise.resolve():new Promise((Ct,Kt)=>{ti.add([Ct,Kt])})}function pe(Ct){return te||(te=!Ct,It(),ti.list().forEach(([Kt,bt])=>Ct?bt(Ct):Kt()),ti.reset()),Ct}function Ze(Ct,Kt,bt,Mt){const{scrollBehavior:Gt}=u;if(!kn||!Gt)return Promise.resolve();const Ie=!bt&&ac(ro(Ct.fullPath,0))||(Mt||!bt)&&history.state&&history.state.scroll||null;return jo().then(()=>Gt(Ct,Kt,Ie)).then(J=>J&&rc(J)).catch(J=>ae(J,Ct,Kt))}const ze=Ct=>L.go(Ct);let Ve;const li=new Set,ne={currentRoute:K,listening:!0,addRoute:R,removeRoute:Ft,clearRoutes:c.clearRoutes,hasRoute:Vt,getRoutes:ot,resolve:ct,options:u,push:Rt,replace:Xt,go:ze,back:()=>ze(-1),forward:()=>ze(1),beforeEach:b.add,beforeResolve:W.add,afterEach:Z.add,onError:at.add,isReady:qt,install(Ct){const Kt=this;Ct.component("RouterLink",Oc),Ct.component("RouterView",Rc),Ct.config.globalProperties.$router=Kt,Object.defineProperty(Ct.config.globalProperties,"$route",{enumerable:!0,get:()=>Tn(K)}),kn&&!Ve&&K.value===Yi&&(Ve=!0,Rt(L.location).catch(Gt=>{}));const bt={};for(const Gt in Yi)Object.defineProperty(bt,Gt,{get:()=>K.value[Gt],enumerable:!0});Ct.provide(ua,Kt),Ct.provide(Mu,Vo(bt)),Ct.provide(zs,K);const Mt=Ct.unmount;li.add(Ct),Ct.unmount=function(){li.delete(Ct),li.size<1&&(rt=Yi,be&&be(),be=null,K.value=Yi,Ve=!1,te=!1),Mt()}}};function Fe(Ct){return Ct.reduce((Kt,bt)=>Kt.then(()=>ue(bt)),Promise.resolve())}return ne}function Fc(u,c){const y=[],T=[],L=[],b=Math.max(c.matched.length,u.matched.length);for(let W=0;W<b;W++){const Z=c.matched[W];Z&&(u.matched.find(rt=>Nn(rt,Z))?T.push(Z):y.push(Z));const K=u.matched[W];K&&(c.matched.find(rt=>Nn(rt,K))||L.push(K))}return[y,T,L]}const Bc="modulepreload",Vc=function(u){return"/motion-path-demo/"+u},yo={},Dc=function(c,y,T){let L=Promise.resolve();if(y&&y.length>0){document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),W=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));L=Promise.all(y.map(Z=>{if(Z=Vc(Z),Z in yo)return;yo[Z]=!0;const K=Z.endsWith(".css"),rt=K?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Z}"]${rt}`))return;const Q=document.createElement("link");if(Q.rel=K?"stylesheet":Bc,K||(Q.as="script"),Q.crossOrigin="",Q.href=Z,W&&Q.setAttribute("nonce",W),document.head.appendChild(Q),K)return new Promise((Y,lt)=>{Q.addEventListener("load",Y),Q.addEventListener("error",()=>lt(new Error(`Unable to preload CSS for ${Z}`)))})}))}return L.then(()=>c()).catch(b=>{const W=new Event("vite:preloadError",{cancelable:!0});if(W.payload=b,window.dispatchEvent(W),!W.defaultPrevented)throw b})},qc=[{path:"/",name:"/",component:()=>Dc(()=>import("./index-CfjUO-SJ.js"),__vite__mapDeps([0,1]))}];var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hc(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function Uc(u){if(u.__esModule)return u;var c=u.default;if(typeof c=="function"){var y=function T(){return this instanceof T?Reflect.construct(c,arguments,this.constructor):c.apply(this,arguments)};y.prototype=c.prototype}else y={};return Object.defineProperty(y,"__esModule",{value:!0}),Object.keys(u).forEach(function(T){var L=Object.getOwnPropertyDescriptor(u,T);Object.defineProperty(y,T,L.get?L:{enumerable:!0,get:function(){return u[T]}})}),y}function jc(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Lu={exports:{}};const Wc={},Gc=Object.freeze(Object.defineProperty({__proto__:null,default:Wc},Symbol.toStringTag,{value:"Module"})),Br=Uc(Gc);var kr={exports:{}},wo;function Zc(){return wo||(wo=1,function(u,c){(function(y,T){T(c)})(la,function(y){var T=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],L=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],b="-----------------------------------------------------------------------------------------------------------------------------------------------------",W="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Z={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},K="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",rt={5:K,"5module":K+" export import",6:K+" const class extends export import super"},Q=/^in(stanceof)?$/,Y=new RegExp("["+W+"]"),lt=new RegExp("["+W+b+"]");function R(o,C){for(var F=65536,H=0;H<C.length;H+=2){if(F+=C[H],F>o)return!1;if(F+=C[H+1],F>=o)return!0}return!1}function Ft(o,C){return o<65?o===36:o<91?!0:o<97?o===95:o<123?!0:o<=65535?o>=170&&Y.test(String.fromCharCode(o)):C===!1?!1:R(o,L)}function ot(o,C){return o<48?o===36:o<58?!0:o<65?!1:o<91?!0:o<97?o===95:o<123?!0:o<=65535?o>=170&&lt.test(String.fromCharCode(o)):C===!1?!1:R(o,L)||R(o,T)}var Vt=function(C,F){F===void 0&&(F={}),this.label=C,this.keyword=F.keyword,this.beforeExpr=!!F.beforeExpr,this.startsExpr=!!F.startsExpr,this.isLoop=!!F.isLoop,this.isAssign=!!F.isAssign,this.prefix=!!F.prefix,this.postfix=!!F.postfix,this.binop=F.binop||null,this.updateContext=null};function ct(o,C){return new Vt(o,{beforeExpr:!0,binop:C})}var Yt={beforeExpr:!0},St={startsExpr:!0},Rt={};function Xt(o,C){return C===void 0&&(C={}),C.keyword=o,Rt[o]=new Vt(o,C)}var D={num:new Vt("num",St),regexp:new Vt("regexp",St),string:new Vt("string",St),name:new Vt("name",St),privateId:new Vt("privateId",St),eof:new Vt("eof"),bracketL:new Vt("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Vt("]"),braceL:new Vt("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Vt("}"),parenL:new Vt("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Vt(")"),comma:new Vt(",",Yt),semi:new Vt(";",Yt),colon:new Vt(":",Yt),dot:new Vt("."),question:new Vt("?",Yt),questionDot:new Vt("?."),arrow:new Vt("=>",Yt),template:new Vt("template"),invalidTemplate:new Vt("invalidTemplate"),ellipsis:new Vt("...",Yt),backQuote:new Vt("`",St),dollarBraceL:new Vt("${",{beforeExpr:!0,startsExpr:!0}),eq:new Vt("=",{beforeExpr:!0,isAssign:!0}),assign:new Vt("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Vt("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Vt("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ct("||",1),logicalAND:ct("&&",2),bitwiseOR:ct("|",3),bitwiseXOR:ct("^",4),bitwiseAND:ct("&",5),equality:ct("==/!=/===/!==",6),relational:ct("</>/<=/>=",7),bitShift:ct("<</>>/>>>",8),plusMin:new Vt("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ct("%",10),star:ct("*",10),slash:ct("/",10),starstar:new Vt("**",{beforeExpr:!0}),coalesce:ct("??",1),_break:Xt("break"),_case:Xt("case",Yt),_catch:Xt("catch"),_continue:Xt("continue"),_debugger:Xt("debugger"),_default:Xt("default",Yt),_do:Xt("do",{isLoop:!0,beforeExpr:!0}),_else:Xt("else",Yt),_finally:Xt("finally"),_for:Xt("for",{isLoop:!0}),_function:Xt("function",St),_if:Xt("if"),_return:Xt("return",Yt),_switch:Xt("switch"),_throw:Xt("throw",Yt),_try:Xt("try"),_var:Xt("var"),_const:Xt("const"),_while:Xt("while",{isLoop:!0}),_with:Xt("with"),_new:Xt("new",{beforeExpr:!0,startsExpr:!0}),_this:Xt("this",St),_super:Xt("super",St),_class:Xt("class",St),_extends:Xt("extends",Yt),_export:Xt("export"),_import:Xt("import",St),_null:Xt("null",St),_true:Xt("true",St),_false:Xt("false",St),_in:Xt("in",{beforeExpr:!0,binop:7}),_instanceof:Xt("instanceof",{beforeExpr:!0,binop:7}),_typeof:Xt("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Xt("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Xt("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},$t=/\r\n?|\n|\u2028|\u2029/,Ne=new RegExp($t.source,"g");function ue(o){return o===10||o===13||o===8232||o===8233}function Re(o,C,F){F===void 0&&(F=o.length);for(var H=C;H<F;H++){var X=o.charCodeAt(H);if(ue(X))return H<F-1&&X===13&&o.charCodeAt(H+1)===10?H+2:H+1}return-1}var Ue=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,_e=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,be=Object.prototype,It=be.hasOwnProperty,ti=be.toString,at=Object.hasOwn||function(o,C){return It.call(o,C)},te=Array.isArray||function(o){return ti.call(o)==="[object Array]"},ae=Object.create(null);function qt(o){return ae[o]||(ae[o]=new RegExp("^(?:"+o.replace(/ /g,"|")+")$"))}function pe(o){return o<=65535?String.fromCharCode(o):(o-=65536,String.fromCharCode((o>>10)+55296,(o&1023)+56320))}var Ze=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,ze=function(C,F){this.line=C,this.column=F};ze.prototype.offset=function(C){return new ze(this.line,this.column+C)};var Ve=function(C,F,H){this.start=F,this.end=H,C.sourceFile!==null&&(this.source=C.sourceFile)};function li(o,C){for(var F=1,H=0;;){var X=Re(o,H,C);if(X<0)return new ze(F,C-H);++F,H=X}}var ne={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Fe=!1;function Ct(o){var C={};for(var F in ne)C[F]=o&&at(o,F)?o[F]:ne[F];if(C.ecmaVersion==="latest"?C.ecmaVersion=1e8:C.ecmaVersion==null?(!Fe&&typeof console=="object"&&console.warn&&(Fe=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),C.ecmaVersion=11):C.ecmaVersion>=2015&&(C.ecmaVersion-=2009),C.allowReserved==null&&(C.allowReserved=C.ecmaVersion<5),(!o||o.allowHashBang==null)&&(C.allowHashBang=C.ecmaVersion>=14),te(C.onToken)){var H=C.onToken;C.onToken=function(X){return H.push(X)}}return te(C.onComment)&&(C.onComment=Kt(C,C.onComment)),C}function Kt(o,C){return function(F,H,X,ft,pt,Dt){var Wt={type:F?"Block":"Line",value:H,start:X,end:ft};o.locations&&(Wt.loc=new Ve(this,pt,Dt)),o.ranges&&(Wt.range=[X,ft]),C.push(Wt)}}var bt=1,Mt=2,Gt=4,Ie=8,J=16,et=32,dt=64,Ot=128,xt=256,Lt=bt|Mt|xt;function jt(o,C){return Mt|(o?Gt:0)|(C?Ie:0)}var At=0,kt=1,yt=2,Zt=3,Et=4,n=5,t=function(C,F,H){this.options=C=Ct(C),this.sourceFile=C.sourceFile,this.keywords=qt(rt[C.ecmaVersion>=6?6:C.sourceType==="module"?"5module":5]);var X="";C.allowReserved!==!0&&(X=Z[C.ecmaVersion>=6?6:C.ecmaVersion===5?5:3],C.sourceType==="module"&&(X+=" await")),this.reservedWords=qt(X);var ft=(X?X+" ":"")+Z.strict;this.reservedWordsStrict=qt(ft),this.reservedWordsStrictBind=qt(ft+" "+Z.strictBind),this.input=String(F),this.containsEsc=!1,H?(this.pos=H,this.lineStart=this.input.lastIndexOf(`
`,H-1)+1,this.curLine=this.input.slice(0,this.lineStart).split($t).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=D.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=C.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&C.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(bt),this.regexpState=null,this.privateNameStack=[]},e={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};t.prototype.parse=function(){var C=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(C)},e.inFunction.get=function(){return(this.currentVarScope().flags&Mt)>0},e.inGenerator.get=function(){return(this.currentVarScope().flags&Ie)>0&&!this.currentVarScope().inClassFieldInit},e.inAsync.get=function(){return(this.currentVarScope().flags&Gt)>0&&!this.currentVarScope().inClassFieldInit},e.canAwait.get=function(){for(var o=this.scopeStack.length-1;o>=0;o--){var C=this.scopeStack[o];if(C.inClassFieldInit||C.flags&xt)return!1;if(C.flags&Mt)return(C.flags&Gt)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},e.allowSuper.get=function(){var o=this.currentThisScope(),C=o.flags,F=o.inClassFieldInit;return(C&dt)>0||F||this.options.allowSuperOutsideMethod},e.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Ot)>0},e.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},e.allowNewDotTarget.get=function(){var o=this.currentThisScope(),C=o.flags,F=o.inClassFieldInit;return(C&(Mt|xt))>0||F},e.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&xt)>0},t.extend=function(){for(var C=[],F=arguments.length;F--;)C[F]=arguments[F];for(var H=this,X=0;X<C.length;X++)H=C[X](H);return H},t.parse=function(C,F){return new this(F,C).parse()},t.parseExpressionAt=function(C,F,H){var X=new this(H,C,F);return X.nextToken(),X.parseExpression()},t.tokenizer=function(C,F){return new this(F,C)},Object.defineProperties(t.prototype,e);var i=t.prototype,r=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;i.strictDirective=function(o){if(this.options.ecmaVersion<5)return!1;for(;;){_e.lastIndex=o,o+=_e.exec(this.input)[0].length;var C=r.exec(this.input.slice(o));if(!C)return!1;if((C[1]||C[2])==="use strict"){_e.lastIndex=o+C[0].length;var F=_e.exec(this.input),H=F.index+F[0].length,X=this.input.charAt(H);return X===";"||X==="}"||$t.test(F[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(X)||X==="!"&&this.input.charAt(H+1)==="=")}o+=C[0].length,_e.lastIndex=o,o+=_e.exec(this.input)[0].length,this.input[o]===";"&&o++}},i.eat=function(o){return this.type===o?(this.next(),!0):!1},i.isContextual=function(o){return this.type===D.name&&this.value===o&&!this.containsEsc},i.eatContextual=function(o){return this.isContextual(o)?(this.next(),!0):!1},i.expectContextual=function(o){this.eatContextual(o)||this.unexpected()},i.canInsertSemicolon=function(){return this.type===D.eof||this.type===D.braceR||$t.test(this.input.slice(this.lastTokEnd,this.start))},i.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},i.semicolon=function(){!this.eat(D.semi)&&!this.insertSemicolon()&&this.unexpected()},i.afterTrailingComma=function(o,C){if(this.type===o)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),C||this.next(),!0},i.expect=function(o){this.eat(o)||this.unexpected()},i.unexpected=function(o){this.raise(o??this.start,"Unexpected token")};var s=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};i.checkPatternErrors=function(o,C){if(o){o.trailingComma>-1&&this.raiseRecoverable(o.trailingComma,"Comma is not permitted after the rest element");var F=C?o.parenthesizedAssign:o.parenthesizedBind;F>-1&&this.raiseRecoverable(F,C?"Assigning to rvalue":"Parenthesized pattern")}},i.checkExpressionErrors=function(o,C){if(!o)return!1;var F=o.shorthandAssign,H=o.doubleProto;if(!C)return F>=0||H>=0;F>=0&&this.raise(F,"Shorthand property assignments are valid only in destructuring patterns"),H>=0&&this.raiseRecoverable(H,"Redefinition of __proto__ property")},i.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},i.isSimpleAssignTarget=function(o){return o.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(o.expression):o.type==="Identifier"||o.type==="MemberExpression"};var a=t.prototype;a.parseTopLevel=function(o){var C=Object.create(null);for(o.body||(o.body=[]);this.type!==D.eof;){var F=this.parseStatement(null,!0,C);o.body.push(F)}if(this.inModule)for(var H=0,X=Object.keys(this.undefinedExports);H<X.length;H+=1){var ft=X[H];this.raiseRecoverable(this.undefinedExports[ft].start,"Export '"+ft+"' is not defined")}return this.adaptDirectivePrologue(o.body),this.next(),o.sourceType=this.options.sourceType,this.finishNode(o,"Program")};var l={kind:"loop"},h={kind:"switch"};a.isLet=function(o){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;_e.lastIndex=this.pos;var C=_e.exec(this.input),F=this.pos+C[0].length,H=this.input.charCodeAt(F);if(H===91||H===92)return!0;if(o)return!1;if(H===123||H>55295&&H<56320)return!0;if(Ft(H,!0)){for(var X=F+1;ot(H=this.input.charCodeAt(X),!0);)++X;if(H===92||H>55295&&H<56320)return!0;var ft=this.input.slice(F,X);if(!Q.test(ft))return!0}return!1},a.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;_e.lastIndex=this.pos;var o=_e.exec(this.input),C=this.pos+o[0].length,F;return!$t.test(this.input.slice(this.pos,C))&&this.input.slice(C,C+8)==="function"&&(C+8===this.input.length||!(ot(F=this.input.charCodeAt(C+8))||F>55295&&F<56320))},a.parseStatement=function(o,C,F){var H=this.type,X=this.startNode(),ft;switch(this.isLet(o)&&(H=D._var,ft="let"),H){case D._break:case D._continue:return this.parseBreakContinueStatement(X,H.keyword);case D._debugger:return this.parseDebuggerStatement(X);case D._do:return this.parseDoStatement(X);case D._for:return this.parseForStatement(X);case D._function:return o&&(this.strict||o!=="if"&&o!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(X,!1,!o);case D._class:return o&&this.unexpected(),this.parseClass(X,!0);case D._if:return this.parseIfStatement(X);case D._return:return this.parseReturnStatement(X);case D._switch:return this.parseSwitchStatement(X);case D._throw:return this.parseThrowStatement(X);case D._try:return this.parseTryStatement(X);case D._const:case D._var:return ft=ft||this.value,o&&ft!=="var"&&this.unexpected(),this.parseVarStatement(X,ft);case D._while:return this.parseWhileStatement(X);case D._with:return this.parseWithStatement(X);case D.braceL:return this.parseBlock(!0,X);case D.semi:return this.parseEmptyStatement(X);case D._export:case D._import:if(this.options.ecmaVersion>10&&H===D._import){_e.lastIndex=this.pos;var pt=_e.exec(this.input),Dt=this.pos+pt[0].length,Wt=this.input.charCodeAt(Dt);if(Wt===40||Wt===46)return this.parseExpressionStatement(X,this.parseExpression())}return this.options.allowImportExportEverywhere||(C||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),H===D._import?this.parseImport(X):this.parseExport(X,F);default:if(this.isAsyncFunction())return o&&this.unexpected(),this.next(),this.parseFunctionStatement(X,!0,!o);var le=this.value,re=this.parseExpression();return H===D.name&&re.type==="Identifier"&&this.eat(D.colon)?this.parseLabeledStatement(X,le,re,o):this.parseExpressionStatement(X,re)}},a.parseBreakContinueStatement=function(o,C){var F=C==="break";this.next(),this.eat(D.semi)||this.insertSemicolon()?o.label=null:this.type!==D.name?this.unexpected():(o.label=this.parseIdent(),this.semicolon());for(var H=0;H<this.labels.length;++H){var X=this.labels[H];if((o.label==null||X.name===o.label.name)&&(X.kind!=null&&(F||X.kind==="loop")||o.label&&F))break}return H===this.labels.length&&this.raise(o.start,"Unsyntactic "+C),this.finishNode(o,F?"BreakStatement":"ContinueStatement")},a.parseDebuggerStatement=function(o){return this.next(),this.semicolon(),this.finishNode(o,"DebuggerStatement")},a.parseDoStatement=function(o){return this.next(),this.labels.push(l),o.body=this.parseStatement("do"),this.labels.pop(),this.expect(D._while),o.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(D.semi):this.semicolon(),this.finishNode(o,"DoWhileStatement")},a.parseForStatement=function(o){this.next();var C=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(l),this.enterScope(0),this.expect(D.parenL),this.type===D.semi)return C>-1&&this.unexpected(C),this.parseFor(o,null);var F=this.isLet();if(this.type===D._var||this.type===D._const||F){var H=this.startNode(),X=F?"let":this.value;return this.next(),this.parseVar(H,!0,X),this.finishNode(H,"VariableDeclaration"),(this.type===D._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&H.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===D._in?C>-1&&this.unexpected(C):o.await=C>-1),this.parseForIn(o,H)):(C>-1&&this.unexpected(C),this.parseFor(o,H))}var ft=this.isContextual("let"),pt=!1,Dt=this.containsEsc,Wt=new s,le=this.start,re=C>-1?this.parseExprSubscripts(Wt,"await"):this.parseExpression(!0,Wt);return this.type===D._in||(pt=this.options.ecmaVersion>=6&&this.isContextual("of"))?(C>-1?(this.type===D._in&&this.unexpected(C),o.await=!0):pt&&this.options.ecmaVersion>=8&&(re.start===le&&!Dt&&re.type==="Identifier"&&re.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(o.await=!1)),ft&&pt&&this.raise(re.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(re,!1,Wt),this.checkLValPattern(re),this.parseForIn(o,re)):(this.checkExpressionErrors(Wt,!0),C>-1&&this.unexpected(C),this.parseFor(o,re))},a.parseFunctionStatement=function(o,C,F){return this.next(),this.parseFunction(o,d|(F?0:_),!1,C)},a.parseIfStatement=function(o){return this.next(),o.test=this.parseParenExpression(),o.consequent=this.parseStatement("if"),o.alternate=this.eat(D._else)?this.parseStatement("if"):null,this.finishNode(o,"IfStatement")},a.parseReturnStatement=function(o){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(D.semi)||this.insertSemicolon()?o.argument=null:(o.argument=this.parseExpression(),this.semicolon()),this.finishNode(o,"ReturnStatement")},a.parseSwitchStatement=function(o){this.next(),o.discriminant=this.parseParenExpression(),o.cases=[],this.expect(D.braceL),this.labels.push(h),this.enterScope(0);for(var C,F=!1;this.type!==D.braceR;)if(this.type===D._case||this.type===D._default){var H=this.type===D._case;C&&this.finishNode(C,"SwitchCase"),o.cases.push(C=this.startNode()),C.consequent=[],this.next(),H?C.test=this.parseExpression():(F&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),F=!0,C.test=null),this.expect(D.colon)}else C||this.unexpected(),C.consequent.push(this.parseStatement(null));return this.exitScope(),C&&this.finishNode(C,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(o,"SwitchStatement")},a.parseThrowStatement=function(o){return this.next(),$t.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),o.argument=this.parseExpression(),this.semicolon(),this.finishNode(o,"ThrowStatement")};var f=[];a.parseCatchClauseParam=function(){var o=this.parseBindingAtom(),C=o.type==="Identifier";return this.enterScope(C?et:0),this.checkLValPattern(o,C?Et:yt),this.expect(D.parenR),o},a.parseTryStatement=function(o){if(this.next(),o.block=this.parseBlock(),o.handler=null,this.type===D._catch){var C=this.startNode();this.next(),this.eat(D.parenL)?C.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),C.param=null,this.enterScope(0)),C.body=this.parseBlock(!1),this.exitScope(),o.handler=this.finishNode(C,"CatchClause")}return o.finalizer=this.eat(D._finally)?this.parseBlock():null,!o.handler&&!o.finalizer&&this.raise(o.start,"Missing catch or finally clause"),this.finishNode(o,"TryStatement")},a.parseVarStatement=function(o,C,F){return this.next(),this.parseVar(o,!1,C,F),this.semicolon(),this.finishNode(o,"VariableDeclaration")},a.parseWhileStatement=function(o){return this.next(),o.test=this.parseParenExpression(),this.labels.push(l),o.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(o,"WhileStatement")},a.parseWithStatement=function(o){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),o.object=this.parseParenExpression(),o.body=this.parseStatement("with"),this.finishNode(o,"WithStatement")},a.parseEmptyStatement=function(o){return this.next(),this.finishNode(o,"EmptyStatement")},a.parseLabeledStatement=function(o,C,F,H){for(var X=0,ft=this.labels;X<ft.length;X+=1){var pt=ft[X];pt.name===C&&this.raise(F.start,"Label '"+C+"' is already declared")}for(var Dt=this.type.isLoop?"loop":this.type===D._switch?"switch":null,Wt=this.labels.length-1;Wt>=0;Wt--){var le=this.labels[Wt];if(le.statementStart===o.start)le.statementStart=this.start,le.kind=Dt;else break}return this.labels.push({name:C,kind:Dt,statementStart:this.start}),o.body=this.parseStatement(H?H.indexOf("label")===-1?H+"label":H:"label"),this.labels.pop(),o.label=F,this.finishNode(o,"LabeledStatement")},a.parseExpressionStatement=function(o,C){return o.expression=C,this.semicolon(),this.finishNode(o,"ExpressionStatement")},a.parseBlock=function(o,C,F){for(o===void 0&&(o=!0),C===void 0&&(C=this.startNode()),C.body=[],this.expect(D.braceL),o&&this.enterScope(0);this.type!==D.braceR;){var H=this.parseStatement(null);C.body.push(H)}return F&&(this.strict=!1),this.next(),o&&this.exitScope(),this.finishNode(C,"BlockStatement")},a.parseFor=function(o,C){return o.init=C,this.expect(D.semi),o.test=this.type===D.semi?null:this.parseExpression(),this.expect(D.semi),o.update=this.type===D.parenR?null:this.parseExpression(),this.expect(D.parenR),o.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(o,"ForStatement")},a.parseForIn=function(o,C){var F=this.type===D._in;return this.next(),C.type==="VariableDeclaration"&&C.declarations[0].init!=null&&(!F||this.options.ecmaVersion<8||this.strict||C.kind!=="var"||C.declarations[0].id.type!=="Identifier")&&this.raise(C.start,(F?"for-in":"for-of")+" loop variable declaration may not have an initializer"),o.left=C,o.right=F?this.parseExpression():this.parseMaybeAssign(),this.expect(D.parenR),o.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(o,F?"ForInStatement":"ForOfStatement")},a.parseVar=function(o,C,F,H){for(o.declarations=[],o.kind=F;;){var X=this.startNode();if(this.parseVarId(X,F),this.eat(D.eq)?X.init=this.parseMaybeAssign(C):!H&&F==="const"&&!(this.type===D._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!H&&X.id.type!=="Identifier"&&!(C&&(this.type===D._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):X.init=null,o.declarations.push(this.finishNode(X,"VariableDeclarator")),!this.eat(D.comma))break}return o},a.parseVarId=function(o,C){o.id=this.parseBindingAtom(),this.checkLValPattern(o.id,C==="var"?kt:yt,!1)};var d=1,_=2,g=4;a.parseFunction=function(o,C,F,H,X){this.initFunction(o),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!H)&&(this.type===D.star&&C&_&&this.unexpected(),o.generator=this.eat(D.star)),this.options.ecmaVersion>=8&&(o.async=!!H),C&d&&(o.id=C&g&&this.type!==D.name?null:this.parseIdent(),o.id&&!(C&_)&&this.checkLValSimple(o.id,this.strict||o.generator||o.async?this.treatFunctionsAsVar?kt:yt:Zt));var ft=this.yieldPos,pt=this.awaitPos,Dt=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(jt(o.async,o.generator)),C&d||(o.id=this.type===D.name?this.parseIdent():null),this.parseFunctionParams(o),this.parseFunctionBody(o,F,!1,X),this.yieldPos=ft,this.awaitPos=pt,this.awaitIdentPos=Dt,this.finishNode(o,C&d?"FunctionDeclaration":"FunctionExpression")},a.parseFunctionParams=function(o){this.expect(D.parenL),o.params=this.parseBindingList(D.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},a.parseClass=function(o,C){this.next();var F=this.strict;this.strict=!0,this.parseClassId(o,C),this.parseClassSuper(o);var H=this.enterClassBody(),X=this.startNode(),ft=!1;for(X.body=[],this.expect(D.braceL);this.type!==D.braceR;){var pt=this.parseClassElement(o.superClass!==null);pt&&(X.body.push(pt),pt.type==="MethodDefinition"&&pt.kind==="constructor"?(ft&&this.raiseRecoverable(pt.start,"Duplicate constructor in the same class"),ft=!0):pt.key&&pt.key.type==="PrivateIdentifier"&&p(H,pt)&&this.raiseRecoverable(pt.key.start,"Identifier '#"+pt.key.name+"' has already been declared"))}return this.strict=F,this.next(),o.body=this.finishNode(X,"ClassBody"),this.exitClassBody(),this.finishNode(o,C?"ClassDeclaration":"ClassExpression")},a.parseClassElement=function(o){if(this.eat(D.semi))return null;var C=this.options.ecmaVersion,F=this.startNode(),H="",X=!1,ft=!1,pt="method",Dt=!1;if(this.eatContextual("static")){if(C>=13&&this.eat(D.braceL))return this.parseClassStaticBlock(F),F;this.isClassElementNameStart()||this.type===D.star?Dt=!0:H="static"}if(F.static=Dt,!H&&C>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===D.star)&&!this.canInsertSemicolon()?ft=!0:H="async"),!H&&(C>=9||!ft)&&this.eat(D.star)&&(X=!0),!H&&!ft&&!X){var Wt=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?pt=Wt:H=Wt)}if(H?(F.computed=!1,F.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),F.key.name=H,this.finishNode(F.key,"Identifier")):this.parseClassElementName(F),C<13||this.type===D.parenL||pt!=="method"||X||ft){var le=!F.static&&w(F,"constructor"),re=le&&o;le&&pt!=="method"&&this.raise(F.key.start,"Constructor can't have get/set modifier"),F.kind=le?"constructor":pt,this.parseClassMethod(F,X,ft,re)}else this.parseClassField(F);return F},a.isClassElementNameStart=function(){return this.type===D.name||this.type===D.privateId||this.type===D.num||this.type===D.string||this.type===D.bracketL||this.type.keyword},a.parseClassElementName=function(o){this.type===D.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),o.computed=!1,o.key=this.parsePrivateIdent()):this.parsePropertyName(o)},a.parseClassMethod=function(o,C,F,H){var X=o.key;o.kind==="constructor"?(C&&this.raise(X.start,"Constructor can't be a generator"),F&&this.raise(X.start,"Constructor can't be an async method")):o.static&&w(o,"prototype")&&this.raise(X.start,"Classes may not have a static property named prototype");var ft=o.value=this.parseMethod(C,F,H);return o.kind==="get"&&ft.params.length!==0&&this.raiseRecoverable(ft.start,"getter should have no params"),o.kind==="set"&&ft.params.length!==1&&this.raiseRecoverable(ft.start,"setter should have exactly one param"),o.kind==="set"&&ft.params[0].type==="RestElement"&&this.raiseRecoverable(ft.params[0].start,"Setter cannot use rest params"),this.finishNode(o,"MethodDefinition")},a.parseClassField=function(o){if(w(o,"constructor")?this.raise(o.key.start,"Classes can't have a field named 'constructor'"):o.static&&w(o,"prototype")&&this.raise(o.key.start,"Classes can't have a static field named 'prototype'"),this.eat(D.eq)){var C=this.currentThisScope(),F=C.inClassFieldInit;C.inClassFieldInit=!0,o.value=this.parseMaybeAssign(),C.inClassFieldInit=F}else o.value=null;return this.semicolon(),this.finishNode(o,"PropertyDefinition")},a.parseClassStaticBlock=function(o){o.body=[];var C=this.labels;for(this.labels=[],this.enterScope(xt|dt);this.type!==D.braceR;){var F=this.parseStatement(null);o.body.push(F)}return this.next(),this.exitScope(),this.labels=C,this.finishNode(o,"StaticBlock")},a.parseClassId=function(o,C){this.type===D.name?(o.id=this.parseIdent(),C&&this.checkLValSimple(o.id,yt,!1)):(C===!0&&this.unexpected(),o.id=null)},a.parseClassSuper=function(o){o.superClass=this.eat(D._extends)?this.parseExprSubscripts(null,!1):null},a.enterClassBody=function(){var o={declared:Object.create(null),used:[]};return this.privateNameStack.push(o),o.declared},a.exitClassBody=function(){var o=this.privateNameStack.pop(),C=o.declared,F=o.used;if(this.options.checkPrivateFields)for(var H=this.privateNameStack.length,X=H===0?null:this.privateNameStack[H-1],ft=0;ft<F.length;++ft){var pt=F[ft];at(C,pt.name)||(X?X.used.push(pt):this.raiseRecoverable(pt.start,"Private field '#"+pt.name+"' must be declared in an enclosing class"))}};function p(o,C){var F=C.key.name,H=o[F],X="true";return C.type==="MethodDefinition"&&(C.kind==="get"||C.kind==="set")&&(X=(C.static?"s":"i")+C.kind),H==="iget"&&X==="iset"||H==="iset"&&X==="iget"||H==="sget"&&X==="sset"||H==="sset"&&X==="sget"?(o[F]="true",!1):H?!0:(o[F]=X,!1)}function w(o,C){var F=o.computed,H=o.key;return!F&&(H.type==="Identifier"&&H.name===C||H.type==="Literal"&&H.value===C)}a.parseExportAllDeclaration=function(o,C){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(o.exported=this.parseModuleExportName(),this.checkExport(C,o.exported,this.lastTokStart)):o.exported=null),this.expectContextual("from"),this.type!==D.string&&this.unexpected(),o.source=this.parseExprAtom(),this.semicolon(),this.finishNode(o,"ExportAllDeclaration")},a.parseExport=function(o,C){if(this.next(),this.eat(D.star))return this.parseExportAllDeclaration(o,C);if(this.eat(D._default))return this.checkExport(C,"default",this.lastTokStart),o.declaration=this.parseExportDefaultDeclaration(),this.finishNode(o,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())o.declaration=this.parseExportDeclaration(o),o.declaration.type==="VariableDeclaration"?this.checkVariableExport(C,o.declaration.declarations):this.checkExport(C,o.declaration.id,o.declaration.id.start),o.specifiers=[],o.source=null;else{if(o.declaration=null,o.specifiers=this.parseExportSpecifiers(C),this.eatContextual("from"))this.type!==D.string&&this.unexpected(),o.source=this.parseExprAtom();else{for(var F=0,H=o.specifiers;F<H.length;F+=1){var X=H[F];this.checkUnreserved(X.local),this.checkLocalExport(X.local),X.local.type==="Literal"&&this.raise(X.local.start,"A string literal cannot be used as an exported binding without `from`.")}o.source=null}this.semicolon()}return this.finishNode(o,"ExportNamedDeclaration")},a.parseExportDeclaration=function(o){return this.parseStatement(null)},a.parseExportDefaultDeclaration=function(){var o;if(this.type===D._function||(o=this.isAsyncFunction())){var C=this.startNode();return this.next(),o&&this.next(),this.parseFunction(C,d|g,!1,o)}else if(this.type===D._class){var F=this.startNode();return this.parseClass(F,"nullableID")}else{var H=this.parseMaybeAssign();return this.semicolon(),H}},a.checkExport=function(o,C,F){o&&(typeof C!="string"&&(C=C.type==="Identifier"?C.name:C.value),at(o,C)&&this.raiseRecoverable(F,"Duplicate export '"+C+"'"),o[C]=!0)},a.checkPatternExport=function(o,C){var F=C.type;if(F==="Identifier")this.checkExport(o,C,C.start);else if(F==="ObjectPattern")for(var H=0,X=C.properties;H<X.length;H+=1){var ft=X[H];this.checkPatternExport(o,ft)}else if(F==="ArrayPattern")for(var pt=0,Dt=C.elements;pt<Dt.length;pt+=1){var Wt=Dt[pt];Wt&&this.checkPatternExport(o,Wt)}else F==="Property"?this.checkPatternExport(o,C.value):F==="AssignmentPattern"?this.checkPatternExport(o,C.left):F==="RestElement"&&this.checkPatternExport(o,C.argument)},a.checkVariableExport=function(o,C){if(o)for(var F=0,H=C;F<H.length;F+=1){var X=H[F];this.checkPatternExport(o,X.id)}},a.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},a.parseExportSpecifier=function(o){var C=this.startNode();return C.local=this.parseModuleExportName(),C.exported=this.eatContextual("as")?this.parseModuleExportName():C.local,this.checkExport(o,C.exported,C.exported.start),this.finishNode(C,"ExportSpecifier")},a.parseExportSpecifiers=function(o){var C=[],F=!0;for(this.expect(D.braceL);!this.eat(D.braceR);){if(F)F=!1;else if(this.expect(D.comma),this.afterTrailingComma(D.braceR))break;C.push(this.parseExportSpecifier(o))}return C},a.parseImport=function(o){return this.next(),this.type===D.string?(o.specifiers=f,o.source=this.parseExprAtom()):(o.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),o.source=this.type===D.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(o,"ImportDeclaration")},a.parseImportSpecifier=function(){var o=this.startNode();return o.imported=this.parseModuleExportName(),this.eatContextual("as")?o.local=this.parseIdent():(this.checkUnreserved(o.imported),o.local=o.imported),this.checkLValSimple(o.local,yt),this.finishNode(o,"ImportSpecifier")},a.parseImportDefaultSpecifier=function(){var o=this.startNode();return o.local=this.parseIdent(),this.checkLValSimple(o.local,yt),this.finishNode(o,"ImportDefaultSpecifier")},a.parseImportNamespaceSpecifier=function(){var o=this.startNode();return this.next(),this.expectContextual("as"),o.local=this.parseIdent(),this.checkLValSimple(o.local,yt),this.finishNode(o,"ImportNamespaceSpecifier")},a.parseImportSpecifiers=function(){var o=[],C=!0;if(this.type===D.name&&(o.push(this.parseImportDefaultSpecifier()),!this.eat(D.comma)))return o;if(this.type===D.star)return o.push(this.parseImportNamespaceSpecifier()),o;for(this.expect(D.braceL);!this.eat(D.braceR);){if(C)C=!1;else if(this.expect(D.comma),this.afterTrailingComma(D.braceR))break;o.push(this.parseImportSpecifier())}return o},a.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===D.string){var o=this.parseLiteral(this.value);return Ze.test(o.value)&&this.raise(o.start,"An export name cannot include a lone surrogate."),o}return this.parseIdent(!0)},a.adaptDirectivePrologue=function(o){for(var C=0;C<o.length&&this.isDirectiveCandidate(o[C]);++C)o[C].directive=o[C].expression.raw.slice(1,-1)},a.isDirectiveCandidate=function(o){return this.options.ecmaVersion>=5&&o.type==="ExpressionStatement"&&o.expression.type==="Literal"&&typeof o.expression.value=="string"&&(this.input[o.start]==='"'||this.input[o.start]==="'")};var E=t.prototype;E.toAssignable=function(o,C,F){if(this.options.ecmaVersion>=6&&o)switch(o.type){case"Identifier":this.inAsync&&o.name==="await"&&this.raise(o.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":o.type="ObjectPattern",F&&this.checkPatternErrors(F,!0);for(var H=0,X=o.properties;H<X.length;H+=1){var ft=X[H];this.toAssignable(ft,C),ft.type==="RestElement"&&(ft.argument.type==="ArrayPattern"||ft.argument.type==="ObjectPattern")&&this.raise(ft.argument.start,"Unexpected token")}break;case"Property":o.kind!=="init"&&this.raise(o.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(o.value,C);break;case"ArrayExpression":o.type="ArrayPattern",F&&this.checkPatternErrors(F,!0),this.toAssignableList(o.elements,C);break;case"SpreadElement":o.type="RestElement",this.toAssignable(o.argument,C),o.argument.type==="AssignmentPattern"&&this.raise(o.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":o.operator!=="="&&this.raise(o.left.end,"Only '=' operator can be used for specifying default value."),o.type="AssignmentPattern",delete o.operator,this.toAssignable(o.left,C);break;case"ParenthesizedExpression":this.toAssignable(o.expression,C,F);break;case"ChainExpression":this.raiseRecoverable(o.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!C)break;default:this.raise(o.start,"Assigning to rvalue")}else F&&this.checkPatternErrors(F,!0);return o},E.toAssignableList=function(o,C){for(var F=o.length,H=0;H<F;H++){var X=o[H];X&&this.toAssignable(X,C)}if(F){var ft=o[F-1];this.options.ecmaVersion===6&&C&&ft&&ft.type==="RestElement"&&ft.argument.type!=="Identifier"&&this.unexpected(ft.argument.start)}return o},E.parseSpread=function(o){var C=this.startNode();return this.next(),C.argument=this.parseMaybeAssign(!1,o),this.finishNode(C,"SpreadElement")},E.parseRestBinding=function(){var o=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==D.name&&this.unexpected(),o.argument=this.parseBindingAtom(),this.finishNode(o,"RestElement")},E.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case D.bracketL:var o=this.startNode();return this.next(),o.elements=this.parseBindingList(D.bracketR,!0,!0),this.finishNode(o,"ArrayPattern");case D.braceL:return this.parseObj(!0)}return this.parseIdent()},E.parseBindingList=function(o,C,F,H){for(var X=[],ft=!0;!this.eat(o);)if(ft?ft=!1:this.expect(D.comma),C&&this.type===D.comma)X.push(null);else{if(F&&this.afterTrailingComma(o))break;if(this.type===D.ellipsis){var pt=this.parseRestBinding();this.parseBindingListItem(pt),X.push(pt),this.type===D.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(o);break}else X.push(this.parseAssignableListItem(H))}return X},E.parseAssignableListItem=function(o){var C=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(C),C},E.parseBindingListItem=function(o){return o},E.parseMaybeDefault=function(o,C,F){if(F=F||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(D.eq))return F;var H=this.startNodeAt(o,C);return H.left=F,H.right=this.parseMaybeAssign(),this.finishNode(H,"AssignmentPattern")},E.checkLValSimple=function(o,C,F){C===void 0&&(C=At);var H=C!==At;switch(o.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(o.name)&&this.raiseRecoverable(o.start,(H?"Binding ":"Assigning to ")+o.name+" in strict mode"),H&&(C===yt&&o.name==="let"&&this.raiseRecoverable(o.start,"let is disallowed as a lexically bound name"),F&&(at(F,o.name)&&this.raiseRecoverable(o.start,"Argument name clash"),F[o.name]=!0),C!==n&&this.declareName(o.name,C,o.start));break;case"ChainExpression":this.raiseRecoverable(o.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":H&&this.raiseRecoverable(o.start,"Binding member expression");break;case"ParenthesizedExpression":return H&&this.raiseRecoverable(o.start,"Binding parenthesized expression"),this.checkLValSimple(o.expression,C,F);default:this.raise(o.start,(H?"Binding":"Assigning to")+" rvalue")}},E.checkLValPattern=function(o,C,F){switch(C===void 0&&(C=At),o.type){case"ObjectPattern":for(var H=0,X=o.properties;H<X.length;H+=1){var ft=X[H];this.checkLValInnerPattern(ft,C,F)}break;case"ArrayPattern":for(var pt=0,Dt=o.elements;pt<Dt.length;pt+=1){var Wt=Dt[pt];Wt&&this.checkLValInnerPattern(Wt,C,F)}break;default:this.checkLValSimple(o,C,F)}},E.checkLValInnerPattern=function(o,C,F){switch(C===void 0&&(C=At),o.type){case"Property":this.checkLValInnerPattern(o.value,C,F);break;case"AssignmentPattern":this.checkLValPattern(o.left,C,F);break;case"RestElement":this.checkLValPattern(o.argument,C,F);break;default:this.checkLValPattern(o,C,F)}};var I=function(C,F,H,X,ft){this.token=C,this.isExpr=!!F,this.preserveSpace=!!H,this.override=X,this.generator=!!ft},P={b_stat:new I("{",!1),b_expr:new I("{",!0),b_tmpl:new I("${",!1),p_stat:new I("(",!1),p_expr:new I("(",!0),q_tmpl:new I("`",!0,!0,function(o){return o.tryReadTemplateToken()}),f_stat:new I("function",!1),f_expr:new I("function",!0),f_expr_gen:new I("function",!0,!1,null,!0),f_gen:new I("function",!1,!1,null,!0)},x=t.prototype;x.initialContext=function(){return[P.b_stat]},x.curContext=function(){return this.context[this.context.length-1]},x.braceIsBlock=function(o){var C=this.curContext();return C===P.f_expr||C===P.f_stat?!0:o===D.colon&&(C===P.b_stat||C===P.b_expr)?!C.isExpr:o===D._return||o===D.name&&this.exprAllowed?$t.test(this.input.slice(this.lastTokEnd,this.start)):o===D._else||o===D.semi||o===D.eof||o===D.parenR||o===D.arrow?!0:o===D.braceL?C===P.b_stat:o===D._var||o===D._const||o===D.name?!1:!this.exprAllowed},x.inGeneratorContext=function(){for(var o=this.context.length-1;o>=1;o--){var C=this.context[o];if(C.token==="function")return C.generator}return!1},x.updateContext=function(o){var C,F=this.type;F.keyword&&o===D.dot?this.exprAllowed=!1:(C=F.updateContext)?C.call(this,o):this.exprAllowed=F.beforeExpr},x.overrideContext=function(o){this.curContext()!==o&&(this.context[this.context.length-1]=o)},D.parenR.updateContext=D.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var o=this.context.pop();o===P.b_stat&&this.curContext().token==="function"&&(o=this.context.pop()),this.exprAllowed=!o.isExpr},D.braceL.updateContext=function(o){this.context.push(this.braceIsBlock(o)?P.b_stat:P.b_expr),this.exprAllowed=!0},D.dollarBraceL.updateContext=function(){this.context.push(P.b_tmpl),this.exprAllowed=!0},D.parenL.updateContext=function(o){var C=o===D._if||o===D._for||o===D._with||o===D._while;this.context.push(C?P.p_stat:P.p_expr),this.exprAllowed=!0},D.incDec.updateContext=function(){},D._function.updateContext=D._class.updateContext=function(o){o.beforeExpr&&o!==D._else&&!(o===D.semi&&this.curContext()!==P.p_stat)&&!(o===D._return&&$t.test(this.input.slice(this.lastTokEnd,this.start)))&&!((o===D.colon||o===D.braceL)&&this.curContext()===P.b_stat)?this.context.push(P.f_expr):this.context.push(P.f_stat),this.exprAllowed=!1},D.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},D.backQuote.updateContext=function(){this.curContext()===P.q_tmpl?this.context.pop():this.context.push(P.q_tmpl),this.exprAllowed=!1},D.star.updateContext=function(o){if(o===D._function){var C=this.context.length-1;this.context[C]===P.f_expr?this.context[C]=P.f_expr_gen:this.context[C]=P.f_gen}this.exprAllowed=!0},D.name.updateContext=function(o){var C=!1;this.options.ecmaVersion>=6&&o!==D.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(C=!0),this.exprAllowed=C};var v=t.prototype;v.checkPropClash=function(o,C,F){if(!(this.options.ecmaVersion>=9&&o.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(o.computed||o.method||o.shorthand))){var H=o.key,X;switch(H.type){case"Identifier":X=H.name;break;case"Literal":X=String(H.value);break;default:return}var ft=o.kind;if(this.options.ecmaVersion>=6){X==="__proto__"&&ft==="init"&&(C.proto&&(F?F.doubleProto<0&&(F.doubleProto=H.start):this.raiseRecoverable(H.start,"Redefinition of __proto__ property")),C.proto=!0);return}X="$"+X;var pt=C[X];if(pt){var Dt;ft==="init"?Dt=this.strict&&pt.init||pt.get||pt.set:Dt=pt.init||pt[ft],Dt&&this.raiseRecoverable(H.start,"Redefinition of property")}else pt=C[X]={init:!1,get:!1,set:!1};pt[ft]=!0}},v.parseExpression=function(o,C){var F=this.start,H=this.startLoc,X=this.parseMaybeAssign(o,C);if(this.type===D.comma){var ft=this.startNodeAt(F,H);for(ft.expressions=[X];this.eat(D.comma);)ft.expressions.push(this.parseMaybeAssign(o,C));return this.finishNode(ft,"SequenceExpression")}return X},v.parseMaybeAssign=function(o,C,F){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(o);this.exprAllowed=!1}var H=!1,X=-1,ft=-1,pt=-1;C?(X=C.parenthesizedAssign,ft=C.trailingComma,pt=C.doubleProto,C.parenthesizedAssign=C.trailingComma=-1):(C=new s,H=!0);var Dt=this.start,Wt=this.startLoc;(this.type===D.parenL||this.type===D.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=o==="await");var le=this.parseMaybeConditional(o,C);if(F&&(le=F.call(this,le,Dt,Wt)),this.type.isAssign){var re=this.startNodeAt(Dt,Wt);return re.operator=this.value,this.type===D.eq&&(le=this.toAssignable(le,!1,C)),H||(C.parenthesizedAssign=C.trailingComma=C.doubleProto=-1),C.shorthandAssign>=le.start&&(C.shorthandAssign=-1),this.type===D.eq?this.checkLValPattern(le):this.checkLValSimple(le),re.left=le,this.next(),re.right=this.parseMaybeAssign(o),pt>-1&&(C.doubleProto=pt),this.finishNode(re,"AssignmentExpression")}else H&&this.checkExpressionErrors(C,!0);return X>-1&&(C.parenthesizedAssign=X),ft>-1&&(C.trailingComma=ft),le},v.parseMaybeConditional=function(o,C){var F=this.start,H=this.startLoc,X=this.parseExprOps(o,C);if(this.checkExpressionErrors(C))return X;if(this.eat(D.question)){var ft=this.startNodeAt(F,H);return ft.test=X,ft.consequent=this.parseMaybeAssign(),this.expect(D.colon),ft.alternate=this.parseMaybeAssign(o),this.finishNode(ft,"ConditionalExpression")}return X},v.parseExprOps=function(o,C){var F=this.start,H=this.startLoc,X=this.parseMaybeUnary(C,!1,!1,o);return this.checkExpressionErrors(C)||X.start===F&&X.type==="ArrowFunctionExpression"?X:this.parseExprOp(X,F,H,-1,o)},v.parseExprOp=function(o,C,F,H,X){var ft=this.type.binop;if(ft!=null&&(!X||this.type!==D._in)&&ft>H){var pt=this.type===D.logicalOR||this.type===D.logicalAND,Dt=this.type===D.coalesce;Dt&&(ft=D.logicalAND.binop);var Wt=this.value;this.next();var le=this.start,re=this.startLoc,qe=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,X),le,re,ft,X),Mi=this.buildBinary(C,F,o,qe,Wt,pt||Dt);return(pt&&this.type===D.coalesce||Dt&&(this.type===D.logicalOR||this.type===D.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(Mi,C,F,H,X)}return o},v.buildBinary=function(o,C,F,H,X,ft){H.type==="PrivateIdentifier"&&this.raise(H.start,"Private identifier can only be left side of binary expression");var pt=this.startNodeAt(o,C);return pt.left=F,pt.operator=X,pt.right=H,this.finishNode(pt,ft?"LogicalExpression":"BinaryExpression")},v.parseMaybeUnary=function(o,C,F,H){var X=this.start,ft=this.startLoc,pt;if(this.isContextual("await")&&this.canAwait)pt=this.parseAwait(H),C=!0;else if(this.type.prefix){var Dt=this.startNode(),Wt=this.type===D.incDec;Dt.operator=this.value,Dt.prefix=!0,this.next(),Dt.argument=this.parseMaybeUnary(null,!0,Wt,H),this.checkExpressionErrors(o,!0),Wt?this.checkLValSimple(Dt.argument):this.strict&&Dt.operator==="delete"&&m(Dt.argument)?this.raiseRecoverable(Dt.start,"Deleting local variable in strict mode"):Dt.operator==="delete"&&S(Dt.argument)?this.raiseRecoverable(Dt.start,"Private fields can not be deleted"):C=!0,pt=this.finishNode(Dt,Wt?"UpdateExpression":"UnaryExpression")}else if(!C&&this.type===D.privateId)(H||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),pt=this.parsePrivateIdent(),this.type!==D._in&&this.unexpected();else{if(pt=this.parseExprSubscripts(o,H),this.checkExpressionErrors(o))return pt;for(;this.type.postfix&&!this.canInsertSemicolon();){var le=this.startNodeAt(X,ft);le.operator=this.value,le.prefix=!1,le.argument=pt,this.checkLValSimple(pt),this.next(),pt=this.finishNode(le,"UpdateExpression")}}if(!F&&this.eat(D.starstar))if(C)this.unexpected(this.lastTokStart);else return this.buildBinary(X,ft,pt,this.parseMaybeUnary(null,!1,!1,H),"**",!1);else return pt};function m(o){return o.type==="Identifier"||o.type==="ParenthesizedExpression"&&m(o.expression)}function S(o){return o.type==="MemberExpression"&&o.property.type==="PrivateIdentifier"||o.type==="ChainExpression"&&S(o.expression)||o.type==="ParenthesizedExpression"&&S(o.expression)}v.parseExprSubscripts=function(o,C){var F=this.start,H=this.startLoc,X=this.parseExprAtom(o,C);if(X.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return X;var ft=this.parseSubscripts(X,F,H,!1,C);return o&&ft.type==="MemberExpression"&&(o.parenthesizedAssign>=ft.start&&(o.parenthesizedAssign=-1),o.parenthesizedBind>=ft.start&&(o.parenthesizedBind=-1),o.trailingComma>=ft.start&&(o.trailingComma=-1)),ft},v.parseSubscripts=function(o,C,F,H,X){for(var ft=this.options.ecmaVersion>=8&&o.type==="Identifier"&&o.name==="async"&&this.lastTokEnd===o.end&&!this.canInsertSemicolon()&&o.end-o.start===5&&this.potentialArrowAt===o.start,pt=!1;;){var Dt=this.parseSubscript(o,C,F,H,ft,pt,X);if(Dt.optional&&(pt=!0),Dt===o||Dt.type==="ArrowFunctionExpression"){if(pt){var Wt=this.startNodeAt(C,F);Wt.expression=Dt,Dt=this.finishNode(Wt,"ChainExpression")}return Dt}o=Dt}},v.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(D.arrow)},v.parseSubscriptAsyncArrow=function(o,C,F,H){return this.parseArrowExpression(this.startNodeAt(o,C),F,!0,H)},v.parseSubscript=function(o,C,F,H,X,ft,pt){var Dt=this.options.ecmaVersion>=11,Wt=Dt&&this.eat(D.questionDot);H&&Wt&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var le=this.eat(D.bracketL);if(le||Wt&&this.type!==D.parenL&&this.type!==D.backQuote||this.eat(D.dot)){var re=this.startNodeAt(C,F);re.object=o,le?(re.property=this.parseExpression(),this.expect(D.bracketR)):this.type===D.privateId&&o.type!=="Super"?re.property=this.parsePrivateIdent():re.property=this.parseIdent(this.options.allowReserved!=="never"),re.computed=!!le,Dt&&(re.optional=Wt),o=this.finishNode(re,"MemberExpression")}else if(!H&&this.eat(D.parenL)){var qe=new s,Mi=this.yieldPos,un=this.awaitPos,ji=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var bn=this.parseExprList(D.parenR,this.options.ecmaVersion>=8,!1,qe);if(X&&!Wt&&this.shouldParseAsyncArrow())return this.checkPatternErrors(qe,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=Mi,this.awaitPos=un,this.awaitIdentPos=ji,this.parseSubscriptAsyncArrow(C,F,bn,pt);this.checkExpressionErrors(qe,!0),this.yieldPos=Mi||this.yieldPos,this.awaitPos=un||this.awaitPos,this.awaitIdentPos=ji||this.awaitIdentPos;var Wi=this.startNodeAt(C,F);Wi.callee=o,Wi.arguments=bn,Dt&&(Wi.optional=Wt),o=this.finishNode(Wi,"CallExpression")}else if(this.type===D.backQuote){(Wt||ft)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Li=this.startNodeAt(C,F);Li.tag=o,Li.quasi=this.parseTemplate({isTagged:!0}),o=this.finishNode(Li,"TaggedTemplateExpression")}return o},v.parseExprAtom=function(o,C,F){this.type===D.slash&&this.readRegexp();var H,X=this.potentialArrowAt===this.start;switch(this.type){case D._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),H=this.startNode(),this.next(),this.type===D.parenL&&!this.allowDirectSuper&&this.raise(H.start,"super() call outside constructor of a subclass"),this.type!==D.dot&&this.type!==D.bracketL&&this.type!==D.parenL&&this.unexpected(),this.finishNode(H,"Super");case D._this:return H=this.startNode(),this.next(),this.finishNode(H,"ThisExpression");case D.name:var ft=this.start,pt=this.startLoc,Dt=this.containsEsc,Wt=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!Dt&&Wt.name==="async"&&!this.canInsertSemicolon()&&this.eat(D._function))return this.overrideContext(P.f_expr),this.parseFunction(this.startNodeAt(ft,pt),0,!1,!0,C);if(X&&!this.canInsertSemicolon()){if(this.eat(D.arrow))return this.parseArrowExpression(this.startNodeAt(ft,pt),[Wt],!1,C);if(this.options.ecmaVersion>=8&&Wt.name==="async"&&this.type===D.name&&!Dt&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return Wt=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(D.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(ft,pt),[Wt],!0,C)}return Wt;case D.regexp:var le=this.value;return H=this.parseLiteral(le.value),H.regex={pattern:le.pattern,flags:le.flags},H;case D.num:case D.string:return this.parseLiteral(this.value);case D._null:case D._true:case D._false:return H=this.startNode(),H.value=this.type===D._null?null:this.type===D._true,H.raw=this.type.keyword,this.next(),this.finishNode(H,"Literal");case D.parenL:var re=this.start,qe=this.parseParenAndDistinguishExpression(X,C);return o&&(o.parenthesizedAssign<0&&!this.isSimpleAssignTarget(qe)&&(o.parenthesizedAssign=re),o.parenthesizedBind<0&&(o.parenthesizedBind=re)),qe;case D.bracketL:return H=this.startNode(),this.next(),H.elements=this.parseExprList(D.bracketR,!0,!0,o),this.finishNode(H,"ArrayExpression");case D.braceL:return this.overrideContext(P.b_expr),this.parseObj(!1,o);case D._function:return H=this.startNode(),this.next(),this.parseFunction(H,0);case D._class:return this.parseClass(this.startNode(),!1);case D._new:return this.parseNew();case D.backQuote:return this.parseTemplate();case D._import:return this.options.ecmaVersion>=11?this.parseExprImport(F):this.unexpected();default:return this.parseExprAtomDefault()}},v.parseExprAtomDefault=function(){this.unexpected()},v.parseExprImport=function(o){var C=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===D.parenL&&!o)return this.parseDynamicImport(C);if(this.type===D.dot){var F=this.startNodeAt(C.start,C.loc&&C.loc.start);return F.name="import",C.meta=this.finishNode(F,"Identifier"),this.parseImportMeta(C)}else this.unexpected()},v.parseDynamicImport=function(o){if(this.next(),o.source=this.parseMaybeAssign(),!this.eat(D.parenR)){var C=this.start;this.eat(D.comma)&&this.eat(D.parenR)?this.raiseRecoverable(C,"Trailing comma is not allowed in import()"):this.unexpected(C)}return this.finishNode(o,"ImportExpression")},v.parseImportMeta=function(o){this.next();var C=this.containsEsc;return o.property=this.parseIdent(!0),o.property.name!=="meta"&&this.raiseRecoverable(o.property.start,"The only valid meta property for import is 'import.meta'"),C&&this.raiseRecoverable(o.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(o.start,"Cannot use 'import.meta' outside a module"),this.finishNode(o,"MetaProperty")},v.parseLiteral=function(o){var C=this.startNode();return C.value=o,C.raw=this.input.slice(this.start,this.end),C.raw.charCodeAt(C.raw.length-1)===110&&(C.bigint=C.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(C,"Literal")},v.parseParenExpression=function(){this.expect(D.parenL);var o=this.parseExpression();return this.expect(D.parenR),o},v.shouldParseArrow=function(o){return!this.canInsertSemicolon()},v.parseParenAndDistinguishExpression=function(o,C){var F=this.start,H=this.startLoc,X,ft=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var pt=this.start,Dt=this.startLoc,Wt=[],le=!0,re=!1,qe=new s,Mi=this.yieldPos,un=this.awaitPos,ji;for(this.yieldPos=0,this.awaitPos=0;this.type!==D.parenR;)if(le?le=!1:this.expect(D.comma),ft&&this.afterTrailingComma(D.parenR,!0)){re=!0;break}else if(this.type===D.ellipsis){ji=this.start,Wt.push(this.parseParenItem(this.parseRestBinding())),this.type===D.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else Wt.push(this.parseMaybeAssign(!1,qe,this.parseParenItem));var bn=this.lastTokEnd,Wi=this.lastTokEndLoc;if(this.expect(D.parenR),o&&this.shouldParseArrow(Wt)&&this.eat(D.arrow))return this.checkPatternErrors(qe,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=Mi,this.awaitPos=un,this.parseParenArrowList(F,H,Wt,C);(!Wt.length||re)&&this.unexpected(this.lastTokStart),ji&&this.unexpected(ji),this.checkExpressionErrors(qe,!0),this.yieldPos=Mi||this.yieldPos,this.awaitPos=un||this.awaitPos,Wt.length>1?(X=this.startNodeAt(pt,Dt),X.expressions=Wt,this.finishNodeAt(X,"SequenceExpression",bn,Wi)):X=Wt[0]}else X=this.parseParenExpression();if(this.options.preserveParens){var Li=this.startNodeAt(F,H);return Li.expression=X,this.finishNode(Li,"ParenthesizedExpression")}else return X},v.parseParenItem=function(o){return o},v.parseParenArrowList=function(o,C,F,H){return this.parseArrowExpression(this.startNodeAt(o,C),F,!1,H)};var k=[];v.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var o=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===D.dot){var C=this.startNodeAt(o.start,o.loc&&o.loc.start);C.name="new",o.meta=this.finishNode(C,"Identifier"),this.next();var F=this.containsEsc;return o.property=this.parseIdent(!0),o.property.name!=="target"&&this.raiseRecoverable(o.property.start,"The only valid meta property for new is 'new.target'"),F&&this.raiseRecoverable(o.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(o.start,"'new.target' can only be used in functions and class static block"),this.finishNode(o,"MetaProperty")}var H=this.start,X=this.startLoc;return o.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),H,X,!0,!1),this.eat(D.parenL)?o.arguments=this.parseExprList(D.parenR,this.options.ecmaVersion>=8,!1):o.arguments=k,this.finishNode(o,"NewExpression")},v.parseTemplateElement=function(o){var C=o.isTagged,F=this.startNode();return this.type===D.invalidTemplate?(C||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),F.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):F.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),F.tail=this.type===D.backQuote,this.finishNode(F,"TemplateElement")},v.parseTemplate=function(o){o===void 0&&(o={});var C=o.isTagged;C===void 0&&(C=!1);var F=this.startNode();this.next(),F.expressions=[];var H=this.parseTemplateElement({isTagged:C});for(F.quasis=[H];!H.tail;)this.type===D.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(D.dollarBraceL),F.expressions.push(this.parseExpression()),this.expect(D.braceR),F.quasis.push(H=this.parseTemplateElement({isTagged:C}));return this.next(),this.finishNode(F,"TemplateLiteral")},v.isAsyncProp=function(o){return!o.computed&&o.key.type==="Identifier"&&o.key.name==="async"&&(this.type===D.name||this.type===D.num||this.type===D.string||this.type===D.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===D.star)&&!$t.test(this.input.slice(this.lastTokEnd,this.start))},v.parseObj=function(o,C){var F=this.startNode(),H=!0,X={};for(F.properties=[],this.next();!this.eat(D.braceR);){if(H)H=!1;else if(this.expect(D.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(D.braceR))break;var ft=this.parseProperty(o,C);o||this.checkPropClash(ft,X,C),F.properties.push(ft)}return this.finishNode(F,o?"ObjectPattern":"ObjectExpression")},v.parseProperty=function(o,C){var F=this.startNode(),H,X,ft,pt;if(this.options.ecmaVersion>=9&&this.eat(D.ellipsis))return o?(F.argument=this.parseIdent(!1),this.type===D.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(F,"RestElement")):(F.argument=this.parseMaybeAssign(!1,C),this.type===D.comma&&C&&C.trailingComma<0&&(C.trailingComma=this.start),this.finishNode(F,"SpreadElement"));this.options.ecmaVersion>=6&&(F.method=!1,F.shorthand=!1,(o||C)&&(ft=this.start,pt=this.startLoc),o||(H=this.eat(D.star)));var Dt=this.containsEsc;return this.parsePropertyName(F),!o&&!Dt&&this.options.ecmaVersion>=8&&!H&&this.isAsyncProp(F)?(X=!0,H=this.options.ecmaVersion>=9&&this.eat(D.star),this.parsePropertyName(F)):X=!1,this.parsePropertyValue(F,o,H,X,ft,pt,C,Dt),this.finishNode(F,"Property")},v.parseGetterSetter=function(o){o.kind=o.key.name,this.parsePropertyName(o),o.value=this.parseMethod(!1);var C=o.kind==="get"?0:1;if(o.value.params.length!==C){var F=o.value.start;o.kind==="get"?this.raiseRecoverable(F,"getter should have no params"):this.raiseRecoverable(F,"setter should have exactly one param")}else o.kind==="set"&&o.value.params[0].type==="RestElement"&&this.raiseRecoverable(o.value.params[0].start,"Setter cannot use rest params")},v.parsePropertyValue=function(o,C,F,H,X,ft,pt,Dt){(F||H)&&this.type===D.colon&&this.unexpected(),this.eat(D.colon)?(o.value=C?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,pt),o.kind="init"):this.options.ecmaVersion>=6&&this.type===D.parenL?(C&&this.unexpected(),o.kind="init",o.method=!0,o.value=this.parseMethod(F,H)):!C&&!Dt&&this.options.ecmaVersion>=5&&!o.computed&&o.key.type==="Identifier"&&(o.key.name==="get"||o.key.name==="set")&&this.type!==D.comma&&this.type!==D.braceR&&this.type!==D.eq?((F||H)&&this.unexpected(),this.parseGetterSetter(o)):this.options.ecmaVersion>=6&&!o.computed&&o.key.type==="Identifier"?((F||H)&&this.unexpected(),this.checkUnreserved(o.key),o.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=X),o.kind="init",C?o.value=this.parseMaybeDefault(X,ft,this.copyNode(o.key)):this.type===D.eq&&pt?(pt.shorthandAssign<0&&(pt.shorthandAssign=this.start),o.value=this.parseMaybeDefault(X,ft,this.copyNode(o.key))):o.value=this.copyNode(o.key),o.shorthand=!0):this.unexpected()},v.parsePropertyName=function(o){if(this.options.ecmaVersion>=6){if(this.eat(D.bracketL))return o.computed=!0,o.key=this.parseMaybeAssign(),this.expect(D.bracketR),o.key;o.computed=!1}return o.key=this.type===D.num||this.type===D.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},v.initFunction=function(o){o.id=null,this.options.ecmaVersion>=6&&(o.generator=o.expression=!1),this.options.ecmaVersion>=8&&(o.async=!1)},v.parseMethod=function(o,C,F){var H=this.startNode(),X=this.yieldPos,ft=this.awaitPos,pt=this.awaitIdentPos;return this.initFunction(H),this.options.ecmaVersion>=6&&(H.generator=o),this.options.ecmaVersion>=8&&(H.async=!!C),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(jt(C,H.generator)|dt|(F?Ot:0)),this.expect(D.parenL),H.params=this.parseBindingList(D.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(H,!1,!0,!1),this.yieldPos=X,this.awaitPos=ft,this.awaitIdentPos=pt,this.finishNode(H,"FunctionExpression")},v.parseArrowExpression=function(o,C,F,H){var X=this.yieldPos,ft=this.awaitPos,pt=this.awaitIdentPos;return this.enterScope(jt(F,!1)|J),this.initFunction(o),this.options.ecmaVersion>=8&&(o.async=!!F),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,o.params=this.toAssignableList(C,!0),this.parseFunctionBody(o,!0,!1,H),this.yieldPos=X,this.awaitPos=ft,this.awaitIdentPos=pt,this.finishNode(o,"ArrowFunctionExpression")},v.parseFunctionBody=function(o,C,F,H){var X=C&&this.type!==D.braceL,ft=this.strict,pt=!1;if(X)o.body=this.parseMaybeAssign(H),o.expression=!0,this.checkParams(o,!1);else{var Dt=this.options.ecmaVersion>=7&&!this.isSimpleParamList(o.params);(!ft||Dt)&&(pt=this.strictDirective(this.end),pt&&Dt&&this.raiseRecoverable(o.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var Wt=this.labels;this.labels=[],pt&&(this.strict=!0),this.checkParams(o,!ft&&!pt&&!C&&!F&&this.isSimpleParamList(o.params)),this.strict&&o.id&&this.checkLValSimple(o.id,n),o.body=this.parseBlock(!1,void 0,pt&&!ft),o.expression=!1,this.adaptDirectivePrologue(o.body.body),this.labels=Wt}this.exitScope()},v.isSimpleParamList=function(o){for(var C=0,F=o;C<F.length;C+=1){var H=F[C];if(H.type!=="Identifier")return!1}return!0},v.checkParams=function(o,C){for(var F=Object.create(null),H=0,X=o.params;H<X.length;H+=1){var ft=X[H];this.checkLValInnerPattern(ft,kt,C?null:F)}},v.parseExprList=function(o,C,F,H){for(var X=[],ft=!0;!this.eat(o);){if(ft)ft=!1;else if(this.expect(D.comma),C&&this.afterTrailingComma(o))break;var pt=void 0;F&&this.type===D.comma?pt=null:this.type===D.ellipsis?(pt=this.parseSpread(H),H&&this.type===D.comma&&H.trailingComma<0&&(H.trailingComma=this.start)):pt=this.parseMaybeAssign(!1,H),X.push(pt)}return X},v.checkUnreserved=function(o){var C=o.start,F=o.end,H=o.name;if(this.inGenerator&&H==="yield"&&this.raiseRecoverable(C,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&H==="await"&&this.raiseRecoverable(C,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&H==="arguments"&&this.raiseRecoverable(C,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(H==="arguments"||H==="await")&&this.raise(C,"Cannot use "+H+" in class static initialization block"),this.keywords.test(H)&&this.raise(C,"Unexpected keyword '"+H+"'"),!(this.options.ecmaVersion<6&&this.input.slice(C,F).indexOf("\\")!==-1)){var X=this.strict?this.reservedWordsStrict:this.reservedWords;X.test(H)&&(!this.inAsync&&H==="await"&&this.raiseRecoverable(C,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(C,"The keyword '"+H+"' is reserved"))}},v.parseIdent=function(o){var C=this.parseIdentNode();return this.next(!!o),this.finishNode(C,"Identifier"),o||(this.checkUnreserved(C),C.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=C.start)),C},v.parseIdentNode=function(){var o=this.startNode();return this.type===D.name?o.name=this.value:this.type.keyword?(o.name=this.type.keyword,(o.name==="class"||o.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=D.name):this.unexpected(),o},v.parsePrivateIdent=function(){var o=this.startNode();return this.type===D.privateId?o.name=this.value:this.unexpected(),this.next(),this.finishNode(o,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(o.start,"Private field '#"+o.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(o)),o},v.parseYield=function(o){this.yieldPos||(this.yieldPos=this.start);var C=this.startNode();return this.next(),this.type===D.semi||this.canInsertSemicolon()||this.type!==D.star&&!this.type.startsExpr?(C.delegate=!1,C.argument=null):(C.delegate=this.eat(D.star),C.argument=this.parseMaybeAssign(o)),this.finishNode(C,"YieldExpression")},v.parseAwait=function(o){this.awaitPos||(this.awaitPos=this.start);var C=this.startNode();return this.next(),C.argument=this.parseMaybeUnary(null,!0,!1,o),this.finishNode(C,"AwaitExpression")};var O=t.prototype;O.raise=function(o,C){var F=li(this.input,o);C+=" ("+F.line+":"+F.column+")";var H=new SyntaxError(C);throw H.pos=o,H.loc=F,H.raisedAt=this.pos,H},O.raiseRecoverable=O.raise,O.curPosition=function(){if(this.options.locations)return new ze(this.curLine,this.pos-this.lineStart)};var A=t.prototype,M=function(C){this.flags=C,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1};A.enterScope=function(o){this.scopeStack.push(new M(o))},A.exitScope=function(){this.scopeStack.pop()},A.treatFunctionsAsVarInScope=function(o){return o.flags&Mt||!this.inModule&&o.flags&bt},A.declareName=function(o,C,F){var H=!1;if(C===yt){var X=this.currentScope();H=X.lexical.indexOf(o)>-1||X.functions.indexOf(o)>-1||X.var.indexOf(o)>-1,X.lexical.push(o),this.inModule&&X.flags&bt&&delete this.undefinedExports[o]}else if(C===Et){var ft=this.currentScope();ft.lexical.push(o)}else if(C===Zt){var pt=this.currentScope();this.treatFunctionsAsVar?H=pt.lexical.indexOf(o)>-1:H=pt.lexical.indexOf(o)>-1||pt.var.indexOf(o)>-1,pt.functions.push(o)}else for(var Dt=this.scopeStack.length-1;Dt>=0;--Dt){var Wt=this.scopeStack[Dt];if(Wt.lexical.indexOf(o)>-1&&!(Wt.flags&et&&Wt.lexical[0]===o)||!this.treatFunctionsAsVarInScope(Wt)&&Wt.functions.indexOf(o)>-1){H=!0;break}if(Wt.var.push(o),this.inModule&&Wt.flags&bt&&delete this.undefinedExports[o],Wt.flags&Lt)break}H&&this.raiseRecoverable(F,"Identifier '"+o+"' has already been declared")},A.checkLocalExport=function(o){this.scopeStack[0].lexical.indexOf(o.name)===-1&&this.scopeStack[0].var.indexOf(o.name)===-1&&(this.undefinedExports[o.name]=o)},A.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},A.currentVarScope=function(){for(var o=this.scopeStack.length-1;;o--){var C=this.scopeStack[o];if(C.flags&Lt)return C}},A.currentThisScope=function(){for(var o=this.scopeStack.length-1;;o--){var C=this.scopeStack[o];if(C.flags&Lt&&!(C.flags&J))return C}};var N=function(C,F,H){this.type="",this.start=F,this.end=0,C.options.locations&&(this.loc=new Ve(C,H)),C.options.directSourceFile&&(this.sourceFile=C.options.directSourceFile),C.options.ranges&&(this.range=[F,0])},B=t.prototype;B.startNode=function(){return new N(this,this.start,this.startLoc)},B.startNodeAt=function(o,C){return new N(this,o,C)};function V(o,C,F,H){return o.type=C,o.end=F,this.options.locations&&(o.loc.end=H),this.options.ranges&&(o.range[1]=F),o}B.finishNode=function(o,C){return V.call(this,o,C,this.lastTokEnd,this.lastTokEndLoc)},B.finishNodeAt=function(o,C,F,H){return V.call(this,o,C,F,H)},B.copyNode=function(o){var C=new N(this,o.start,this.startLoc);for(var F in o)C[F]=o[F];return C};var z="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",q=z+" Extended_Pictographic",U=q,j=U+" EBase EComp EMod EPres ExtPict",G=j,$=G,nt={9:z,10:q,11:U,12:j,13:G,14:$},ht="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",_t={9:"",10:"",11:"",12:"",13:"",14:ht},vt="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",st="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ut=st+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",mt=ut+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",wt=mt+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Tt=wt+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",zt=Tt+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Bt={9:st,10:ut,11:mt,12:wt,13:Tt,14:zt},Ht={};function Ut(o){var C=Ht[o]={binary:qt(nt[o]+" "+vt),binaryOfStrings:qt(_t[o]),nonBinary:{General_Category:qt(vt),Script:qt(Bt[o])}};C.nonBinary.Script_Extensions=C.nonBinary.Script,C.nonBinary.gc=C.nonBinary.General_Category,C.nonBinary.sc=C.nonBinary.Script,C.nonBinary.scx=C.nonBinary.Script_Extensions}for(var Jt=0,ge=[9,10,11,12,13,14];Jt<ge.length;Jt+=1){var ve=ge[Jt];Ut(ve)}var Nt=t.prototype,ee=function(C,F){this.parent=C,this.base=F||this};ee.prototype.separatedFrom=function(C){for(var F=this;F;F=F.parent)for(var H=C;H;H=H.parent)if(F.base===H.base&&F!==H)return!0;return!1},ee.prototype.sibling=function(){return new ee(this.parent,this.base)};var Qt=function(C){this.parser=C,this.validFlags="gim"+(C.options.ecmaVersion>=6?"uy":"")+(C.options.ecmaVersion>=9?"s":"")+(C.options.ecmaVersion>=13?"d":"")+(C.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Ht[C.options.ecmaVersion>=14?14:C.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Qt.prototype.reset=function(C,F,H){var X=H.indexOf("v")!==-1,ft=H.indexOf("u")!==-1;this.start=C|0,this.source=F+"",this.flags=H,X&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=ft&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=ft&&this.parser.options.ecmaVersion>=9)},Qt.prototype.raise=function(C){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+C)},Qt.prototype.at=function(C,F){F===void 0&&(F=!1);var H=this.source,X=H.length;if(C>=X)return-1;var ft=H.charCodeAt(C);if(!(F||this.switchU)||ft<=55295||ft>=57344||C+1>=X)return ft;var pt=H.charCodeAt(C+1);return pt>=56320&&pt<=57343?(ft<<10)+pt-56613888:ft},Qt.prototype.nextIndex=function(C,F){F===void 0&&(F=!1);var H=this.source,X=H.length;if(C>=X)return X;var ft=H.charCodeAt(C),pt;return!(F||this.switchU)||ft<=55295||ft>=57344||C+1>=X||(pt=H.charCodeAt(C+1))<56320||pt>57343?C+1:C+2},Qt.prototype.current=function(C){return C===void 0&&(C=!1),this.at(this.pos,C)},Qt.prototype.lookahead=function(C){return C===void 0&&(C=!1),this.at(this.nextIndex(this.pos,C),C)},Qt.prototype.advance=function(C){C===void 0&&(C=!1),this.pos=this.nextIndex(this.pos,C)},Qt.prototype.eat=function(C,F){return F===void 0&&(F=!1),this.current(F)===C?(this.advance(F),!0):!1},Qt.prototype.eatChars=function(C,F){F===void 0&&(F=!1);for(var H=this.pos,X=0,ft=C;X<ft.length;X+=1){var pt=ft[X],Dt=this.at(H,F);if(Dt===-1||Dt!==pt)return!1;H=this.nextIndex(H,F)}return this.pos=H,!0},Nt.validateRegExpFlags=function(o){for(var C=o.validFlags,F=o.flags,H=!1,X=!1,ft=0;ft<F.length;ft++){var pt=F.charAt(ft);C.indexOf(pt)===-1&&this.raise(o.start,"Invalid regular expression flag"),F.indexOf(pt,ft+1)>-1&&this.raise(o.start,"Duplicate regular expression flag"),pt==="u"&&(H=!0),pt==="v"&&(X=!0)}this.options.ecmaVersion>=15&&H&&X&&this.raise(o.start,"Invalid regular expression flag")};function me(o){for(var C in o)return!0;return!1}Nt.validateRegExpPattern=function(o){this.regexp_pattern(o),!o.switchN&&this.options.ecmaVersion>=9&&me(o.groupNames)&&(o.switchN=!0,this.regexp_pattern(o))},Nt.regexp_pattern=function(o){o.pos=0,o.lastIntValue=0,o.lastStringValue="",o.lastAssertionIsQuantifiable=!1,o.numCapturingParens=0,o.maxBackReference=0,o.groupNames=Object.create(null),o.backReferenceNames.length=0,o.branchID=null,this.regexp_disjunction(o),o.pos!==o.source.length&&(o.eat(41)&&o.raise("Unmatched ')'"),(o.eat(93)||o.eat(125))&&o.raise("Lone quantifier brackets")),o.maxBackReference>o.numCapturingParens&&o.raise("Invalid escape");for(var C=0,F=o.backReferenceNames;C<F.length;C+=1){var H=F[C];o.groupNames[H]||o.raise("Invalid named capture referenced")}},Nt.regexp_disjunction=function(o){var C=this.options.ecmaVersion>=16;for(C&&(o.branchID=new ee(o.branchID,null)),this.regexp_alternative(o);o.eat(124);)C&&(o.branchID=o.branchID.sibling()),this.regexp_alternative(o);C&&(o.branchID=o.branchID.parent),this.regexp_eatQuantifier(o,!0)&&o.raise("Nothing to repeat"),o.eat(123)&&o.raise("Lone quantifier brackets")},Nt.regexp_alternative=function(o){for(;o.pos<o.source.length&&this.regexp_eatTerm(o););},Nt.regexp_eatTerm=function(o){return this.regexp_eatAssertion(o)?(o.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(o)&&o.switchU&&o.raise("Invalid quantifier"),!0):(o.switchU?this.regexp_eatAtom(o):this.regexp_eatExtendedAtom(o))?(this.regexp_eatQuantifier(o),!0):!1},Nt.regexp_eatAssertion=function(o){var C=o.pos;if(o.lastAssertionIsQuantifiable=!1,o.eat(94)||o.eat(36))return!0;if(o.eat(92)){if(o.eat(66)||o.eat(98))return!0;o.pos=C}if(o.eat(40)&&o.eat(63)){var F=!1;if(this.options.ecmaVersion>=9&&(F=o.eat(60)),o.eat(61)||o.eat(33))return this.regexp_disjunction(o),o.eat(41)||o.raise("Unterminated group"),o.lastAssertionIsQuantifiable=!F,!0}return o.pos=C,!1},Nt.regexp_eatQuantifier=function(o,C){return C===void 0&&(C=!1),this.regexp_eatQuantifierPrefix(o,C)?(o.eat(63),!0):!1},Nt.regexp_eatQuantifierPrefix=function(o,C){return o.eat(42)||o.eat(43)||o.eat(63)||this.regexp_eatBracedQuantifier(o,C)},Nt.regexp_eatBracedQuantifier=function(o,C){var F=o.pos;if(o.eat(123)){var H=0,X=-1;if(this.regexp_eatDecimalDigits(o)&&(H=o.lastIntValue,o.eat(44)&&this.regexp_eatDecimalDigits(o)&&(X=o.lastIntValue),o.eat(125)))return X!==-1&&X<H&&!C&&o.raise("numbers out of order in {} quantifier"),!0;o.switchU&&!C&&o.raise("Incomplete quantifier"),o.pos=F}return!1},Nt.regexp_eatAtom=function(o){return this.regexp_eatPatternCharacters(o)||o.eat(46)||this.regexp_eatReverseSolidusAtomEscape(o)||this.regexp_eatCharacterClass(o)||this.regexp_eatUncapturingGroup(o)||this.regexp_eatCapturingGroup(o)},Nt.regexp_eatReverseSolidusAtomEscape=function(o){var C=o.pos;if(o.eat(92)){if(this.regexp_eatAtomEscape(o))return!0;o.pos=C}return!1},Nt.regexp_eatUncapturingGroup=function(o){var C=o.pos;if(o.eat(40)){if(o.eat(63)&&o.eat(58)){if(this.regexp_disjunction(o),o.eat(41))return!0;o.raise("Unterminated group")}o.pos=C}return!1},Nt.regexp_eatCapturingGroup=function(o){if(o.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(o):o.current()===63&&o.raise("Invalid group"),this.regexp_disjunction(o),o.eat(41))return o.numCapturingParens+=1,!0;o.raise("Unterminated group")}return!1},Nt.regexp_eatExtendedAtom=function(o){return o.eat(46)||this.regexp_eatReverseSolidusAtomEscape(o)||this.regexp_eatCharacterClass(o)||this.regexp_eatUncapturingGroup(o)||this.regexp_eatCapturingGroup(o)||this.regexp_eatInvalidBracedQuantifier(o)||this.regexp_eatExtendedPatternCharacter(o)},Nt.regexp_eatInvalidBracedQuantifier=function(o){return this.regexp_eatBracedQuantifier(o,!0)&&o.raise("Nothing to repeat"),!1},Nt.regexp_eatSyntaxCharacter=function(o){var C=o.current();return we(C)?(o.lastIntValue=C,o.advance(),!0):!1};function we(o){return o===36||o>=40&&o<=43||o===46||o===63||o>=91&&o<=94||o>=123&&o<=125}Nt.regexp_eatPatternCharacters=function(o){for(var C=o.pos,F=0;(F=o.current())!==-1&&!we(F);)o.advance();return o.pos!==C},Nt.regexp_eatExtendedPatternCharacter=function(o){var C=o.current();return C!==-1&&C!==36&&!(C>=40&&C<=43)&&C!==46&&C!==63&&C!==91&&C!==94&&C!==124?(o.advance(),!0):!1},Nt.regexp_groupSpecifier=function(o){if(o.eat(63)){this.regexp_eatGroupName(o)||o.raise("Invalid group");var C=this.options.ecmaVersion>=16,F=o.groupNames[o.lastStringValue];if(F)if(C)for(var H=0,X=F;H<X.length;H+=1){var ft=X[H];ft.separatedFrom(o.branchID)||o.raise("Duplicate capture group name")}else o.raise("Duplicate capture group name");C?(F||(o.groupNames[o.lastStringValue]=[])).push(o.branchID):o.groupNames[o.lastStringValue]=!0}},Nt.regexp_eatGroupName=function(o){if(o.lastStringValue="",o.eat(60)){if(this.regexp_eatRegExpIdentifierName(o)&&o.eat(62))return!0;o.raise("Invalid capture group name")}return!1},Nt.regexp_eatRegExpIdentifierName=function(o){if(o.lastStringValue="",this.regexp_eatRegExpIdentifierStart(o)){for(o.lastStringValue+=pe(o.lastIntValue);this.regexp_eatRegExpIdentifierPart(o);)o.lastStringValue+=pe(o.lastIntValue);return!0}return!1},Nt.regexp_eatRegExpIdentifierStart=function(o){var C=o.pos,F=this.options.ecmaVersion>=11,H=o.current(F);return o.advance(F),H===92&&this.regexp_eatRegExpUnicodeEscapeSequence(o,F)&&(H=o.lastIntValue),Ee(H)?(o.lastIntValue=H,!0):(o.pos=C,!1)};function Ee(o){return Ft(o,!0)||o===36||o===95}Nt.regexp_eatRegExpIdentifierPart=function(o){var C=o.pos,F=this.options.ecmaVersion>=11,H=o.current(F);return o.advance(F),H===92&&this.regexp_eatRegExpUnicodeEscapeSequence(o,F)&&(H=o.lastIntValue),je(H)?(o.lastIntValue=H,!0):(o.pos=C,!1)};function je(o){return ot(o,!0)||o===36||o===95||o===8204||o===8205}Nt.regexp_eatAtomEscape=function(o){return this.regexp_eatBackReference(o)||this.regexp_eatCharacterClassEscape(o)||this.regexp_eatCharacterEscape(o)||o.switchN&&this.regexp_eatKGroupName(o)?!0:(o.switchU&&(o.current()===99&&o.raise("Invalid unicode escape"),o.raise("Invalid escape")),!1)},Nt.regexp_eatBackReference=function(o){var C=o.pos;if(this.regexp_eatDecimalEscape(o)){var F=o.lastIntValue;if(o.switchU)return F>o.maxBackReference&&(o.maxBackReference=F),!0;if(F<=o.numCapturingParens)return!0;o.pos=C}return!1},Nt.regexp_eatKGroupName=function(o){if(o.eat(107)){if(this.regexp_eatGroupName(o))return o.backReferenceNames.push(o.lastStringValue),!0;o.raise("Invalid named reference")}return!1},Nt.regexp_eatCharacterEscape=function(o){return this.regexp_eatControlEscape(o)||this.regexp_eatCControlLetter(o)||this.regexp_eatZero(o)||this.regexp_eatHexEscapeSequence(o)||this.regexp_eatRegExpUnicodeEscapeSequence(o,!1)||!o.switchU&&this.regexp_eatLegacyOctalEscapeSequence(o)||this.regexp_eatIdentityEscape(o)},Nt.regexp_eatCControlLetter=function(o){var C=o.pos;if(o.eat(99)){if(this.regexp_eatControlLetter(o))return!0;o.pos=C}return!1},Nt.regexp_eatZero=function(o){return o.current()===48&&!an(o.lookahead())?(o.lastIntValue=0,o.advance(),!0):!1},Nt.regexp_eatControlEscape=function(o){var C=o.current();return C===116?(o.lastIntValue=9,o.advance(),!0):C===110?(o.lastIntValue=10,o.advance(),!0):C===118?(o.lastIntValue=11,o.advance(),!0):C===102?(o.lastIntValue=12,o.advance(),!0):C===114?(o.lastIntValue=13,o.advance(),!0):!1},Nt.regexp_eatControlLetter=function(o){var C=o.current();return We(C)?(o.lastIntValue=C%32,o.advance(),!0):!1};function We(o){return o>=65&&o<=90||o>=97&&o<=122}Nt.regexp_eatRegExpUnicodeEscapeSequence=function(o,C){C===void 0&&(C=!1);var F=o.pos,H=C||o.switchU;if(o.eat(117)){if(this.regexp_eatFixedHexDigits(o,4)){var X=o.lastIntValue;if(H&&X>=55296&&X<=56319){var ft=o.pos;if(o.eat(92)&&o.eat(117)&&this.regexp_eatFixedHexDigits(o,4)){var pt=o.lastIntValue;if(pt>=56320&&pt<=57343)return o.lastIntValue=(X-55296)*1024+(pt-56320)+65536,!0}o.pos=ft,o.lastIntValue=X}return!0}if(H&&o.eat(123)&&this.regexp_eatHexDigits(o)&&o.eat(125)&&De(o.lastIntValue))return!0;H&&o.raise("Invalid unicode escape"),o.pos=F}return!1};function De(o){return o>=0&&o<=1114111}Nt.regexp_eatIdentityEscape=function(o){if(o.switchU)return this.regexp_eatSyntaxCharacter(o)?!0:o.eat(47)?(o.lastIntValue=47,!0):!1;var C=o.current();return C!==99&&(!o.switchN||C!==107)?(o.lastIntValue=C,o.advance(),!0):!1},Nt.regexp_eatDecimalEscape=function(o){o.lastIntValue=0;var C=o.current();if(C>=49&&C<=57){do o.lastIntValue=10*o.lastIntValue+(C-48),o.advance();while((C=o.current())>=48&&C<=57);return!0}return!1};var Me=0,ye=1,Ce=2;Nt.regexp_eatCharacterClassEscape=function(o){var C=o.current();if(Ke(C))return o.lastIntValue=-1,o.advance(),ye;var F=!1;if(o.switchU&&this.options.ecmaVersion>=9&&((F=C===80)||C===112)){o.lastIntValue=-1,o.advance();var H;if(o.eat(123)&&(H=this.regexp_eatUnicodePropertyValueExpression(o))&&o.eat(125))return F&&H===Ce&&o.raise("Invalid property name"),H;o.raise("Invalid property name")}return Me};function Ke(o){return o===100||o===68||o===115||o===83||o===119||o===87}Nt.regexp_eatUnicodePropertyValueExpression=function(o){var C=o.pos;if(this.regexp_eatUnicodePropertyName(o)&&o.eat(61)){var F=o.lastStringValue;if(this.regexp_eatUnicodePropertyValue(o)){var H=o.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(o,F,H),ye}}if(o.pos=C,this.regexp_eatLoneUnicodePropertyNameOrValue(o)){var X=o.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(o,X)}return Me},Nt.regexp_validateUnicodePropertyNameAndValue=function(o,C,F){at(o.unicodeProperties.nonBinary,C)||o.raise("Invalid property name"),o.unicodeProperties.nonBinary[C].test(F)||o.raise("Invalid property value")},Nt.regexp_validateUnicodePropertyNameOrValue=function(o,C){if(o.unicodeProperties.binary.test(C))return ye;if(o.switchV&&o.unicodeProperties.binaryOfStrings.test(C))return Ce;o.raise("Invalid property name")},Nt.regexp_eatUnicodePropertyName=function(o){var C=0;for(o.lastStringValue="";ei(C=o.current());)o.lastStringValue+=pe(C),o.advance();return o.lastStringValue!==""};function ei(o){return We(o)||o===95}Nt.regexp_eatUnicodePropertyValue=function(o){var C=0;for(o.lastStringValue="";wn(C=o.current());)o.lastStringValue+=pe(C),o.advance();return o.lastStringValue!==""};function wn(o){return ei(o)||an(o)}Nt.regexp_eatLoneUnicodePropertyNameOrValue=function(o){return this.regexp_eatUnicodePropertyValue(o)},Nt.regexp_eatCharacterClass=function(o){if(o.eat(91)){var C=o.eat(94),F=this.regexp_classContents(o);return o.eat(93)||o.raise("Unterminated character class"),C&&F===Ce&&o.raise("Negated character class may contain strings"),!0}return!1},Nt.regexp_classContents=function(o){return o.current()===93?ye:o.switchV?this.regexp_classSetExpression(o):(this.regexp_nonEmptyClassRanges(o),ye)},Nt.regexp_nonEmptyClassRanges=function(o){for(;this.regexp_eatClassAtom(o);){var C=o.lastIntValue;if(o.eat(45)&&this.regexp_eatClassAtom(o)){var F=o.lastIntValue;o.switchU&&(C===-1||F===-1)&&o.raise("Invalid character class"),C!==-1&&F!==-1&&C>F&&o.raise("Range out of order in character class")}}},Nt.regexp_eatClassAtom=function(o){var C=o.pos;if(o.eat(92)){if(this.regexp_eatClassEscape(o))return!0;if(o.switchU){var F=o.current();(F===99||xn(F))&&o.raise("Invalid class escape"),o.raise("Invalid escape")}o.pos=C}var H=o.current();return H!==93?(o.lastIntValue=H,o.advance(),!0):!1},Nt.regexp_eatClassEscape=function(o){var C=o.pos;if(o.eat(98))return o.lastIntValue=8,!0;if(o.switchU&&o.eat(45))return o.lastIntValue=45,!0;if(!o.switchU&&o.eat(99)){if(this.regexp_eatClassControlLetter(o))return!0;o.pos=C}return this.regexp_eatCharacterClassEscape(o)||this.regexp_eatCharacterEscape(o)},Nt.regexp_classSetExpression=function(o){var C=ye,F;if(!this.regexp_eatClassSetRange(o))if(F=this.regexp_eatClassSetOperand(o)){F===Ce&&(C=Ce);for(var H=o.pos;o.eatChars([38,38]);){if(o.current()!==38&&(F=this.regexp_eatClassSetOperand(o))){F!==Ce&&(C=ye);continue}o.raise("Invalid character in character class")}if(H!==o.pos)return C;for(;o.eatChars([45,45]);)this.regexp_eatClassSetOperand(o)||o.raise("Invalid character in character class");if(H!==o.pos)return C}else o.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(o)){if(F=this.regexp_eatClassSetOperand(o),!F)return C;F===Ce&&(C=Ce)}},Nt.regexp_eatClassSetRange=function(o){var C=o.pos;if(this.regexp_eatClassSetCharacter(o)){var F=o.lastIntValue;if(o.eat(45)&&this.regexp_eatClassSetCharacter(o)){var H=o.lastIntValue;return F!==-1&&H!==-1&&F>H&&o.raise("Range out of order in character class"),!0}o.pos=C}return!1},Nt.regexp_eatClassSetOperand=function(o){return this.regexp_eatClassSetCharacter(o)?ye:this.regexp_eatClassStringDisjunction(o)||this.regexp_eatNestedClass(o)},Nt.regexp_eatNestedClass=function(o){var C=o.pos;if(o.eat(91)){var F=o.eat(94),H=this.regexp_classContents(o);if(o.eat(93))return F&&H===Ce&&o.raise("Negated character class may contain strings"),H;o.pos=C}if(o.eat(92)){var X=this.regexp_eatCharacterClassEscape(o);if(X)return X;o.pos=C}return null},Nt.regexp_eatClassStringDisjunction=function(o){var C=o.pos;if(o.eatChars([92,113])){if(o.eat(123)){var F=this.regexp_classStringDisjunctionContents(o);if(o.eat(125))return F}else o.raise("Invalid escape");o.pos=C}return null},Nt.regexp_classStringDisjunctionContents=function(o){for(var C=this.regexp_classString(o);o.eat(124);)this.regexp_classString(o)===Ce&&(C=Ce);return C},Nt.regexp_classString=function(o){for(var C=0;this.regexp_eatClassSetCharacter(o);)C++;return C===1?ye:Ce},Nt.regexp_eatClassSetCharacter=function(o){var C=o.pos;if(o.eat(92))return this.regexp_eatCharacterEscape(o)||this.regexp_eatClassSetReservedPunctuator(o)?!0:o.eat(98)?(o.lastIntValue=8,!0):(o.pos=C,!1);var F=o.current();return F<0||F===o.lookahead()&&cr(F)||dr(F)?!1:(o.advance(),o.lastIntValue=F,!0)};function cr(o){return o===33||o>=35&&o<=38||o>=42&&o<=44||o===46||o>=58&&o<=64||o===94||o===96||o===126}function dr(o){return o===40||o===41||o===45||o===47||o>=91&&o<=93||o>=123&&o<=125}Nt.regexp_eatClassSetReservedPunctuator=function(o){var C=o.current();return pr(C)?(o.lastIntValue=C,o.advance(),!0):!1};function pr(o){return o===33||o===35||o===37||o===38||o===44||o===45||o>=58&&o<=62||o===64||o===96||o===126}Nt.regexp_eatClassControlLetter=function(o){var C=o.current();return an(C)||C===95?(o.lastIntValue=C%32,o.advance(),!0):!1},Nt.regexp_eatHexEscapeSequence=function(o){var C=o.pos;if(o.eat(120)){if(this.regexp_eatFixedHexDigits(o,2))return!0;o.switchU&&o.raise("Invalid escape"),o.pos=C}return!1},Nt.regexp_eatDecimalDigits=function(o){var C=o.pos,F=0;for(o.lastIntValue=0;an(F=o.current());)o.lastIntValue=10*o.lastIntValue+(F-48),o.advance();return o.pos!==C};function an(o){return o>=48&&o<=57}Nt.regexp_eatHexDigits=function(o){var C=o.pos,F=0;for(o.lastIntValue=0;Fn(F=o.current());)o.lastIntValue=16*o.lastIntValue+on(F),o.advance();return o.pos!==C};function Fn(o){return o>=48&&o<=57||o>=65&&o<=70||o>=97&&o<=102}function on(o){return o>=65&&o<=70?10+(o-65):o>=97&&o<=102?10+(o-97):o-48}Nt.regexp_eatLegacyOctalEscapeSequence=function(o){if(this.regexp_eatOctalDigit(o)){var C=o.lastIntValue;if(this.regexp_eatOctalDigit(o)){var F=o.lastIntValue;C<=3&&this.regexp_eatOctalDigit(o)?o.lastIntValue=C*64+F*8+o.lastIntValue:o.lastIntValue=C*8+F}else o.lastIntValue=C;return!0}return!1},Nt.regexp_eatOctalDigit=function(o){var C=o.current();return xn(C)?(o.lastIntValue=C-48,o.advance(),!0):(o.lastIntValue=0,!1)};function xn(o){return o>=48&&o<=55}Nt.regexp_eatFixedHexDigits=function(o,C){var F=o.pos;o.lastIntValue=0;for(var H=0;H<C;++H){var X=o.current();if(!Fn(X))return o.pos=F,!1;o.lastIntValue=16*o.lastIntValue+on(X),o.advance()}return!0};var Oi=function(C){this.type=C.type,this.value=C.value,this.start=C.start,this.end=C.end,C.options.locations&&(this.loc=new Ve(C,C.startLoc,C.endLoc)),C.options.ranges&&(this.range=[C.start,C.end])},he=t.prototype;he.next=function(o){!o&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Oi(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},he.getToken=function(){return this.next(),new Oi(this)},typeof Symbol<"u"&&(he[Symbol.iterator]=function(){var o=this;return{next:function(){var C=o.getToken();return{done:C.type===D.eof,value:C}}}}),he.nextToken=function(){var o=this.curContext();if((!o||!o.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(D.eof);if(o.override)return o.override(this);this.readToken(this.fullCharCodeAtPos())},he.readToken=function(o){return Ft(o,this.options.ecmaVersion>=6)||o===92?this.readWord():this.getTokenFromCode(o)},he.fullCharCodeAtPos=function(){var o=this.input.charCodeAt(this.pos);if(o<=55295||o>=56320)return o;var C=this.input.charCodeAt(this.pos+1);return C<=56319||C>=57344?o:(o<<10)+C-56613888},he.skipBlockComment=function(){var o=this.options.onComment&&this.curPosition(),C=this.pos,F=this.input.indexOf("*/",this.pos+=2);if(F===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=F+2,this.options.locations)for(var H=void 0,X=C;(H=Re(this.input,X,this.pos))>-1;)++this.curLine,X=this.lineStart=H;this.options.onComment&&this.options.onComment(!0,this.input.slice(C+2,F),C,this.pos,o,this.curPosition())},he.skipLineComment=function(o){for(var C=this.pos,F=this.options.onComment&&this.curPosition(),H=this.input.charCodeAt(this.pos+=o);this.pos<this.input.length&&!ue(H);)H=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(C+o,this.pos),C,this.pos,F,this.curPosition())},he.skipSpace=function(){t:for(;this.pos<this.input.length;){var o=this.input.charCodeAt(this.pos);switch(o){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(o>8&&o<14||o>=5760&&Ue.test(String.fromCharCode(o)))++this.pos;else break t}}},he.finishToken=function(o,C){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var F=this.type;this.type=o,this.value=C,this.updateContext(F)},he.readToken_dot=function(){var o=this.input.charCodeAt(this.pos+1);if(o>=48&&o<=57)return this.readNumber(!0);var C=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&o===46&&C===46?(this.pos+=3,this.finishToken(D.ellipsis)):(++this.pos,this.finishToken(D.dot))},he.readToken_slash=function(){var o=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):o===61?this.finishOp(D.assign,2):this.finishOp(D.slash,1)},he.readToken_mult_modulo_exp=function(o){var C=this.input.charCodeAt(this.pos+1),F=1,H=o===42?D.star:D.modulo;return this.options.ecmaVersion>=7&&o===42&&C===42&&(++F,H=D.starstar,C=this.input.charCodeAt(this.pos+2)),C===61?this.finishOp(D.assign,F+1):this.finishOp(H,F)},he.readToken_pipe_amp=function(o){var C=this.input.charCodeAt(this.pos+1);if(C===o){if(this.options.ecmaVersion>=12){var F=this.input.charCodeAt(this.pos+2);if(F===61)return this.finishOp(D.assign,3)}return this.finishOp(o===124?D.logicalOR:D.logicalAND,2)}return C===61?this.finishOp(D.assign,2):this.finishOp(o===124?D.bitwiseOR:D.bitwiseAND,1)},he.readToken_caret=function(){var o=this.input.charCodeAt(this.pos+1);return o===61?this.finishOp(D.assign,2):this.finishOp(D.bitwiseXOR,1)},he.readToken_plus_min=function(o){var C=this.input.charCodeAt(this.pos+1);return C===o?C===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||$t.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(D.incDec,2):C===61?this.finishOp(D.assign,2):this.finishOp(D.plusMin,1)},he.readToken_lt_gt=function(o){var C=this.input.charCodeAt(this.pos+1),F=1;return C===o?(F=o===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+F)===61?this.finishOp(D.assign,F+1):this.finishOp(D.bitShift,F)):C===33&&o===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(C===61&&(F=2),this.finishOp(D.relational,F))},he.readToken_eq_excl=function(o){var C=this.input.charCodeAt(this.pos+1);return C===61?this.finishOp(D.equality,this.input.charCodeAt(this.pos+2)===61?3:2):o===61&&C===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(D.arrow)):this.finishOp(o===61?D.eq:D.prefix,1)},he.readToken_question=function(){var o=this.options.ecmaVersion;if(o>=11){var C=this.input.charCodeAt(this.pos+1);if(C===46){var F=this.input.charCodeAt(this.pos+2);if(F<48||F>57)return this.finishOp(D.questionDot,2)}if(C===63){if(o>=12){var H=this.input.charCodeAt(this.pos+2);if(H===61)return this.finishOp(D.assign,3)}return this.finishOp(D.coalesce,2)}}return this.finishOp(D.question,1)},he.readToken_numberSign=function(){var o=this.options.ecmaVersion,C=35;if(o>=13&&(++this.pos,C=this.fullCharCodeAtPos(),Ft(C,!0)||C===92))return this.finishToken(D.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+pe(C)+"'")},he.getTokenFromCode=function(o){switch(o){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(D.parenL);case 41:return++this.pos,this.finishToken(D.parenR);case 59:return++this.pos,this.finishToken(D.semi);case 44:return++this.pos,this.finishToken(D.comma);case 91:return++this.pos,this.finishToken(D.bracketL);case 93:return++this.pos,this.finishToken(D.bracketR);case 123:return++this.pos,this.finishToken(D.braceL);case 125:return++this.pos,this.finishToken(D.braceR);case 58:return++this.pos,this.finishToken(D.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(D.backQuote);case 48:var C=this.input.charCodeAt(this.pos+1);if(C===120||C===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(C===111||C===79)return this.readRadixNumber(8);if(C===98||C===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(o);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(o);case 124:case 38:return this.readToken_pipe_amp(o);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(o);case 60:case 62:return this.readToken_lt_gt(o);case 61:case 33:return this.readToken_eq_excl(o);case 63:return this.readToken_question();case 126:return this.finishOp(D.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+pe(o)+"'")},he.finishOp=function(o,C){var F=this.input.slice(this.pos,this.pos+C);return this.pos+=C,this.finishToken(o,F)},he.readRegexp=function(){for(var o,C,F=this.pos;;){this.pos>=this.input.length&&this.raise(F,"Unterminated regular expression");var H=this.input.charAt(this.pos);if($t.test(H)&&this.raise(F,"Unterminated regular expression"),o)o=!1;else{if(H==="[")C=!0;else if(H==="]"&&C)C=!1;else if(H==="/"&&!C)break;o=H==="\\"}++this.pos}var X=this.input.slice(F,this.pos);++this.pos;var ft=this.pos,pt=this.readWord1();this.containsEsc&&this.unexpected(ft);var Dt=this.regexpState||(this.regexpState=new Qt(this));Dt.reset(F,X,pt),this.validateRegExpFlags(Dt),this.validateRegExpPattern(Dt);var Wt=null;try{Wt=new RegExp(X,pt)}catch{}return this.finishToken(D.regexp,{pattern:X,flags:pt,value:Wt})},he.readInt=function(o,C,F){for(var H=this.options.ecmaVersion>=12&&C===void 0,X=F&&this.input.charCodeAt(this.pos)===48,ft=this.pos,pt=0,Dt=0,Wt=0,le=C??1/0;Wt<le;++Wt,++this.pos){var re=this.input.charCodeAt(this.pos),qe=void 0;if(H&&re===95){X&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),Dt===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),Wt===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),Dt=re;continue}if(re>=97?qe=re-97+10:re>=65?qe=re-65+10:re>=48&&re<=57?qe=re-48:qe=1/0,qe>=o)break;Dt=re,pt=pt*o+qe}return H&&Dt===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===ft||C!=null&&this.pos-ft!==C?null:pt};function Hi(o,C){return C?parseInt(o,8):parseFloat(o.replace(/_/g,""))}function Ci(o){return typeof BigInt!="function"?null:BigInt(o.replace(/_/g,""))}he.readRadixNumber=function(o){var C=this.pos;this.pos+=2;var F=this.readInt(o);return F==null&&this.raise(this.start+2,"Expected number in radix "+o),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(F=Ci(this.input.slice(C,this.pos)),++this.pos):Ft(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(D.num,F)},he.readNumber=function(o){var C=this.pos;!o&&this.readInt(10,void 0,!0)===null&&this.raise(C,"Invalid number");var F=this.pos-C>=2&&this.input.charCodeAt(C)===48;F&&this.strict&&this.raise(C,"Invalid number");var H=this.input.charCodeAt(this.pos);if(!F&&!o&&this.options.ecmaVersion>=11&&H===110){var X=Ci(this.input.slice(C,this.pos));return++this.pos,Ft(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(D.num,X)}F&&/[89]/.test(this.input.slice(C,this.pos))&&(F=!1),H===46&&!F&&(++this.pos,this.readInt(10),H=this.input.charCodeAt(this.pos)),(H===69||H===101)&&!F&&(H=this.input.charCodeAt(++this.pos),(H===43||H===45)&&++this.pos,this.readInt(10)===null&&this.raise(C,"Invalid number")),Ft(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var ft=Hi(this.input.slice(C,this.pos),F);return this.finishToken(D.num,ft)},he.readCodePoint=function(){var o=this.input.charCodeAt(this.pos),C;if(o===123){this.options.ecmaVersion<6&&this.unexpected();var F=++this.pos;C=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,C>1114111&&this.invalidStringToken(F,"Code point out of bounds")}else C=this.readHexChar(4);return C},he.readString=function(o){for(var C="",F=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var H=this.input.charCodeAt(this.pos);if(H===o)break;H===92?(C+=this.input.slice(F,this.pos),C+=this.readEscapedChar(!1),F=this.pos):H===8232||H===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ue(H)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return C+=this.input.slice(F,this.pos++),this.finishToken(D.string,C)};var fi={};he.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(o){if(o===fi)this.readInvalidTemplateToken();else throw o}this.inTemplateElement=!1},he.invalidStringToken=function(o,C){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw fi;this.raise(o,C)},he.readTmplToken=function(){for(var o="",C=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var F=this.input.charCodeAt(this.pos);if(F===96||F===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===D.template||this.type===D.invalidTemplate)?F===36?(this.pos+=2,this.finishToken(D.dollarBraceL)):(++this.pos,this.finishToken(D.backQuote)):(o+=this.input.slice(C,this.pos),this.finishToken(D.template,o));if(F===92)o+=this.input.slice(C,this.pos),o+=this.readEscapedChar(!0),C=this.pos;else if(ue(F)){switch(o+=this.input.slice(C,this.pos),++this.pos,F){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:o+=`
`;break;default:o+=String.fromCharCode(F);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),C=this.pos}else++this.pos}},he.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(D.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},he.readEscapedChar=function(o){var C=this.input.charCodeAt(++this.pos);switch(++this.pos,C){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return pe(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),o){var F=this.pos-1;this.invalidStringToken(F,"Invalid escape sequence in template string")}default:if(C>=48&&C<=55){var H=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],X=parseInt(H,8);return X>255&&(H=H.slice(0,-1),X=parseInt(H,8)),this.pos+=H.length-1,C=this.input.charCodeAt(this.pos),(H!=="0"||C===56||C===57)&&(this.strict||o)&&this.invalidStringToken(this.pos-1-H.length,o?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(X)}return ue(C)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(C)}},he.readHexChar=function(o){var C=this.pos,F=this.readInt(16,o);return F===null&&this.invalidStringToken(C,"Bad character escape sequence"),F},he.readWord1=function(){this.containsEsc=!1;for(var o="",C=!0,F=this.pos,H=this.options.ecmaVersion>=6;this.pos<this.input.length;){var X=this.fullCharCodeAtPos();if(ot(X,H))this.pos+=X<=65535?1:2;else if(X===92){this.containsEsc=!0,o+=this.input.slice(F,this.pos);var ft=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var pt=this.readCodePoint();(C?Ft:ot)(pt,H)||this.invalidStringToken(ft,"Invalid Unicode escape"),o+=pe(pt),F=this.pos}else break;C=!1}return o+this.input.slice(F,this.pos)},he.readWord=function(){var o=this.readWord1(),C=D.name;return this.keywords.test(o)&&(C=Rt[o]),this.finishToken(C,o)};var hi="8.12.1";t.acorn={Parser:t,version:hi,defaultOptions:ne,Position:ze,SourceLocation:Ve,getLineInfo:li,Node:N,TokenType:Vt,tokTypes:D,keywordTypes:Rt,TokContext:I,tokContexts:P,isIdentifierChar:ot,isIdentifierStart:Ft,Token:Oi,isNewLine:ue,lineBreak:$t,lineBreakG:Ne,nonASCIIwhitespace:Ue};function vi(o,C){return t.parse(o,C)}function gi(o,C,F){return t.parseExpressionAt(o,C,F)}function Ui(o,C){return t.tokenizer(o,C)}y.Node=N,y.Parser=t,y.Position=ze,y.SourceLocation=Ve,y.TokContext=I,y.Token=Oi,y.TokenType=Vt,y.defaultOptions=ne,y.getLineInfo=li,y.isIdentifierChar=ot,y.isIdentifierStart=Ft,y.isNewLine=ue,y.keywordTypes=Rt,y.lineBreak=$t,y.lineBreakG=Ne,y.nonASCIIwhitespace=Ue,y.parse=vi,y.parseExpressionAt=gi,y.tokContexts=P,y.tokTypes=D,y.tokenizer=Ui,y.version=hi})}(kr,kr.exports)),kr.exports}/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(u){(function(c,y){c=c||Br;var T=c.window,L=c.document,b=new function(){var t=/^(statics|enumerable|beans|preserve)$/,e=[],i=e.slice,r=Object.create,s=Object.getOwnPropertyDescriptor,a=Object.defineProperty,l=e.forEach||function(p,w){for(var E=0,I=this.length;E<I;E++)p.call(w,this[E],E,this)},h=function(p,w){for(var E in this)this.hasOwnProperty(E)&&p.call(w,this[E],E,this)},f=Object.assign||function(p){for(var w=1,E=arguments.length;w<E;w++){var I=arguments[w];for(var P in I)I.hasOwnProperty(P)&&(p[P]=I[P])}return p},d=function(p,w,E){if(p){var I=s(p,"length");(I&&typeof I.value=="number"?l:h).call(p,w,E=E||p)}return E};function _(p,w,E,I,P){var x={};function v(A,M){M=M||(M=s(w,A))&&(M.get?M:M.value),typeof M=="string"&&M[0]==="#"&&(M=p[M.substring(1)]||M);var N=typeof M=="function",B=M,V=P||N&&!M.base?M&&M.get?A in p:p[A]:null,z;(!P||!V)&&(N&&V&&(M.base=V),N&&I!==!1&&(z=A.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(x[z[3].toLowerCase()+z[4]]=z[2]),(!B||N||!B.get||typeof B.get!="function"||!g.isPlainObject(B))&&(B={value:B,writable:!0}),(s(p,A)||{configurable:!0}).configurable&&(B.configurable=!0,B.enumerable=E??!z),a(p,A,B))}if(w){for(var m in w)w.hasOwnProperty(m)&&!t.test(m)&&v(m);for(var m in x){var S=x[m],k=p["set"+S],O=p["get"+S]||k&&p["is"+S];O&&(I===!0||O.length===0)&&v(m,{get:O,set:k})}}return p}function g(){for(var p=0,w=arguments.length;p<w;p++){var E=arguments[p];E&&f(this,E)}return this}return _(g,{inject:function(p){if(p){var w=p.statics===!0?p:p.statics,E=p.beans,I=p.preserve;w!==p&&_(this.prototype,p,p.enumerable,E,I),_(this,w,null,E,I)}for(var P=1,x=arguments.length;P<x;P++)this.inject(arguments[P]);return this},extend:function(){for(var p=this,w,E,I=0,P,x=arguments.length;I<x&&!(w&&E);I++)P=arguments[I],w=w||P.initialize,E=E||P.prototype;return w=w||function(){p.apply(this,arguments)},E=w.prototype=E||r(this.prototype),a(E,"constructor",{value:w,writable:!0,configurable:!0}),_(w,this),arguments.length&&this.inject.apply(w,arguments),w.base=p,w}}).inject({enumerable:!1,initialize:g,set:g,inject:function(){for(var p=0,w=arguments.length;p<w;p++){var E=arguments[p];E&&_(this,E,E.enumerable,E.beans,E.preserve)}return this},extend:function(){var p=r(this);return p.inject.apply(p,arguments)},each:function(p,w){return d(this,p,w)},clone:function(){return new this.constructor(this)},statics:{set:f,each:d,create:r,define:a,describe:s,clone:function(p){return f(new p.constructor,p)},isPlainObject:function(p){var w=p!=null&&p.constructor;return w&&(w===Object||w===g||w.name==="Object")},pick:function(p,w){return p!==y?p:w},slice:function(p,w,E){return i.call(p,w,E)}}})};u.exports=b,b.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+b.each(this,function(t,e){if(!/^_/.test(e)){var i=typeof t;this.push(e+": "+(i==="number"?Q.instance.number(t):i==="string"?"'"+t+"'":t))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(t){return b.importJSON(t,this)},exportJSON:function(t){return b.exportJSON(this,t)},toJSON:function(){return b.serialize(this)},set:function(t,e){return t&&b.filter(this,t,e,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function t(){var e=t.base.apply(this,arguments),i=e.prototype._class;return i&&!b.exports[i]&&(b.exports[i]=e),e},equals:function(t,e){if(t===e)return!0;if(t&&t.equals)return t.equals(e);if(e&&e.equals)return e.equals(t);if(t&&e&&typeof t=="object"&&typeof e=="object"){if(Array.isArray(t)&&Array.isArray(e)){var i=t.length;if(i!==e.length)return!1;for(;i--;)if(!b.equals(t[i],e[i]))return!1}else{var r=Object.keys(t),i=r.length;if(i!==Object.keys(e).length)return!1;for(;i--;){var s=r[i];if(!(e.hasOwnProperty(s)&&b.equals(t[s],e[s])))return!1}}return!0}return!1},read:function(t,e,i,r){if(this===b){var s=this.peek(t,e);return t.__index++,s}var a=this.prototype,l=a._readIndex,h=e||l&&t.__index||0,f=t.length,d=t[h];if(r=r||f-h,d instanceof this||i&&i.readNull&&d==null&&r<=1)return l&&(t.__index=h+1),d&&i&&i.clone?d.clone():d;if(d=b.create(a),l&&(d.__read=!0),d=d.initialize.apply(d,h>0||h+r<f?b.slice(t,h,h+r):t)||d,l){t.__index=h+d.__read;var _=d.__filtered;_&&(t.__filtered=_,d.__filtered=y),d.__read=y}return d},peek:function(t,e){return t[t.__index=e||t.__index||0]},remain:function(t){return t.length-(t.__index||0)},readList:function(t,e,i,r){for(var s=[],a,l=e||0,h=r?l+r:t.length,f=l;f<h;f++)s.push(Array.isArray(a=t[f])?this.read(a,0,i):this.read(t,f,i,1));return s},readNamed:function(t,e,i,r,s){var a=this.getNamed(t,e),l=a!==y;if(l){var h=t.__filtered;if(!h){var f=this.getSource(t);h=t.__filtered=b.create(f),h.__unfiltered=f}h[e]=y}return this.read(l?[a]:t,i,r,s)},readSupported:function(t,e){var i=this.getSource(t),r=this,s=!1;return i&&Object.keys(i).forEach(function(a){if(a in e){var l=r.readNamed(t,a);l!==y&&(e[a]=l),s=!0}}),s},getSource:function(t){var e=t.__source;if(e===y){var i=t.length===1&&t[0];e=t.__source=i&&b.isPlainObject(i)?i:null}return e},getNamed:function(t,e){var i=this.getSource(t);if(i)return e?i[e]:t.__filtered||i},hasNamed:function(t,e){return!!this.getNamed(t,e)},filter:function(t,e,i,r){var s;function a(_){if(!(i&&_ in i)&&!(s&&_ in s)){var g=e[_];g!==y&&(t[_]=g)}}if(r){for(var l={},h=0,f,d=r.length;h<d;h++)(f=r[h])in e&&(a(f),l[f]=!0);s=l}return Object.keys(e.__unfiltered||e).forEach(a),t},isPlainValue:function(t,e){return b.isPlainObject(t)||Array.isArray(t)||e&&typeof t=="string"},serialize:function(t,e,i,r){e=e||{};var s=!r,a;if(s&&(e.formatter=new Q(e.precision),r={length:0,definitions:{},references:{},add:function(g,p){var w="#"+g._id,E=this.references[w];if(!E){this.length++;var I=p.call(g),P=g._class;P&&I[0]!==P&&I.unshift(P),this.definitions[w]=I,E=this.references[w]=[w]}return E}}),t&&t._serialize){a=t._serialize(e,r);var l=t._class;l&&!t._compactSerialize&&(s||!i)&&a[0]!==l&&a.unshift(l)}else if(Array.isArray(t)){a=[];for(var h=0,f=t.length;h<f;h++)a[h]=b.serialize(t[h],e,i,r)}else if(b.isPlainObject(t)){a={};for(var d=Object.keys(t),h=0,f=d.length;h<f;h++){var _=d[h];a[_]=b.serialize(t[_],e,i,r)}}else typeof t=="number"?a=e.formatter.number(t,e.precision):a=t;return s&&r.length>0?[["dictionary",r.definitions],a]:a},deserialize:function(t,e,i,r,s){var a=t,l=!i,h=l&&t&&t.length&&t[0][0]==="dictionary";if(i=i||{},Array.isArray(t)){var f=t[0],d=f==="dictionary";if(t.length==1&&/^#/.test(f))return i.dictionary[f];f=b.exports[f],a=[];for(var _=f?1:0,g=t.length;_<g;_++)a.push(b.deserialize(t[_],e,i,d,h));if(f){var p=a;e?a=e(f,p,l||s):a=new f(p)}}else if(b.isPlainObject(t)){a={},r&&(i.dictionary=a);for(var w in t)a[w]=b.deserialize(t[w],e,i)}return h?a[1]:a},exportJSON:function(t,e){var i=b.serialize(t,e);return e&&e.asString==!1?i:JSON.stringify(i)},importJSON:function(t,e){return b.deserialize(typeof t=="string"?JSON.parse(t):t,function(i,r,s){var a=s&&e&&e.constructor===i,l=a?e:b.create(i.prototype);if(r.length===1&&l instanceof D&&(a||!(l instanceof Ne))){var h=r[0];b.isPlainObject(h)&&(h.insert=!1,a&&(r=r.concat([D.INSERT])))}return(a?l.set:i).apply(l,r),a&&(e=null),l})},push:function(t,e){var i=e.length;if(i<4096)t.push.apply(t,e);else{var r=t.length;t.length+=i;for(var s=0;s<i;s++)t[r+s]=e[s]}return t},splice:function(t,e,i,r){var s=e&&e.length,a=i===y;i=a?t.length:i,i>t.length&&(i=t.length);for(var l=0;l<s;l++)e[l]._index=i+l;if(a)return b.push(t,e),[];var h=[i,r];e&&b.push(h,e);for(var f=t.splice.apply(t,h),l=0,d=f.length;l<d;l++)f[l]._index=y;for(var l=i+s,d=t.length;l<d;l++)t[l]._index=l;return f},capitalize:function(t){return t.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})},camelize:function(t){return t.replace(/-(.)/g,function(e,i){return i.toUpperCase()})},hyphenate:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var W={on:function(t,e){if(typeof t!="string")b.each(t,function(a,l){this.on(l,a)},this);else{var i=this._eventTypes,r=i&&i[t],s=this._callbacks=this._callbacks||{};s=s[t]=s[t]||[],s.indexOf(e)===-1&&(s.push(e),r&&r.install&&s.length===1&&r.install.call(this,t))}return this},off:function(t,e){if(typeof t!="string"){b.each(t,function(l,h){this.off(h,l)},this);return}var i=this._eventTypes,r=i&&i[t],s=this._callbacks&&this._callbacks[t],a;return s&&(!e||(a=s.indexOf(e))!==-1&&s.length===1?(r&&r.uninstall&&r.uninstall.call(this,t),delete this._callbacks[t]):a!==-1&&s.splice(a,1)),this},once:function(t,e){return this.on(t,function i(){e.apply(this,arguments),this.off(t,i)})},emit:function(t,e){var i=this._callbacks&&this._callbacks[t];if(!i)return!1;var r=b.slice(arguments,1),s=e&&e.target&&!e.currentTarget;i=i.slice(),s&&(e.currentTarget=this);for(var a=0,l=i.length;a<l;a++)if(i[a].apply(this,r)==!1){e&&e.stop&&e.stop();break}return s&&delete e.currentTarget,!0},responds:function(t){return!!(this._callbacks&&this._callbacks[t])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(t){var e=this._eventTypes,i=this._callbacks,r=t?"install":"uninstall";if(e){for(var s in i)if(i[s].length>0){var a=e[s],l=a&&a[r];l&&l.call(this,s)}}},statics:{inject:function t(e){var i=e._events;if(i){var r={};b.each(i,function(s,a){var l=typeof s=="string",h=l?s:a,f=b.capitalize(h),d=h.substring(2).toLowerCase();r[d]=l?{}:s,h="_"+h,e["get"+f]=function(){return this[h]},e["set"+f]=function(_){var g=this[h];g&&this.off(d,g),_&&this.on(d,_),this[h]=_}}),e._eventTypes=r}return t.base.apply(this,arguments)}}},Z=b.extend({_class:"PaperScope",initialize:function t(){n=this,this.settings=new b({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=t._id++,t._scopes[this._id]=this;var e=t.prototype;if(!this.support){var i=kt.getContext(1,1)||{};e.support={nativeDash:"setLineDash"in i||"mozDash"in i,nativeBlendModes:yt.nativeModes},kt.release(i)}if(!this.agent){var r=c.navigator.userAgent.toLowerCase(),s=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(r)||[])[0],a=s==="darwin"?"mac":s,l=e.agent=e.browser={platform:a};a&&(l[a]=!0),r.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(h,f,d,_,g){if(!l.chrome){var p=f==="opera"?_:/^(node|trident)$/.test(f)?g:d;l.version=p,l.versionNumber=parseFloat(p),f={trident:"msie",jsdom:"node"}[f]||f,l.name=f,l[f]=!0}}),l.chrome&&delete l.webkit,l.atom&&delete l.chrome}},version:"0.12.18",getView:function(){var t=this.project;return t&&t._view},getPaper:function(){return this},execute:function(t,e){var i=n.PaperScript.execute(t,this,e);return Gt.updateFocus(),i},install:function(t){var e=this;b.each(["project","view","tool"],function(r){b.define(t,r,{configurable:!0,get:function(){return e[r]}})});for(var i in this)!/^_/.test(i)&&this[i]&&(t[i]=this[i])},setup:function(t){return n=this,this.project=new Xt(t),this},createCanvas:function(t,e){return kt.getCanvas(t,e)},activate:function(){n=this},clear:function(){for(var t=this.projects,e=this.tools,i=t.length-1;i>=0;i--)t[i].remove();for(var i=e.length-1;i>=0;i--)e[i].remove()},remove:function(){this.clear(),delete Z._scopes[this._id]},statics:new function(){function t(e){return e+="Attribute",function(i,r){return i[e](r)||i[e]("data-paper-"+r)}}return{_scopes:{},_id:0,get:function(e){return this._scopes[e]||null},getAttribute:t("get"),hasAttribute:t("has")}}}),K=b.extend(W,{initialize:function(t){this._scope=n,this._index=this._scope[this._list].push(this)-1,(t||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var t=this._scope[this._reference];return t&&t!==this&&t.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",t),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(b.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),rt={findItemBoundsCollisions:function(t,e,i){function r(l){for(var h=new Array(l.length),f=0;f<l.length;f++){var d=l[f].getBounds();h[f]=[d.left,d.top,d.right,d.bottom]}return h}var s=r(t),a=!e||e===t?s:r(e);return this.findBoundsCollisions(s,a,i||0)},findCurveBoundsCollisions:function(t,e,i,r){function s(p){for(var w=Math.min,E=Math.max,I=new Array(p.length),P=0;P<p.length;P++){var x=p[P];I[P]=[w(x[0],x[2],x[4],x[6]),w(x[1],x[3],x[5],x[7]),E(x[0],x[2],x[4],x[6]),E(x[1],x[3],x[5],x[7])]}return I}var a=s(t),l=!e||e===t?a:s(e);if(r){for(var h=this.findBoundsCollisions(a,l,i||0,!1,!0),f=this.findBoundsCollisions(a,l,i||0,!0,!0),d=[],_=0,g=h.length;_<g;_++)d[_]={hor:h[_],ver:f[_]};return d}return this.findBoundsCollisions(a,l,i||0)},findBoundsCollisions:function(t,e,i,r,s){var a=!e||t===e,l=a?t:t.concat(e),h=t.length,f=l.length;function d(ht,_t,vt){for(var st=0,ut=ht.length;st<ut;){var mt=ut+st>>>1;l[ht[mt]][_t]<vt?st=mt+1:ut=mt}return st-1}for(var _=r?1:0,g=_+2,p=r?0:1,w=p+2,E=new Array(f),I=0;I<f;I++)E[I]=I;E.sort(function(ht,_t){return l[ht][_]-l[_t][_]});for(var P=[],x=new Array(h),I=0;I<f;I++){var v=E[I],m=l[v],S=a?v:v-h,k=v<h,O=a||!k,A=k?[]:null;if(P.length){var M=d(P,g,m[_]-i)+1;if(P.splice(0,M),a&&s){A=A.concat(P);for(var N=0;N<P.length;N++){var B=P[N];x[B].push(S)}}else for(var V=m[w],z=m[p],N=0;N<P.length;N++){var B=P[N],q=l[B],U=B<h,j=a||B>=h;(s||(k&&j||O&&U)&&V>=q[p]-i&&z<=q[w]+i)&&(k&&j&&A.push(a?B:B-h),O&&U&&x[B].push(S))}}if(k&&(t===e&&A.push(v),x[v]=A),P.length){var G=m[g],$=d(P,g,G);P.splice($+1,0,v)}else P.push(v)}for(var I=0;I<x.length;I++){var nt=x[I];nt&&nt.sort(function(_t,vt){return _t-vt})}return x}},Q=b.extend({initialize:function(t){this.precision=b.pick(t,5),this.multiplier=Math.pow(10,this.precision)},number:function(t){return this.precision<16?Math.round(t*this.multiplier)/this.multiplier:t},pair:function(t,e,i){return this.number(t)+(i||",")+this.number(e)},point:function(t,e){return this.number(t.x)+(e||",")+this.number(t.y)},size:function(t,e){return this.number(t.width)+(e||",")+this.number(t.height)},rectangle:function(t,e){return this.point(t,e)+(e||",")+this.size(t,e)}});Q.instance=new Q;var Y=new function(){var t=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],e=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],i=Math.abs,r=Math.sqrt,s=Math.pow,a=Math.log2||function(g){return Math.log(g)*Math.LOG2E},l=1e-12,h=112e-18;function f(g,p,w){return g<p?p:g>w?w:g}function d(g,p,w){function E(M){var N=M*134217729,B=M-N,V=B+N,z=M-V;return[V,z]}var I=p*p-g*w,P=p*p+g*w;if(i(I)*3<P){var x=E(g),v=E(p),m=E(w),S=p*p,k=v[0]*v[0]-S+2*v[0]*v[1]+v[1]*v[1],O=g*w,A=x[0]*m[0]-O+x[0]*m[1]+x[1]*m[0]+x[1]*m[1];I=S-O+(k-A)}return I}function _(){var g=Math.max.apply(Math,arguments);return g&&(g<1e-8||g>1e8)?s(2,-Math.round(a(g))):0}return{EPSILON:l,MACHINE_EPSILON:h,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(r(2)-1)/3,isZero:function(g){return g>=-l&&g<=l},isMachineZero:function(g){return g>=-h&&g<=h},clamp:f,integrate:function(g,p,w,E){for(var I=t[E-2],P=e[E-2],x=(w-p)*.5,v=x+p,m=0,S=E+1>>1,k=E&1?P[m++]*g(v):0;m<S;){var O=x*I[m];k+=P[m++]*(g(v+O)+g(v-O))}return x*k},findRoot:function(g,p,w,E,I,P,x){for(var v=0;v<P;v++){var m=g(w),S=m/p(w),k=w-S;if(i(S)<x){w=k;break}m>0?(I=w,w=k<=E?(E+I)*.5:k):(E=w,w=k>=I?(E+I)*.5:k)}return f(w,E,I)},solveQuadratic:function(g,p,w,E,I,P){var x,v=1/0;if(i(g)<l){if(i(p)<l)return i(w)<l?-1:0;x=-w/p}else{p*=-.5;var m=d(g,p,w);if(m&&i(m)<h){var S=_(i(g),i(p),i(w));S&&(g*=S,p*=S,w*=S,m=d(g,p,w))}if(m>=-h){var k=m<0?0:r(m),O=p+(p<0?-k:k);O===0?(x=w/g,v=-x):(x=O/g,v=w/O)}}var A=0,M=I==null,N=I-l,B=P+l;return isFinite(x)&&(M||x>N&&x<B)&&(E[A++]=M?x:f(x,I,P)),v!==x&&isFinite(v)&&(M||v>N&&v<B)&&(E[A++]=M?v:f(v,I,P)),A},solveCubic:function(g,p,w,E,I,P,x){var v=_(i(g),i(p),i(w),i(E)),m,S,k,O,A;v&&(g*=v,p*=v,w*=v,E*=v);function M($){m=$;var nt=g*m;S=nt+p,k=S*m+w,O=(nt+S)*m+k,A=k*m+E}if(i(g)<l)g=p,S=w,k=E,m=1/0;else if(i(E)<l)S=p,k=w,m=0;else{M(-(p/g)/3);var N=A/g,B=s(i(N),1/3),V=N<0?-1:1,z=-O/g,q=z>0?1.324717957244746*Math.max(B,r(z)):B,U=m-V*q;if(U!==m){do M(U),U=O===0?m:m-A/O/(1+h);while(V*U>V*m);i(g)*m*m>i(E/m)&&(k=-E/m,S=(k-w)/m)}}var j=Y.solveQuadratic(g,S,k,I,P,x),G=P==null;return isFinite(m)&&(j===0||j>0&&m!==I[0]&&m!==I[1])&&(G||m>P-l&&m<x+l)&&(I[j++]=G?m:f(m,P,x)),j}}},lt={_id:1,_pools:{},get:function(t){if(t){var e=this._pools[t];return e||(e=this._pools[t]={_id:1}),e._id++}else return this._id++}},R=b.extend({_class:"Point",_readIndex:!0,initialize:function(e,i){var r=typeof e,s=this.__read,a=0;if(r==="number"){var l=typeof i=="number";this._set(e,l?i:e),s&&(a=l?2:1)}else if(r==="undefined"||e===null)this._set(0,0),s&&(a=e===null?1:0);else{var h=r==="string"?e.split(/[\s,]+/)||[]:e;a=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"x"in h?this._set(h.x||0,h.y||0):"width"in h?this._set(h.width||0,h.height||0):"angle"in h?(this._set(h.length||0,0),this.setAngle(h.angle||0)):(this._set(0,0),a=0)}return s&&(this.__read=a),this},set:"#initialize",_set:function(t,e){return this.x=t,this.y=e,this},equals:function(t){return this===t||t&&(this.x===t.x&&this.y===t.y||Array.isArray(t)&&this.x===t[0]&&this.y===t[1])||!1},clone:function(){return new R(this.x,this.y)},toString:function(){var t=Q.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(t){if(this.isZero()){var e=this._angle||0;this._set(Math.cos(e)*t,Math.sin(e)*t)}else{var i=t/this.getLength();Y.isZero(i)&&this.getAngle(),this._set(this.x*i,this.y*i)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(t){this.setAngleInRadians.call(this,t*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var t=R.read(arguments),e=this.getLength()*t.getLength();if(Y.isZero(e))return NaN;var i=this.dot(t)/e;return Math.acos(i<-1?-1:i>1?1:i)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(t){if(this._angle=t,!this.isZero()){var e=this.getLength();this._set(Math.cos(t)*e,Math.sin(t)*e)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var t=R.read(arguments);return Math.atan2(this.cross(t),this.dot(t))*180/Math.PI},getDistance:function(){var t=arguments,e=R.read(t),i=e.x-this.x,r=e.y-this.y,s=i*i+r*r,a=b.read(t);return a?s:Math.sqrt(s)},normalize:function(t){t===y&&(t=1);var e=this.getLength(),i=e!==0?t/e:0,r=new R(this.x*i,this.y*i);return i>=0&&(r._angle=this._angle),r},rotate:function(t,e){if(t===0)return this.clone();t=t*Math.PI/180;var i=e?this.subtract(e):this,r=Math.sin(t),s=Math.cos(t);return i=new R(i.x*s-i.y*r,i.x*r+i.y*s),e?i.add(e):i},transform:function(t){return t?t._transformPoint(this):this},add:function(){var t=R.read(arguments);return new R(this.x+t.x,this.y+t.y)},subtract:function(){var t=R.read(arguments);return new R(this.x-t.x,this.y-t.y)},multiply:function(){var t=R.read(arguments);return new R(this.x*t.x,this.y*t.y)},divide:function(){var t=R.read(arguments);return new R(this.x/t.x,this.y/t.y)},modulo:function(){var t=R.read(arguments);return new R(this.x%t.x,this.y%t.y)},negate:function(){return new R(-this.x,-this.y)},isInside:function(){return ct.read(arguments).contains(this)},isClose:function(){var t=arguments,e=R.read(t),i=b.read(t);return this.getDistance(e)<=i},isCollinear:function(){var t=R.read(arguments);return R.isCollinear(this.x,this.y,t.x,t.y)},isColinear:"#isCollinear",isOrthogonal:function(){var t=R.read(arguments);return R.isOrthogonal(this.x,this.y,t.x,t.y)},isZero:function(){var t=Y.isZero;return t(this.x)&&t(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(t){return this.x*(t>1&&t<4?-1:1)>=0&&this.y*(t>2?-1:1)>=0},dot:function(){var t=R.read(arguments);return this.x*t.x+this.y*t.y},cross:function(){var t=R.read(arguments);return this.x*t.y-this.y*t.x},project:function(){var t=R.read(arguments),e=t.isZero()?0:this.dot(t)/t.dot(t);return new R(t.x*e,t.y*e)},statics:{min:function(){var t=arguments,e=R.read(t),i=R.read(t);return new R(Math.min(e.x,i.x),Math.min(e.y,i.y))},max:function(){var t=arguments,e=R.read(t),i=R.read(t);return new R(Math.max(e.x,i.x),Math.max(e.y,i.y))},random:function(){return new R(Math.random(),Math.random())},isCollinear:function(t,e,i,r){return Math.abs(t*r-e*i)<=Math.sqrt((t*t+e*e)*(i*i+r*r))*1e-8},isOrthogonal:function(t,e,i,r){return Math.abs(t*i+e*r)<=Math.sqrt((t*t+e*e)*(i*i+r*r))*1e-8}}},b.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new R(e(this.x),e(this.y))}},{})),Ft=R.extend({initialize:function(e,i,r,s){this._x=e,this._y=i,this._owner=r,this._setter=s},_set:function(t,e,i){return this._x=t,this._y=e,i||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ot=b.extend({_class:"Size",_readIndex:!0,initialize:function(e,i){var r=typeof e,s=this.__read,a=0;if(r==="number"){var l=typeof i=="number";this._set(e,l?i:e),s&&(a=l?2:1)}else if(r==="undefined"||e===null)this._set(0,0),s&&(a=e===null?1:0);else{var h=r==="string"?e.split(/[\s,]+/)||[]:e;a=1,Array.isArray(h)?this._set(+h[0],+(h.length>1?h[1]:h[0])):"width"in h?this._set(h.width||0,h.height||0):"x"in h?this._set(h.x||0,h.y||0):(this._set(0,0),a=0)}return s&&(this.__read=a),this},set:"#initialize",_set:function(t,e){return this.width=t,this.height=e,this},equals:function(t){return t===this||t&&(this.width===t.width&&this.height===t.height||Array.isArray(t)&&this.width===t[0]&&this.height===t[1])||!1},clone:function(){return new ot(this.width,this.height)},toString:function(){var t=Q.instance;return"{ width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.width),e.number(this.height)]},add:function(){var t=ot.read(arguments);return new ot(this.width+t.width,this.height+t.height)},subtract:function(){var t=ot.read(arguments);return new ot(this.width-t.width,this.height-t.height)},multiply:function(){var t=ot.read(arguments);return new ot(this.width*t.width,this.height*t.height)},divide:function(){var t=ot.read(arguments);return new ot(this.width/t.width,this.height/t.height)},modulo:function(){var t=ot.read(arguments);return new ot(this.width%t.width,this.height%t.height)},negate:function(){return new ot(-this.width,-this.height)},isZero:function(){var t=Y.isZero;return t(this.width)&&t(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(t,e){return new ot(Math.min(t.width,e.width),Math.min(t.height,e.height))},max:function(t,e){return new ot(Math.max(t.width,e.width),Math.max(t.height,e.height))},random:function(){return new ot(Math.random(),Math.random())}}},b.each(["round","ceil","floor","abs"],function(t){var e=Math[t];this[t]=function(){return new ot(e(this.width),e(this.height))}},{})),Vt=ot.extend({initialize:function(e,i,r,s){this._width=e,this._height=i,this._owner=r,this._setter=s},_set:function(t,e,i){return this._width=t,this._height=e,i||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(t){this._width=t,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(t){this._height=t,this._owner[this._setter](this)}}),ct=b.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(e,i,r,s){var a=arguments,l=typeof e,h;if(l==="number"?(this._set(e,i,r,s),h=4):l==="undefined"||e===null?(this._set(0,0,0,0),h=e===null?1:0):a.length===1&&(Array.isArray(e)?(this._set.apply(this,e),h=1):e.x!==y||e.width!==y?(this._set(e.x||0,e.y||0,e.width||0,e.height||0),h=1):e.from===y&&e.to===y&&(this._set(0,0,0,0),b.readSupported(a,this)&&(h=1))),h===y){var f=R.readNamed(a,"from"),d=b.peek(a),_=f.x,g=f.y,p,w;if(d&&d.x!==y||b.hasNamed(a,"to")){var E=R.readNamed(a,"to");p=E.x-_,w=E.y-g,p<0&&(_=E.x,p=-p),w<0&&(g=E.y,w=-w)}else{var I=ot.read(a);p=I.width,w=I.height}this._set(_,g,p,w),h=a.__index}var P=a.__filtered;return P&&(this.__filtered=P),this.__read&&(this.__read=h),this},set:"#initialize",_set:function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},clone:function(){return new ct(this.x,this.y,this.width,this.height)},equals:function(t){var e=b.isPlainValue(t)?ct.read(arguments):t;return e===this||e&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height||!1},toString:function(){var t=Q.instance;return"{ x: "+t.number(this.x)+", y: "+t.number(this.y)+", width: "+t.number(this.width)+", height: "+t.number(this.height)+" }"},_serialize:function(t){var e=t.formatter;return[e.number(this.x),e.number(this.y),e.number(this.width),e.number(this.height)]},getPoint:function(t){var e=t?R:Ft;return new e(this.x,this.y,this,"setPoint")},setPoint:function(){var t=R.read(arguments);this.x=t.x,this.y=t.y},getSize:function(t){var e=t?ot:Vt;return new e(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var t=ot.read(arguments),e=this._sx,i=this._sy,r=t.width,s=t.height;e&&(this.x+=(this.width-r)*e),i&&(this.y+=(this.height-s)*i),this.width=r,this.height=s,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(t){if(!this._fw){var e=t-this.x;this.width-=this._sx===.5?e*2:e}this.x=t,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(t){if(!this._fh){var e=t-this.y;this.height-=this._sy===.5?e*2:e}this.y=t,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(t){if(!this._fw){var e=t-this.x;this.width=this._sx===.5?e*2:e}this.x=t-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(t){if(!this._fh){var e=t-this.y;this.height=this._sy===.5?e*2:e}this.y=t-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(t){this._fw||this._sx===.5?this.x=t-this.width/2:(this._sx&&(this.x+=(t-this.x)*2*this._sx),this.width=(t-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(t){this._fh||this._sy===.5?this.y=t-this.height/2:(this._sy&&(this.y+=(t-this.y)*2*this._sy),this.height=(t-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(t){var e=t?R:Ft;return new e(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var t=R.read(arguments);return this.setCenterX(t.x),this.setCenterY(t.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(t){return t&&t.width!==y||(Array.isArray(t)?t:arguments).length===4?this._containsRectangle(ct.read(arguments)):this._containsPoint(R.read(arguments))},_containsPoint:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e<=this.x+this.width&&i<=this.y+this.height},_containsRectangle:function(t){var e=t.x,i=t.y;return e>=this.x&&i>=this.y&&e+t.width<=this.x+this.width&&i+t.height<=this.y+this.height},intersects:function(){var t=ct.read(arguments),e=b.read(arguments)||0;return t.x+t.width>this.x-e&&t.y+t.height>this.y-e&&t.x<this.x+this.width+e&&t.y<this.y+this.height+e},intersect:function(){var t=ct.read(arguments),e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),r=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return new ct(e,i,r-e,s-i)},unite:function(){var t=ct.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width),s=Math.max(this.y+this.height,t.y+t.height);return new ct(e,i,r-e,s-i)},include:function(){var t=R.read(arguments),e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x),s=Math.max(this.y+this.height,t.y);return new ct(e,i,r-e,s-i)},expand:function(){var t=ot.read(arguments),e=t.width,i=t.height;return new ct(this.x-e/2,this.y-i/2,this.width+e,this.height+i)},scale:function(t,e){return this.expand(this.width*t-this.width,this.height*(e===y?t:e)-this.height)}},b.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(t,e){var i=t.join(""),r=/^[RL]/.test(i);e>=4&&(t[1]+=r?"Y":"X");var s=t[r?0:1],a=t[r?1:0],l="get"+s,h="get"+a,f="set"+s,d="set"+a,_="get"+i,g="set"+i;this[_]=function(p){var w=p?R:Ft;return new w(this[l](),this[h](),this,g)},this[g]=function(){var p=R.read(arguments);this[f](p.x),this[d](p.y)}},{beans:!0})),Yt=ct.extend({initialize:function(e,i,r,s,a,l){this._set(e,i,r,s,!0),this._owner=a,this._setter=l},_set:function(t,e,i,r,s){return this._x=t,this._y=e,this._width=i,this._height=r,s||this._owner[this._setter](this),this}},new function(){var t=ct.prototype;return b.each(["x","y","width","height"],function(e){var i=b.capitalize(e),r="_"+e;this["get"+i]=function(){return this[r]},this["set"+i]=function(s){this[r]=s,this._dontNotify||this._owner[this._setter](this)}},b.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(e){var i="set"+e;this[i]=function(){this._dontNotify=!0,t[i].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(e){var i=this._owner;i._changeSelection&&i._changeSelection(2,e)}}))}),St=b.extend({_class:"Matrix",initialize:function t(e,i){var r=arguments,s=r.length,a=!0;if(s>=6?this._set.apply(this,r):s===1||s===2?e instanceof t?this._set(e._a,e._b,e._c,e._d,e._tx,e._ty,i):Array.isArray(e)?this._set.apply(this,i?e.concat([i]):e):a=!1:s?a=!1:this.reset(),!a)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(t,e,i,r,s,a,l){return this._a=t,this._b=e,this._c=i,this._d=r,this._tx=s,this._ty=a,l||this._changed(),this},_serialize:function(t,e){return b.serialize(this.getValues(),t,!0,e)},_changed:function(){var t=this._owner;t&&(t._applyMatrix?t.transform(null,!0):t._changed(25))},clone:function(){return new St(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(t){return t===this||t&&this._a===t._a&&this._b===t._b&&this._c===t._c&&this._d===t._d&&this._tx===t._tx&&this._ty===t._ty},toString:function(){var t=Q.instance;return"[["+[t.number(this._a),t.number(this._c),t.number(this._tx)].join(", ")+"], ["+[t.number(this._b),t.number(this._d),t.number(this._ty)].join(", ")+"]]"},reset:function(t){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,t||this._changed(),this},apply:function(t,e){var i=this._owner;return i?(i.transform(null,b.pick(t,!0),e),this.isIdentity()):!1},translate:function(){var t=R.read(arguments),e=t.x,i=t.y;return this._tx+=e*this._a+i*this._c,this._ty+=e*this._b+i*this._d,this._changed(),this},scale:function(){var t=arguments,e=R.read(t),i=R.read(t,0,{readNull:!0});return i&&this.translate(i),this._a*=e.x,this._b*=e.x,this._c*=e.y,this._d*=e.y,i&&this.translate(i.negate()),this._changed(),this},rotate:function(t){t*=Math.PI/180;var e=R.read(arguments,1),i=e.x,r=e.y,s=Math.cos(t),a=Math.sin(t),l=i-i*s+r*a,h=r-i*a-r*s,f=this._a,d=this._b,_=this._c,g=this._d;return this._a=s*f+a*_,this._b=s*d+a*g,this._c=-a*f+s*_,this._d=-a*d+s*g,this._tx+=l*f+h*_,this._ty+=l*d+h*g,this._changed(),this},shear:function(){var t=arguments,e=R.read(t),i=R.read(t,0,{readNull:!0});i&&this.translate(i);var r=this._a,s=this._b;return this._a+=e.y*this._c,this._b+=e.y*this._d,this._c+=e.x*r,this._d+=e.x*s,i&&this.translate(i.negate()),this._changed(),this},skew:function(){var t=arguments,e=R.read(t),i=R.read(t,0,{readNull:!0}),r=Math.PI/180,s=new R(Math.tan(e.x*r),Math.tan(e.y*r));return this.shear(s,i)},append:function(t,e){if(t){var i=this._a,r=this._b,s=this._c,a=this._d,l=t._a,h=t._c,f=t._b,d=t._d,_=t._tx,g=t._ty;this._a=l*i+f*s,this._c=h*i+d*s,this._b=l*r+f*a,this._d=h*r+d*a,this._tx+=_*i+g*s,this._ty+=_*r+g*a,e||this._changed()}return this},prepend:function(t,e){if(t){var i=this._a,r=this._b,s=this._c,a=this._d,l=this._tx,h=this._ty,f=t._a,d=t._c,_=t._b,g=t._d,p=t._tx,w=t._ty;this._a=f*i+d*r,this._c=f*s+d*a,this._b=_*i+g*r,this._d=_*s+g*a,this._tx=f*l+d*h+p,this._ty=_*l+g*h+w,e||this._changed()}return this},appended:function(t){return this.clone().append(t)},prepended:function(t){return this.clone().prepend(t)},invert:function(){var t=this._a,e=this._b,i=this._c,r=this._d,s=this._tx,a=this._ty,l=t*r-e*i,h=null;return l&&!isNaN(l)&&isFinite(s)&&isFinite(a)&&(this._a=r/l,this._b=-e/l,this._c=-i/l,this._d=t/l,this._tx=(i*a-r*s)/l,this._ty=(e*s-t*a)/l,h=this),h},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new St(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var t=this._a*this._d-this._c*this._b;return t&&!isNaN(t)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(t,e,i){return arguments.length<3?this._transformPoint(R.read(arguments)):this._transformCoordinates(t,e,i)},_transformPoint:function(t,e,i){var r=t.x,s=t.y;return e||(e=new R),e._set(r*this._a+s*this._c+this._tx,r*this._b+s*this._d+this._ty,i)},_transformCoordinates:function(t,e,i){for(var r=0,s=2*i;r<s;r+=2){var a=t[r],l=t[r+1];e[r]=a*this._a+l*this._c+this._tx,e[r+1]=a*this._b+l*this._d+this._ty}return e},_transformCorners:function(t){var e=t.x,i=t.y,r=e+t.width,s=i+t.height,a=[e,i,r,i,r,s,e,s];return this._transformCoordinates(a,a,4)},_transformBounds:function(t,e,i){for(var r=this._transformCorners(t),s=r.slice(0,2),a=s.slice(),l=2;l<8;l++){var h=r[l],f=l&1;h<s[f]?s[f]=h:h>a[f]&&(a[f]=h)}return e||(e=new ct),e._set(s[0],s[1],a[0]-s[0],a[1]-s[1],i)},inverseTransform:function(){return this._inverseTransform(R.read(arguments))},_inverseTransform:function(t,e,i){var r=this._a,s=this._b,a=this._c,l=this._d,h=this._tx,f=this._ty,d=r*l-s*a,_=null;if(d&&!isNaN(d)&&isFinite(h)&&isFinite(f)){var g=t.x-this._tx,p=t.y-this._ty;e||(e=new R),_=e._set((g*l-p*a)/d,(p*r-g*s)/d,i)}return _},decompose:function(){var t=this._a,e=this._b,i=this._c,r=this._d,s=t*r-e*i,a=Math.sqrt,l=Math.atan2,h=180/Math.PI,f,d,_;if(t!==0||e!==0){var g=a(t*t+e*e);f=Math.acos(t/g)*(e>0?1:-1),d=[g,s/g],_=[l(t*i+e*r,g*g),0]}else if(i!==0||r!==0){var p=a(i*i+r*r);f=Math.asin(i/p)*(r>0?1:-1),d=[s/p,p],_=[0,l(t*i+e*r,p*p)]}else f=0,_=d=[0,0];return{translation:this.getTranslation(),rotation:f*h,scaling:new R(d),skewing:new R(_[0]*h,_[1]*h)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new R(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(t){this.isIdentity()||t.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},b.each(["a","b","c","d","tx","ty"],function(t){var e=b.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(r){this[i]=r,this._changed()}},{})),Rt=b.extend({_class:"Line",initialize:function(e,i,r,s,a){var l=!1;arguments.length>=4?(this._px=e,this._py=i,this._vx=r,this._vy=s,l=a):(this._px=e.x,this._py=e.y,this._vx=i.x,this._vy=i.y,l=r),l||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new R(this._px,this._py)},getVector:function(){return new R(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(t,e){return Rt.intersect(this._px,this._py,this._vx,this._vy,t._px,t._py,t._vx,t._vy,!0,e)},getSide:function(t,e){return Rt.getSide(this._px,this._py,this._vx,this._vy,t.x,t.y,!0,e)},getDistance:function(t){return Math.abs(this.getSignedDistance(t))},getSignedDistance:function(t){return Rt.getSignedDistance(this._px,this._py,this._vx,this._vy,t.x,t.y,!0)},isCollinear:function(t){return R.isCollinear(this._vx,this._vy,t._vx,t._vy)},isOrthogonal:function(t){return R.isOrthogonal(this._vx,this._vy,t._vx,t._vy)},statics:{intersect:function(t,e,i,r,s,a,l,h,f,d){f||(i-=t,r-=e,l-=s,h-=a);var _=i*h-r*l;if(!Y.isMachineZero(_)){var g=t-s,p=e-a,w=(l*p-h*g)/_,E=(i*p-r*g)/_,I=1e-12,P=-I,x=1+I;if(d||P<w&&w<x&&P<E&&E<x)return d||(w=w<=0?0:w>=1?1:w),new R(t+w*i,e+w*r)}},getSide:function(t,e,i,r,s,a,l,h){l||(i-=t,r-=e);var f=s-t,d=a-e,_=f*r-d*i;return!h&&Y.isMachineZero(_)&&(_=(f*i+f*i)/(i*i+r*r),_>=0&&_<=1&&(_=0)),_<0?-1:_>0?1:0},getSignedDistance:function(t,e,i,r,s,a,l){return l||(i-=t,r-=e),i===0?r>0?s-t:t-s:r===0?i<0?a-e:e-a:((s-t)*r-(a-e)*i)/(r>i?r*Math.sqrt(1+i*i/(r*r)):i*Math.sqrt(1+r*r/(i*i)))},getDistance:function(t,e,i,r,s,a,l){return Math.abs(Rt.getSignedDistance(t,e,i,r,s,a,l))}}}),Xt=K.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(e){K.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Kt(null,null,this),this._view=Gt.create(this,e||kt.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(t,e){return b.serialize(this._children,t,!0,e)},_changed:function(t,e){if(t&1){var i=this._view;i&&(i._needsUpdate=!0,!i._requested&&i._autoUpdate&&i.requestUpdate())}var r=this._changes;if(r&&e){var s=this._changesById,a=e._id,l=s[a];l?l.flags|=t:r.push(s[a]={item:e,flags:t})}},clear:function(){for(var t=this._children,e=t.length-1;e>=0;e--)t[e].remove()},isEmpty:function(){return!this._children.length},remove:function t(){return t.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(t){this._currentStyle.set(t)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Ne({project:this,insert:!0})},getSymbolDefinitions:function(){var t=[],e={};return this.getItems({class:Ue,match:function(i){var r=i._definition,s=r._id;return e[s]||(e[s]=!0,t.push(r)),!1}}),t},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var t=this._selectionItems,e=[];for(var i in t){var r=t[i],s=r._selection;s&1&&r.isInserted()?e.push(r):s||this._updateSelection(r)}return e},_updateSelection:function(t){var e=t._id,i=this._selectionItems;t._selection?i[e]!==t&&(this._selectionCount++,i[e]=t):i[e]===t&&(this._selectionCount--,delete i[e])},selectAll:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setFullySelected(!0)},deselectAll:function(){var t=this._selectionItems;for(var e in t)t[e].setFullySelected(!1)},addLayer:function(t){return this.insertLayer(y,t)},insertLayer:function(t,e){if(e instanceof Ne){e._remove(!1,!0),b.splice(this._children,[e],t,0),e._setProject(this,!0);var i=e._name;i&&e.setName(i),this._changes&&e._changed(5),this._activeLayer||(this._activeLayer=e)}else e=null;return e},_insertItem:function(t,e,i){return e=this.insertLayer(t,e)||(this._activeLayer||this._insertItem(y,new Ne(D.NO_INSERT),!0)).insertChild(t,e),i&&e.activate&&e.activate(),e},getItems:function(t){return D._getItems(this,t)},getItem:function(t){return D._getItems(this,t,null,null,!0)[0]||null},importJSON:function(t){this.activate();var e=this._activeLayer;return b.importJSON(t,e&&e.isEmpty()&&e)},removeOn:function(t){var e=this._removeSets;if(e){t==="mouseup"&&(e.mousedrag=null);var i=e[t];if(i){for(var r in i){var s=i[r];for(var a in e){var l=e[a];l&&l!=i&&delete l[s._id]}s.remove()}e[t]=null}}},draw:function(t,e,i){this._updateVersion++,t.save(),e.applyToContext(t);for(var r=this._children,s=new b({offset:new R(0,0),pixelRatio:i,viewMatrix:e.isIdentity()?null:e,matrices:[new St],updateMatrix:!0}),a=0,l=r.length;a<l;a++)r[a].draw(t,s);if(t.restore(),this._selectionCount>0){t.save(),t.strokeWidth=1;var h=this._selectionItems,f=this._scope.settings.handleSize,d=this._updateVersion;for(var _ in h)h[_]._drawSelection(t,e,f,h,d);t.restore()}}}),D=b.extend(W,{statics:{extend:function t(e){return e._serializeFields&&(e._serializeFields=b.set({},this.prototype._serializeFields,e._serializeFields)),t.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new St,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var t=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return b.each(t,function(e){this._events[e]={install:function(i){this.getView()._countItemEvent(i,1)},uninstall:function(i){this.getView()._countItemEvent(i,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:t}})},{initialize:function(){},_initialize:function(t,e){var i=t&&b.isPlainObject(t),r=i&&t.internal===!0,s=this._matrix=new St,a=i&&t.project||n.project,l=n.settings;return this._id=r?null:lt.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&l.applyMatrix,e&&s.translate(e),s._owner=this,this._style=new Kt(a._currentStyle,this,a),r||i&&t.insert==!1||!l.insertItems&&!(i&&t.insert==!0)?this._setProject(a):(i&&t.parent||a)._insertItem(y,this,!0),i&&t!==D.NO_INSERT&&t!==D.INSERT&&this.set(t,{internal:!0,insert:!0,project:!0,parent:!0}),i},_serialize:function(t,e){var i={},r=this;function s(a){for(var l in a){var h=r[l];b.equals(h,l==="leading"?a.fontSize*1.2:a[l])||(i[l]=b.serialize(h,t,l!=="data",e))}}return s(this._serializeFields),this instanceof $t||s(this._style._defaults),[this._class,i]},_changed:function(t){var e=this._symbol,i=this._parent||e,r=this._project;t&8&&(this._bounds=this._position=this._decomposed=y),t&16&&(this._globalMatrix=y),i&&t&72&&D._clearBoundsCache(i),t&2&&D._clearBoundsCache(this),r&&r._changed(t,this),e&&e._changed(t)},getId:function(){return this._id},getName:function(){return this._name},setName:function(t){if(this._name&&this._removeNamed(),t===+t+"")throw new Error("Names consisting only of numbers are not supported.");var e=this._getOwner();if(t&&e){var i=e._children,r=e._namedChildren;(r[t]=r[t]||[]).push(this),t in i||(i[t]=this)}this._name=t||y,this._changed(256)},getStyle:function(){return this._style},setStyle:function(t){this.getStyle().set(t)}},b.each(["locked","visible","blendMode","opacity","guide"],function(t){var e=b.capitalize(t),i="_"+t,r={locked:256,visible:265};this["get"+e]=function(){return this[i]},this["set"+e]=function(s){s!=this[i]&&(this[i]=s,this._changed(r[t]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(t){if(t!==this._selection){this._selection=t;var e=this._project;e&&(e._updateSelection(this),this._changed(257))}},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){if(this._selectChildren){for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e].isSelected())return!0}return!!(this._selection&1)},setSelected:function(t){if(this._selectChildren)for(var e=this._children,i=0,r=e.length;i<r;i++)e[i].setSelected(t);this._changeSelection(1,t)},isFullySelected:function(){var t=this._children,e=!!(this._selection&1);if(t&&e){for(var i=0,r=t.length;i<r;i++)if(!t[i].isFullySelected())return!1;return!0}return e},setFullySelected:function(t){var e=this._children;if(e)for(var i=0,r=e.length;i<r;i++)e[i].setFullySelected(t);this._changeSelection(1,t)},isClipMask:function(){return this._clipMask},setClipMask:function(t){this._clipMask!=(t=!!t)&&(this._clipMask=t,t&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(t){this._data=t},getPosition:function(t){var e=t?R:Ft,i=this._position||(this._position=this._getPositionFromBounds());return new e(i.x,i.y,this,"setPosition")},setPosition:function(){this.translate(R.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(t){return this._pivot?this._matrix._transformPoint(this._pivot):(t||this.getBounds()).getCenter(!0)},getPivot:function(){var t=this._pivot;return t?new Ft(t.x,t.y,this,"setPivot"):null},setPivot:function(){this._pivot=R.read(arguments,0,{clone:!0,readNull:!0}),this._position=y}},b.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(t,e){this[e]=function(i){return this.getBounds(i,t)}},{beans:!0,getBounds:function(t,e){var i=e||t instanceof St,r=b.set({},i?e:t,this._boundsOptions);(!r.stroke||this.getStrokeScaling())&&(r.cacheItem=this);var s=this._getCachedBounds(i&&t,r).rect;return arguments.length?s:new Yt(s.x,s.y,s.width,s.height,this,"setBounds")},setBounds:function(){var t=ct.read(arguments),e=this.getBounds(),i=this._matrix,r=new St,s=t.getCenter();r.translate(s),(t.width!=e.width||t.height!=e.height)&&(i.isInvertible()||(i.set(i._backup||new St().translate(i.getTranslation())),e=this.getBounds()),r.scale(e.width!==0?t.width/e.width:0,e.height!==0?t.height/e.height:0)),s=e.getCenter(),r.translate(-s.x,-s.y),this.transform(r)},_getBounds:function(t,e){var i=this._children;return!i||!i.length?new ct:(D._updateBoundsCache(this,e.cacheItem),D._getBounds(i,t,e))},_getBoundsCacheKey:function(t,e){return[t.stroke?1:0,t.handle?1:0,e?1:0].join("")},_getCachedBounds:function(t,e,i){t=t&&t._orNullIfIdentity();var r=e.internal&&!i,s=e.cacheItem,a=r?null:this._matrix._orNullIfIdentity(),l=s&&(!t||t.equals(a))&&this._getBoundsCacheKey(e,r),h=this._bounds;if(D._updateBoundsCache(this._parent||this._symbol,s),l&&h&&l in h){var f=h[l];return{rect:f.rect.clone(),nonscaling:f.nonscaling}}var d=this._getBounds(t||a,e),_=d.rect||d,g=this._style,p=d.nonscaling||g.hasStroke()&&!g.getStrokeScaling();if(l){h||(this._bounds=h={});var f=h[l]={rect:_.clone(),nonscaling:p,internal:r}}return{rect:_,nonscaling:p}},_getStrokeMatrix:function(t,e){var i=this.getStrokeScaling()?null:e&&e.internal?this:this._parent||this._symbol&&this._symbol._item,r=i?i.getViewMatrix().invert():t;return r&&r._shiftless()},statics:{_updateBoundsCache:function(t,e){if(t&&e){var i=e._id,r=t._boundsCache=t._boundsCache||{ids:{},list:[]};r.ids[i]||(r.list.push(e),r.ids[i]=e)}},_clearBoundsCache:function(t){var e=t._boundsCache;if(e){t._bounds=t._position=t._boundsCache=y;for(var i=0,r=e.list,s=r.length;i<s;i++){var a=r[i];a!==t&&(a._bounds=a._position=y,a._boundsCache&&D._clearBoundsCache(a))}}},_getBounds:function(t,e,i){var r=1/0,s=-r,a=r,l=s,h=!1;i=i||{};for(var f=0,d=t.length;f<d;f++){var _=t[f];if(_._visible&&!_.isEmpty(!0)){var g=_._getCachedBounds(e&&e.appended(_._matrix),i,!0),p=g.rect;r=Math.min(p.x,r),a=Math.min(p.y,a),s=Math.max(p.x+p.width,s),l=Math.max(p.y+p.height,l),g.nonscaling&&(h=!0)}}return{rect:isFinite(r)?new ct(r,a,s-r,l-a):new ct,nonscaling:h}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var t=this._decompose();return t?t.rotation:0},setRotation:function(t){var e=this.getRotation();if(e!=null&&t!=null){var i=this._decomposed;this.rotate(t-e),i&&(i.rotation=t,this._decomposed=i)}},getScaling:function(){var t=this._decompose(),e=t&&t.scaling;return new Ft(e?e.x:1,e?e.y:1,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=R.read(arguments,0,{clone:!0,readNull:!0});if(t&&e&&!t.equals(e)){var i=this.getRotation(),r=this._decomposed,s=new St,a=Y.isZero;if(a(t.x)||a(t.y))s.translate(r.translation),i&&s.rotate(i),s.scale(e.x,e.y),this._matrix.set(s);else{var l=this.getPosition(!0);s.translate(l),i&&s.rotate(i),s.scale(e.x/t.x,e.y/t.y),i&&s.rotate(-i),s.translate(l.negate()),this.transform(s)}r&&(r.scaling=e,this._decomposed=r)}},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},getGlobalMatrix:function(t){var e=this._globalMatrix;if(e)for(var i=this._parent,r=[];i;){if(!i._globalMatrix){e=null;for(var s=0,a=r.length;s<a;s++)r[s]._globalMatrix=null;break}r.push(i),i=i._parent}if(!e){e=this._globalMatrix=this._matrix.clone();var i=this._parent;i&&e.prepend(i.getGlobalMatrix(!0))}return t?e:e.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(t){(this._applyMatrix=this._canApplyMatrix&&!!t)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(t,e){if(this._project!==t){this._project&&this._installEvents(!1),this._project=t;for(var i=this._children,r=0,s=i&&i.length;r<s;r++)i[r]._setProject(t);e=!0}e&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function t(e){t.base.call(this,e);for(var i=this._children,r=0,s=i&&i.length;r<s;r++)i[r]._installEvents(e)},getLayer:function(){for(var t=this;t=t._parent;)if(t instanceof Ne)return t;return null},getParent:function(){return this._parent},setParent:function(t){return t.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(t){this.removeChildren(),this.addChildren(t)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var t=this._getOwner();return t&&t._children[this._index+1]||null},getPreviousSibling:function(){var t=this._getOwner();return t&&t._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(t){var e=this._parent,i=e&&e._children;i&&e.insertChildren(t in i?t:y,[this])},equals:function(t){return t===this||t&&this._class===t._class&&this._style.equals(t._style)&&this._matrix.equals(t._matrix)&&this._locked===t._locked&&this._visible===t._visible&&this._blendMode===t._blendMode&&this._opacity===t._opacity&&this._clipMask===t._clipMask&&this._guide===t._guide&&this._equals(t)||!1},_equals:function(t){return b.equals(this._children,t._children)},clone:function(t){var e=new this.constructor(D.NO_INSERT),i=this._children,r=b.pick(t?t.insert:y,t===y||t===!0),s=b.pick(t?t.deep:y,!0);i&&e.copyAttributes(this),(!i||s)&&e.copyContent(this),i||e.copyAttributes(this),r&&e.insertAbove(this);var a=this._name,l=this._parent;if(a&&l){for(var i=l._children,h=a,f=1;i[a];)a=h+" "+f++;a!==h&&e.setName(a)}return e},copyContent:function(t){for(var e=t._children,i=0,r=e&&e.length;i<r;i++)this.addChild(e[i].clone(!1),!0)},copyAttributes:function(t,e){this.setStyle(t._style);for(var i=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],r=0,s=i.length;r<s;r++){var a=i[r];t.hasOwnProperty(a)&&(this[a]=t[a])}e||this._matrix.set(t._matrix,!0),this.setApplyMatrix(t._applyMatrix),this.setPivot(t._pivot),this.setSelection(t._selection);var l=t._data,h=t._name;this._data=l?b.clone(l):null,h&&this.setName(h)},rasterize:function(t,e){var i,r,s;b.isPlainObject(t)?(i=t.resolution,r=t.insert,s=t.raster):(i=t,r=e),s||(s=new Re(D.NO_INSERT));var a=this.getStrokeBounds(),l=(i||this.getView().getResolution())/72,h=a.getTopLeft().floor(),f=a.getBottomRight().ceil(),d=new ot(f.subtract(h)),_=d.multiply(l);if(s.setSize(_,!0),!_.isZero()){var g=s.getContext(!0),p=new St().scale(l).translate(h.negate());g.save(),p.applyToContext(g),this.draw(g,new b({matrices:[p]})),g.restore()}return s._matrix.set(new St().translate(h.add(d.divide(2))).scale(1/l)),(r===y||r)&&s.insertAbove(this),s},contains:function(){var t=this._matrix;return t.isInvertible()&&!!this._contains(t._inverseTransform(R.read(arguments)))},_contains:function(t){var e=this._children;if(e){for(var i=e.length-1;i>=0;i--)if(e[i].contains(t))return!0;return!1}return t.isInside(this.getInternalBounds())},isInside:function(){return ct.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new qt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(t,e){return t instanceof D?this._asPathItem().getIntersections(t._asPathItem(),null,e,!0).length>0:!1}},new function(){function t(){var r=arguments;return this._hitTest(R.read(r),be.getOptions(r))}function e(){var r=arguments,s=R.read(r),a=be.getOptions(r),l=[];return this._hitTest(s,new b({all:l},a)),l}function i(r,s,a,l){var h=this._children;if(h)for(var f=h.length-1;f>=0;f--){var d=h[f],_=d!==l&&d._hitTest(r,s,a);if(_&&!s.all)return _}return null}return Xt.inject({hitTest:t,hitTestAll:e,_hitTest:i}),{hitTest:t,hitTestAll:e,_hitTestChildren:i}},{_hitTest:function(t,e,i){if(this._locked||!this._visible||this._guide&&!e.guides||this.isEmpty())return null;var r=this._matrix,s=i?i.appended(r):this.getGlobalMatrix().prepend(this.getView()._matrix),a=Math.max(e.tolerance,1e-12),l=e._tolerancePadding=new ot(qt._getStrokePadding(a,r._shiftless().invert()));if(t=r._inverseTransform(t),!t||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(l.multiply(2))._containsPoint(t))return null;var h=!(e.guides&&!this._guide||e.selected&&!this.isSelected()||e.type&&e.type!==b.hyphenate(this._class)||e.class&&!(this instanceof e.class)),f=e.match,d=this,_,g;function p(m){return m&&f&&!f(m)&&(m=null),m&&e.all&&e.all.push(m),m}function w(m,S){var k=S?_["get"+S]():d.getPosition();if(t.subtract(k).divide(l).length<=1)return new be(m,d,{name:S?b.hyphenate(S):m,point:k})}var E=e.position,I=e.center,P=e.bounds;if(h&&this._parent&&(E||I||P)){if((I||P)&&(_=this.getInternalBounds()),g=E&&w("position")||I&&w("center","Center"),!g&&P)for(var x=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],v=0;v<8&&!g;v++)g=w("bounds",x[v]);g=p(g)}return g||(g=this._hitTestChildren(t,e,s)||h&&p(this._hitTestSelf(t,e,s,this.getStrokeScaling()?null:s._shiftless().invert()))||null),g&&g.point&&(g.point=r.transform(g.point)),g},_hitTestSelf:function(t,e){if(e.fill&&this.hasFill()&&this._contains(t))return new be("fill",this)},matches:function(t,e){function i(l,h){for(var f in l)if(l.hasOwnProperty(f)){var d=l[f],_=h[f];if(b.isPlainObject(d)&&b.isPlainObject(_)){if(!i(d,_))return!1}else if(!b.equals(d,_))return!1}return!0}var r=typeof t;if(r==="object"){for(var s in t)if(t.hasOwnProperty(s)&&!this.matches(s,t[s]))return!1;return!0}else{if(r==="function")return t(this);if(t==="match")return e(this);var a=/^(empty|editable)$/.test(t)?this["is"+b.capitalize(t)]():t==="type"?b.hyphenate(this._class):this[t];if(t==="class"){if(typeof e=="function")return this instanceof e;a=this._class}if(typeof e=="function")return!!e(a);if(e){if(e.test)return e.test(a);if(b.isPlainObject(e))return i(e,a)}return b.equals(a,e)}},getItems:function(t){return D._getItems(this,t,this._matrix)},getItem:function(t){return D._getItems(this,t,this._matrix,null,!0)[0]||null},statics:{_getItems:function t(e,i,r,s,a){if(!s){var l=typeof i=="object"&&i,h=l&&l.overlapping,f=l&&l.inside,d=h||f,p=d&&ct.read([d]);s={items:[],recursive:l&&l.recursive!==!1,inside:!!f,overlapping:!!h,rect:p,path:h&&new qt.Rectangle({rectangle:p,insert:!1})},l&&(i=b.filter({},i,{recursive:!0,inside:!0,overlapping:!0}))}var _=e._children,g=s.items,p=s.rect;r=p&&(r||new St);for(var w=0,E=_&&_.length;w<E;w++){var I=_[w],P=r&&r.appended(I._matrix),x=!0;if(p){var d=I.getBounds(P);if(!p.intersects(d))continue;p.contains(d)||s.overlapping&&(d.contains(p)||s.path.intersects(I,P))||(x=!1)}if(x&&I.matches(i)&&(g.push(I),a)||(s.recursive!==!1&&t(I,i,P,s,a),a&&g.length>0))break}return g}}},{importJSON:function(t){var e=b.importJSON(t,this);return e!==this?this.addChild(e):e},addChild:function(t){return this.insertChild(y,t)},insertChild:function(t,e){var i=e?this.insertChildren(t,[e]):null;return i&&i[0]},addChildren:function(t){return this.insertChildren(this._children.length,t)},insertChildren:function(t,e){var i=this._children;if(i&&e&&e.length>0){e=b.slice(e);for(var r={},s=e.length-1;s>=0;s--){var a=e[s],l=a&&a._id;!a||r[l]?e.splice(s,1):(a._remove(!1,!0),r[l]=!0)}b.splice(i,e,t,0);for(var h=this._project,f=h._changes,s=0,d=e.length;s<d;s++){var a=e[s],_=a._name;a._parent=this,a._setProject(h,!0),_&&a.setName(_),f&&a._changed(5)}this._changed(11)}else e=null;return e},_insertItem:"#insertChild",_insertAt:function(t,e){var i=t&&t._getOwner(),r=t!==this&&i?this:null;return r&&(r._remove(!1,!0),i._insertItem(t._index+e,r)),r},insertAbove:function(t){return this._insertAt(t,1)},insertBelow:function(t){return this._insertAt(t,0)},sendToBack:function(){var t=this._getOwner();return t?t._insertItem(0,this):null},bringToFront:function(){var t=this._getOwner();return t?t._insertItem(y,this):null},appendTop:"#addChild",appendBottom:function(t){return this.insertChild(0,t)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(t){return t._insertItem(y,this)},copyTo:function(t){return this.clone(!1).addTo(t)},reduce:function(t){var e=this._children;if(e&&e.length===1){var i=e[0].reduce(t);return this._parent?(i.insertAbove(this),this.remove()):i.remove(),i}return this},_removeNamed:function(){var t=this._getOwner();if(t){var e=t._children,i=t._namedChildren,r=this._name,s=i[r],a=s?s.indexOf(this):-1;a!==-1&&(e[r]==this&&delete e[r],s.splice(a,1),s.length?e[r]=s[0]:delete i[r])}},_remove:function(t,e){var i=this._getOwner(),r=this._project,s=this._index;return this._style&&this._style._dispose(),i?(this._name&&this._removeNamed(),s!=null&&(r._activeLayer===this&&(r._activeLayer=this.getNextSibling()||this.getPreviousSibling()),b.splice(i._children,null,s,1)),this._installEvents(!1),t&&r._changes&&this._changed(5),e&&i._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(t){var e=t&&t.insertBelow(this);return e&&this.remove(),e},removeChildren:function(t,e){if(!this._children)return null;t=t||0,e=b.pick(e,this._children.length);for(var i=b.splice(this._children,null,t,e-t),r=i.length-1;r>=0;r--)i[r]._remove(!0,!1);return i.length>0&&this._changed(11),i},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var t=0,e=this._children.length;t<e;t++)this._children[t]._index=t;this._changed(11)}},isEmpty:function(t){var e=this._children,i=e?e.length:0;if(t){for(var r=0;r<i;r++)if(!e[r].isEmpty(t))return!1;return!0}return!i},isEditable:function(){for(var t=this;t;){if(!t._visible||t._locked)return!1;t=t._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(t){function e(l){var h=[];do h.unshift(l);while(l=l._parent);return h}for(var i=e(this),r=e(t),s=0,a=Math.min(i.length,r.length);s<a;s++)if(i[s]!=r[s])return i[s]._index<r[s]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(t){return this._getOrder(t)===-1},isBelow:function(t){return this._getOrder(t)===1},isParent:function(t){return this._parent===t},isChild:function(t){return t&&t._parent===this},isDescendant:function(t){for(var e=this;e=e._parent;)if(e===t)return!0;return!1},isAncestor:function(t){return t?t.isDescendant(this):!1},isSibling:function(t){return this._parent===t._parent},isGroupedWith:function(t){for(var e=this._parent;e;){if(e._parent&&/^(Group|Layer|CompoundPath)$/.test(e._class)&&t.isDescendant(e))return!0;e=e._parent}return!1}},b.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var i=arguments,r=(e?b:R).read(i),s=R.read(i,0,{readNull:!0});return this.transform(new St()[t](r,s||this.getPosition(!0)))}},{translate:function(){var t=new St;return this.transform(t.translate.apply(t,arguments))},transform:function(t,e,i){var r=this._matrix,s=t&&!t.isIdentity(),a=i&&this._canApplyMatrix||this._applyMatrix&&(s||!r.isIdentity()||e&&this._children);if(!s&&!a)return this;if(s){!t.isInvertible()&&r.isInvertible()&&(r._backup=r.getValues()),r.prepend(t,!0);var l=this._style,h=l.getFillColor(!0),f=l.getStrokeColor(!0);h&&h.transform(t),f&&f.transform(t)}if(a&&(a=this._transformContent(r,e,i))){var d=this._pivot;d&&r._transformPoint(d,d,!0),r.reset(!0),i&&this._canApplyMatrix&&(this._applyMatrix=!0)}var _=this._bounds,g=this._position;(s||a)&&this._changed(25);var p=s&&_&&t.decompose();if(p&&p.skewing.isZero()&&p.rotation%90===0){for(var w in _){var E=_[w];if(E.nonscaling)delete _[w];else if(a||!E.internal){var I=E.rect;t._transformBounds(I,I)}}this._bounds=_;var P=_[this._getBoundsCacheKey(this._boundsOptions||{})];P&&(this._position=this._getPositionFromBounds(P.rect))}else s&&g&&this._pivot&&(this._position=t._transformPoint(g,g));return this},_transformContent:function(t,e,i){var r=this._children;if(r){for(var s=0,a=r.length;s<a;s++)r[s].transform(t,e,i);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(R.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(R.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(R.read(arguments))},localToParent:function(){return this._matrix._transformPoint(R.read(arguments))},fitBounds:function(t,e){t=ct.read(arguments);var i=this.getBounds(),r=i.height/i.width,s=t.height/t.width,a=(e?r>s:r<s)?t.width/i.width:t.height/i.height,l=new ct(new R,new ot(i.width*a,i.height*a));l.setCenter(t.getCenter()),this.setBounds(l)}}),{_setStyles:function(t,e,i){var r=this._style,s=this._matrix;if(r.hasFill()&&(t.fillStyle=r.getFillColor().toCanvasStyle(t,s)),r.hasStroke()){t.strokeStyle=r.getStrokeColor().toCanvasStyle(t,s),t.lineWidth=r.getStrokeWidth();var a=r.getStrokeJoin(),l=r.getStrokeCap(),h=r.getMiterLimit();if(a&&(t.lineJoin=a),l&&(t.lineCap=l),h&&(t.miterLimit=h),n.support.nativeDash){var f=r.getDashArray(),d=r.getDashOffset();f&&f.length&&("setLineDash"in t?(t.setLineDash(f),t.lineDashOffset=d):(t.mozDash=f,t.mozDashOffset=d))}}if(r.hasShadow()){var _=e.pixelRatio||1,g=i._shiftless().prepend(new St().scale(_,_)),p=g.transform(new R(r.getShadowBlur(),0)),w=g.transform(this.getShadowOffset());t.shadowColor=r.getShadowColor().toCanvasStyle(t),t.shadowBlur=p.getLength(),t.shadowOffsetX=w.x,t.shadowOffsetY=w.y}},draw:function(t,e,i){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var r=e.matrices,s=e.viewMatrix,a=this._matrix,l=r[r.length-1].appended(a);if(l.isInvertible()){s=s?s.appended(l):l,r.push(l),e.updateMatrix&&(this._globalMatrix=l);var h=this._blendMode,f=Y.clamp(this._opacity,0,1),d=h==="normal",_=yt.nativeModes[h],g=d&&f===1||e.dontStart||e.clip||(_||d&&f<1)&&this._canComposite(),p=e.pixelRatio||1,w,E,I;if(!g){var P=this.getStrokeBounds(s);if(!P.width||!P.height){r.pop();return}I=e.offset,E=e.offset=P.getTopLeft().floor(),w=t,t=kt.getContext(P.getSize().ceil().add(1).multiply(p)),p!==1&&t.scale(p,p)}t.save();var x=i?i.appended(a):this._canScaleStroke&&!this.getStrokeScaling(!0)&&s,v=!g&&e.clipItem,m=!x||v;if(g?(t.globalAlpha=f,_&&(t.globalCompositeOperation=h)):m&&t.translate(-E.x,-E.y),m&&(g?a:s).applyToContext(t),v&&e.clipItem.draw(t,e.extend({clip:!0})),x){t.setTransform(p,0,0,p,0,0);var S=e.offset;S&&t.translate(-S.x,-S.y)}this._draw(t,e,s,x),t.restore(),r.pop(),e.clip&&!e.dontFinish&&t.clip(this.getFillRule()),g||(yt.process(h,t,w,f,E.subtract(I).multiply(p)),kt.release(t),e.offset=I)}}},_isUpdated:function(t){var e=this._parent;if(e instanceof pe)return e._isUpdated(t);var i=this._updateVersion===t;return!i&&e&&e._visible&&e._isUpdated(t)&&(this._updateVersion=t,i=!0),i},_drawSelection:function(t,e,i,r,s){var a=this._selection,l=a&1,h=a&2||l&&this._selectBounds,f=a&4;if(this._drawSelected||(l=!1),(l||h||f)&&this._isUpdated(s)){var d,_=this.getSelectedColor(!0)||(d=this.getLayer())&&d.getSelectedColor(!0),g=e.appended(this.getGlobalMatrix(!0)),p=i/2;if(t.strokeStyle=t.fillStyle=_?_.toCanvasStyle(t):"#009dec",l&&this._drawSelected(t,g,r),f){var w=this.getPosition(!0),E=this._parent,I=E?E.localToGlobal(w):w,P=I.x,x=I.y;t.beginPath(),t.arc(P,x,p,0,Math.PI*2,!0),t.stroke();for(var v=[[0,-1],[1,0],[0,1],[-1,0]],m=p,S=i+1,k=0;k<4;k++){var O=v[k],A=O[0],M=O[1];t.moveTo(P+A*m,x+M*m),t.lineTo(P+A*S,x+M*S),t.stroke()}}if(h){var N=g._transformCorners(this.getInternalBounds());t.beginPath();for(var k=0;k<8;k++)t[k?"lineTo":"moveTo"](N[k],N[++k]);t.closePath(),t.stroke();for(var k=0;k<8;k++)t.fillRect(N[k]-p,N[++k]-p,i,i)}}},_canComposite:function(){return!1}},b.each(["down","drag","up","move"],function(t){this["removeOn"+b.capitalize(t)]=function(){var e={};return e[t]=!0,this.removeOn(e)}},{removeOn:function(t){for(var e in t)if(t[e]){var i="mouse"+e,r=this._project,s=r._removeSets=r._removeSets||{};s[i]=s[i]||{},s[i][this._id]=this}return this}}),{tween:function(t,e,i){i||(i=e,e=t,t=null,i||(i=e,e=null));var r=i&&i.easing,s=i&&i.start,a=i!=null&&(typeof i=="number"?i:i.duration),l=new jt(this,t,e,a,r,s);function h(f){l._handleFrame(f.time*1e3),l.running||this.off("frame",h)}return a&&this.on("frame",h),l},tweenTo:function(t,e){return this.tween(null,t,e)},tweenFrom:function(t,e){return this.tween(t,null,e)}}),$t=D.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||this.addChildren(Array.isArray(e)?e:arguments)},_changed:function t(e){t.base.call(this,e),e&2050&&(this._clipItem=y)},_getClipItem:function(){var t=this._clipItem;if(t===y){t=null;for(var e=this._children,i=0,r=e.length;i<r;i++)if(e[i]._clipMask){t=e[i];break}this._clipItem=t}return t},isClipped:function(){return!!this._getClipItem()},setClipped:function(t){var e=this.getFirstChild();e&&e.setClipMask(t)},_getBounds:function t(e,i){var r=this._getClipItem();return r?r._getCachedBounds(r._matrix.prepended(e),b.set({},i,{stroke:!1})):t.base.call(this,e,i)},_hitTestChildren:function t(e,i,r){var s=this._getClipItem();return(!s||s.contains(e))&&t.base.call(this,e,i,r,s)},_draw:function(t,e){var i=e.clip,r=!i&&this._getClipItem();e=e.extend({clipItem:r,clip:!1}),i?(t.beginPath(),e.dontStart=e.dontFinish=!0):r&&r.draw(t,e.extend({clip:!0}));for(var s=this._children,a=0,l=s.length;a<l;a++){var h=s[a];h!==r&&h.draw(t,e)}}}),Ne=$t.extend({_class:"Layer",initialize:function(){$t.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function t(){return this._parent?t.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),ue=D.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(e,i){this._initialize(e,i)},_equals:function(t){return this._type===t._type&&this._size.equals(t._size)&&b.equals(this._radius,t._radius)},copyContent:function(t){this.setType(t._type),this.setSize(t._size),this.setRadius(t._radius)},getType:function(){return this._type},setType:function(t){this._type=t},getShape:"#getType",setShape:"#setType",getSize:function(){var t=this._size;return new Vt(t.width,t.height,this,"setSize")},setSize:function(){var t=ot.read(arguments);if(!this._size)this._size=t.clone();else if(!this._size.equals(t)){var e=this._type,i=t.width,r=t.height;e==="rectangle"?this._radius.set(ot.min(this._radius,t.divide(2).abs())):e==="circle"?(i=r=(i+r)/2,this._radius=i/2):e==="ellipse"&&this._radius._set(i/2,r/2),this._size._set(i,r),this._changed(9)}},getRadius:function(){var t=this._radius;return this._type==="circle"?t:new Vt(t.width,t.height,this,"setRadius")},setRadius:function(t){var e=this._type;if(e==="circle"){if(t===this._radius)return;var i=t*2;this._radius=t,this._size._set(i,i)}else if(t=ot.read(arguments),!this._radius)this._radius=t.clone();else{if(this._radius.equals(t))return;if(this._radius.set(t),e==="rectangle"){var i=ot.max(this._size,t.multiply(2));this._size.set(i)}else e==="ellipse"&&this._size._set(t.width*2,t.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(t){var e=new qt[b.capitalize(this._type)]({center:new R,size:this._size,radius:this._radius,insert:!1});return e.copyAttributes(this),n.settings.applyMatrix&&e.setApplyMatrix(!0),(t===y||t)&&e.insertAbove(this),e},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(t,e,i,r){var s=this._style,a=s.hasFill(),l=s.hasStroke(),h=e.dontFinish||e.clip,f=!r;if(a||l||h){var d=this._type,_=this._radius,g=d==="circle";if(e.dontStart||t.beginPath(),f&&g)t.arc(0,0,_,0,Math.PI*2,!0);else{var p=g?_:_.width,w=g?_:_.height,E=this._size,I=E.width,P=E.height;if(f&&d==="rectangle"&&p===0&&w===0)t.rect(-I/2,-P/2,I,P);else{var x=I/2,v=P/2,m=1-.5522847498307936,S=p*m,k=w*m,O=[-x,-v+w,-x,-v+k,-x+S,-v,-x+p,-v,x-p,-v,x-S,-v,x,-v+k,x,-v+w,x,v-w,x,v-k,x-S,v,x-p,v,-x+p,v,-x+S,v,-x,v-k,-x,v-w];r&&r.transform(O,O,32),t.moveTo(O[0],O[1]),t.bezierCurveTo(O[2],O[3],O[4],O[5],O[6],O[7]),x!==p&&t.lineTo(O[8],O[9]),t.bezierCurveTo(O[10],O[11],O[12],O[13],O[14],O[15]),v!==w&&t.lineTo(O[16],O[17]),t.bezierCurveTo(O[18],O[19],O[20],O[21],O[22],O[23]),x!==p&&t.lineTo(O[24],O[25]),t.bezierCurveTo(O[26],O[27],O[28],O[29],O[30],O[31])}}t.closePath()}!h&&(a||l)&&(this._setStyles(t,e,i),a&&(t.fill(s.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),l&&t.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(t,e){var i=new ct(this._size).setCenter(0,0),r=this._style,s=e.stroke&&r.hasStroke()&&r.getStrokeWidth();return t&&(i=t._transformBounds(i)),s?i.expand(qt._getStrokePadding(s,this._getStrokeMatrix(t,e))):i}},new function(){function t(i,r,s){var a=i._radius;if(!a.isZero())for(var l=i._size.divide(2),h=1;h<=4;h++){var f=new R(h>1&&h<4?-1:1,h>2?-1:1),d=f.multiply(l),_=d.subtract(f.multiply(a)),g=new ct(s?d.add(f.multiply(s)):d,_);if(g.contains(r))return{point:_,quadrant:h}}}function e(i,r,s,a){var l=i.divide(r);return(!a||l.isInQuadrant(a))&&l.subtract(l.normalize()).multiply(r).divide(s).length<=1}return{_contains:function i(r){if(this._type==="rectangle"){var s=t(this,r);return s?r.subtract(s.point).divide(this._radius).getLength()<=1:i.base.call(this,r)}else return r.divide(this.size).getLength()<=.5},_hitTestSelf:function i(r,s,a,l){var h=!1,f=this._style,d=s.stroke&&f.hasStroke(),_=s.fill&&f.hasFill();if(d||_){var g=this._type,p=this._radius,w=d?f.getStrokeWidth()/2:0,E=s._tolerancePadding.add(qt._getStrokePadding(w,!f.getStrokeScaling()&&l));if(g==="rectangle"){var I=E.multiply(2),P=t(this,r,I);if(P)h=e(r.subtract(P.point),p,E,P.quadrant);else{var x=new ct(this._size).setCenter(0,0),v=x.expand(I),m=x.expand(I.negate());h=v._containsPoint(r)&&!m._containsPoint(r)}}else h=e(r,p,E)}return h?new be(d?"stroke":"fill",this):i.base.apply(this,arguments)}}},{statics:new function(){function t(e,i,r,s,a){var l=b.create(ue.prototype);return l._type=e,l._size=r,l._radius=s,l._initialize(b.getNamed(a),i),l}return{Circle:function(){var e=arguments,i=R.readNamed(e,"center"),r=b.readNamed(e,"radius");return t("circle",i,new ot(r*2),r,e)},Rectangle:function(){var e=arguments,i=ct.readNamed(e,"rectangle"),r=ot.min(ot.readNamed(e,"radius"),i.getSize(!0).divide(2));return t("rectangle",i.getCenter(!0),i.getSize(!0),r,e)},Ellipse:function(){var e=arguments,i=ue._readEllipse(e),r=i.radius;return t("ellipse",i.center,r.multiply(2),r,e)},_readEllipse:function(e){var i,r;if(b.hasNamed(e,"radius"))i=R.readNamed(e,"center"),r=ot.readNamed(e,"radius");else{var s=ct.readNamed(e,"rectangle");i=s.getCenter(!0),r=s.getSize(!0).divide(2)}return{center:i,radius:r}}}}}),Re=D.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(e,i){if(!this._initialize(e,i!==y&&R.read(arguments))){var r,s=typeof e,a=s==="string"?L.getElementById(e):s==="object"?e:null;if(a&&a!==D.NO_INSERT){if(a.getContext||a.naturalHeight!=null)r=a;else if(a){var l=ot.read(arguments);l.isZero()||(r=kt.getCanvas(l))}}r?this.setImage(r):this.setSource(e)}this._size||(this._size=new ot,this._loaded=!1)},_equals:function(t){return this.getSource()===t.getSource()},copyContent:function(t){var e=t._image,i=t._canvas;if(e)this._setImage(e);else if(i){var r=kt.getCanvas(t._size);r.getContext("2d").drawImage(i,0,0),this._setImage(r)}this._crossOrigin=t._crossOrigin},getSize:function(){var t=this._size;return new Vt(t?t.width:0,t?t.height:0,this,"setSize")},setSize:function(t,e){var i=ot.read(arguments);if(i.equals(this._size))e&&this.clear();else if(i.width>0&&i.height>0){var r=!e&&this.getElement();this._setImage(kt.getCanvas(i)),r&&this.getContext(!0).drawImage(r,0,0,i.width,i.height)}else this._canvas&&kt.release(this._canvas),this._size=i.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(t){this.setSize(t,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(t){this.setSize(this.getWidth(),t)},getLoaded:function(){return this._loaded},isEmpty:function(){var t=this._size;return!t||t.width===0&&t.height===0},getResolution:function(){var t=this._matrix,e=new R(0,0).transform(t),i=new R(1,0).transform(t).subtract(e),r=new R(0,1).transform(t).subtract(e);return new ot(72/i.getLength(),72/r.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(t){var e=this;function i(r){var s=e.getView(),a=r&&r.type||"load";s&&e.responds(a)&&(n=s._scope,e.emit(a,new J(r)))}this._setImage(t),this._loaded?setTimeout(i,0):t&&Mt.add(t,{load:function(r){e._setImage(t),i(r)},error:i})},_setImage:function(t){this._canvas&&kt.release(this._canvas),t&&t.getContext?(this._image=null,this._canvas=t,this._loaded=!0):(this._image=t,this._canvas=null,this._loaded=!!(t&&t.src&&t.complete)),this._size=new ot(t?t.naturalWidth||t.width:0,t?t.naturalHeight||t.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var t=kt.getContext(this._size);try{this._image&&t.drawImage(this._image,0,0),this._canvas=t.canvas}catch{kt.release(t)}}return this._canvas},setCanvas:"#setImage",getContext:function(t){return this._context||(this._context=this.getCanvas().getContext("2d")),t&&(this._image=null,this._changed(1025)),this._context},setContext:function(t){this._context=t},getSource:function(){var t=this._image;return t&&t.src||this.toDataURL()},setSource:function(t){var e=new c.Image,i=this._crossOrigin;i&&(e.crossOrigin=i),t&&(e.src=t),this.setImage(e)},getCrossOrigin:function(){var t=this._image;return t&&t.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(t){this._crossOrigin=t;var e=this._image;e&&(e.crossOrigin=t)},getSmoothing:function(){return this._smoothing},setSmoothing:function(t){this._smoothing=typeof t=="string"?t:t?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var t=ct.read(arguments),e=kt.getContext(t.getSize());return e.drawImage(this.getCanvas(),t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.canvas},getSubRaster:function(){var t=ct.read(arguments),e=new Re(D.NO_INSERT);return e._setImage(this.getSubCanvas(t)),e.translate(t.getCenter().subtract(this.getSize().divide(2))),e._matrix.prepend(this._matrix),e.insertAbove(this),e},toDataURL:function(){var t=this._image,e=t&&t.src;if(/^data:/.test(e))return e;var i=this.getCanvas();return i?i.toDataURL.apply(i,arguments):null},drawImage:function(t){var e=R.read(arguments,1);this.getContext(!0).drawImage(t,e.x,e.y)},getAverageColor:function(t){var e,i;if(t?t instanceof ae?(i=t,e=t.getBounds()):typeof t=="object"&&("width"in t?e=new ct(t):"x"in t&&(e=new ct(t.x-.5,t.y-.5,1,1))):e=this.getBounds(),!e)return null;var r=32,s=Math.min(e.width,r),a=Math.min(e.height,r),l=Re._sampleContext;l?l.clearRect(0,0,r+1,r+1):l=Re._sampleContext=kt.getContext(new ot(r)),l.save();var h=new St().scale(s/e.width,a/e.height).translate(-e.x,-e.y);h.applyToContext(l),i&&i.draw(l,new b({clip:!0,matrices:[h]})),this._matrix.applyToContext(l);var f=this.getElement(),d=this._size;f&&l.drawImage(f,-d.width/2,-d.height/2),l.restore();for(var _=l.getImageData(.5,.5,Math.ceil(s),Math.ceil(a)).data,g=[0,0,0],p=0,w=0,E=_.length;w<E;w+=4){var I=_[w+3];p+=I,I/=255,g[0]+=_[w]*I,g[1]+=_[w+1]*I,g[2]+=_[w+2]*I}for(var w=0;w<3;w++)g[w]/=p;return p?ne.read(g):null},getPixel:function(){var t=R.read(arguments),e=this.getContext().getImageData(t.x,t.y,1,1).data;return new ne("rgb",[e[0]/255,e[1]/255,e[2]/255],e[3]/255)},setPixel:function(){var t=arguments,e=R.read(t),i=ne.read(t),r=i._convert("rgb"),s=i._alpha,a=this.getContext(!0),l=a.createImageData(1,1),h=l.data;h[0]=r[0]*255,h[1]=r[1]*255,h[2]=r[2]*255,h[3]=s!=null?s*255:255,a.putImageData(l,e.x,e.y)},clear:function(){var t=this._size;this.getContext(!0).clearRect(0,0,t.width+1,t.height+1)},createImageData:function(){var t=ot.read(arguments);return this.getContext().createImageData(t.width,t.height)},getImageData:function(){var t=ct.read(arguments);return t.isEmpty()&&(t=new ct(this._size)),this.getContext().getImageData(t.x,t.y,t.width,t.height)},putImageData:function(t){var e=R.read(arguments,1);this.getContext(!0).putImageData(t,e.x,e.y)},setImageData:function(t){this.setSize(t),this.getContext(!0).putImageData(t,0,0)},_getBounds:function(t,e){var i=new ct(this._size).setCenter(0,0);return t?t._transformBounds(i):i},_hitTestSelf:function(t){if(this._contains(t)){var e=this;return new be("pixel",e,{offset:t.add(e._size.divide(2)).round(),color:{get:function(){return e.getPixel(this.offset)}}})}},_draw:function(t,e,i){var r=this.getElement();if(r&&r.width>0&&r.height>0){t.globalAlpha=Y.clamp(this._opacity,0,1),this._setStyles(t,e,i);var s=this._smoothing,a=s==="off";bt.setPrefixed(t,a?"imageSmoothingEnabled":"imageSmoothingQuality",a?!1:s),t.drawImage(r,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Ue=D.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(e,i){this._initialize(e,i!==y&&R.read(arguments,1))||this.setDefinition(e instanceof _e?e:new _e(e))},_equals:function(t){return this._definition===t._definition},copyContent:function(t){this.setDefinition(t._definition)},getDefinition:function(){return this._definition},setDefinition:function(t){this._definition=t,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(t,e){var i=this._definition._item;return i._getCachedBounds(i._matrix.prepended(t),e)},_hitTestSelf:function(t,e,i){var r=e.extend({all:!1}),s=this._definition._item._hitTest(t,r,i);return s&&(s.item=this),s},_draw:function(t,e){this._definition._item.draw(t,e)}}),_e=b.extend({_class:"SymbolDefinition",initialize:function(e,i){this._id=lt.get(),this.project=n.project,e&&this.setItem(e,i)},_serialize:function(t,e){return e.add(this,function(){return b.serialize([this._class,this._item],t,!1,e)})},_changed:function(t){t&8&&D._clearBoundsCache(this),t&1&&this.project._changed(t)},getItem:function(){return this._item},setItem:function(t,e){t._symbol&&(t=t.clone()),this._item&&(this._item._symbol=null),this._item=t,t.remove(),t.setSelected(!1),e||t.setPosition(new R),t._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(t){return new Ue(this,t)},clone:function(){return new _e(this._item.clone(!1))},equals:function(t){return t===this||t&&this._item.equals(t._item)||!1}}),be=b.extend({_class:"HitResult",initialize:function(e,i,r){this.type=e,this.item=i,r&&this.inject(r)},statics:{getOptions:function(t){var e=t&&b.read(t);return new b({type:null,tolerance:n.settings.hitTolerance,fill:!e,stroke:!e,segments:!e,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},e)}}}),It=b.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(e,i,r,s,a,l){var h=arguments.length,f,d,_,g;h>0&&(e==null||typeof e=="object"?h===1&&e&&"point"in e?(f=e.point,d=e.handleIn,_=e.handleOut,g=e.selection):(f=e,d=i,_=r,g=s):(f=[e,i],d=r!==y?[r,s]:null,_=a!==y?[a,l]:null)),new ti(f,this,"_point"),new ti(d,this,"_handleIn"),new ti(_,this,"_handleOut"),g&&this.setSelection(g)},_serialize:function(t,e){var i=this._point,r=this._selection,s=r||this.hasHandles()?[i,this._handleIn,this._handleOut]:i;return r&&s.push(r),b.serialize(s,t,!0,e)},_changed:function(t){var e=this._path;if(e){var i=e._curves,r=this._index,s;i&&((!t||t===this._point||t===this._handleIn)&&(s=r>0?i[r-1]:e._closed?i[i.length-1]:null)&&s._changed(),(!t||t===this._point||t===this._handleOut)&&(s=i[r])&&s._changed()),e._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(R.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(R.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(R.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var t=this._handleIn,e=this._handleOut;return!t.isZero()&&!e.isZero()&&t.isCollinear(e)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(t){var e=this._selection,i=this._path;this._selection=t=t||0,i&&t!==e&&(i._updateSelection(this,e,t),i._changed(257))},_changeSelection:function(t,e){var i=this._selection;this.setSelection(e?i|t:i&~t)},isSelected:function(){return!!(this._selection&7)},setSelected:function(t){this._changeSelection(7,t)},getIndex:function(){return this._index!==y?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var t=this._path,e=this._index;return t?(e>0&&!t._closed&&e===t._segments.length-1&&e--,t.getCurves()[e]||null):null},getLocation:function(){var t=this.getCurve();return t?new te(t,this===t._segment1?0:1):null},getNext:function(){var t=this._path&&this._path._segments;return t&&(t[this._index+1]||this._path._closed&&t[0])||null},smooth:function(t,e,i){var r=t||{},s=r.type,a=r.factor,l=this.getPrevious(),h=this.getNext(),f=(l||this)._point,d=this._point,_=(h||this)._point,g=f.getDistance(d),p=d.getDistance(_);if(!s||s==="catmull-rom"){var w=a===y?.5:a,E=Math.pow(g,w),I=E*E,P=Math.pow(p,w),x=P*P;if(!e&&l){var v=2*x+3*P*E+I,m=3*P*(P+E);this.setHandleIn(m!==0?new R((x*f._x+v*d._x-I*_._x)/m-d._x,(x*f._y+v*d._y-I*_._y)/m-d._y):new R)}if(!i&&h){var v=2*I+3*E*P+x,m=3*E*(E+P);this.setHandleOut(m!==0?new R((I*_._x+v*d._x-x*f._x)/m-d._x,(I*_._y+v*d._y-x*f._y)/m-d._y):new R)}}else if(s==="geometric"){if(l&&h){var S=f.subtract(_),k=a===y?.4:a,O=k*g/(g+p);e||this.setHandleIn(S.multiply(O)),i||this.setHandleOut(S.multiply(O-k))}}else throw new Error("Smoothing method '"+s+"' not supported.")},getPrevious:function(){var t=this._path&&this._path._segments;return t&&(t[this._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var t=this._path;return t&&this._index===t._segments.length-1||!1},reverse:function(){var t=this._handleIn,e=this._handleOut,i=t.clone();t.set(e),e.set(i)},reversed:function(){return new It(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new It(this._point,this._handleIn,this._handleOut)},equals:function(t){return t===this||t&&this._class===t._class&&this._point.equals(t._point)&&this._handleIn.equals(t._handleIn)&&this._handleOut.equals(t._handleOut)||!1},toString:function(){var t=["point: "+this._point];return this._handleIn.isZero()||t.push("handleIn: "+this._handleIn),this._handleOut.isZero()||t.push("handleOut: "+this._handleOut),"{ "+t.join(", ")+" }"},transform:function(t){this._transformCoordinates(t,new Array(6),!0),this._changed()},interpolate:function(t,e,i){var r=1-i,s=i,a=t._point,l=e._point,h=t._handleIn,f=e._handleIn,d=e._handleOut,_=t._handleOut;this._point._set(r*a._x+s*l._x,r*a._y+s*l._y,!0),this._handleIn._set(r*h._x+s*f._x,r*h._y+s*f._y,!0),this._handleOut._set(r*_._x+s*d._x,r*_._y+s*d._y,!0),this._changed()},_transformCoordinates:function(t,e,i){var r=this._point,s=!i||!this._handleIn.isZero()?this._handleIn:null,a=!i||!this._handleOut.isZero()?this._handleOut:null,l=r._x,h=r._y,f=2;return e[0]=l,e[1]=h,s&&(e[f++]=s._x+l,e[f++]=s._y+h),a&&(e[f++]=a._x+l,e[f++]=a._y+h),t&&(t._transformCoordinates(e,e,f/2),l=e[0],h=e[1],i?(r._x=l,r._y=h,f=2,s&&(s._x=e[f++]-l,s._y=e[f++]-h),a&&(a._x=e[f++]-l,a._y=e[f++]-h)):(s||(e[f++]=l,e[f++]=h),a||(e[f++]=l,e[f++]=h))),e}}),ti=R.extend({initialize:function(e,i,r){var s,a,l;if(!e)s=a=0;else if((s=e[0])!==y)a=e[1];else{var h=e;(s=h.x)===y&&(h=R.read(arguments),s=h.x),a=h.y,l=h.selected}this._x=s,this._y=a,this._owner=i,i[r]=this,l&&this.setSelected(!0)},_set:function(t,e){return this._x=t,this._y=e,this._owner._changed(this),this},getX:function(){return this._x},setX:function(t){this._x=t,this._owner._changed(this)},getY:function(){return this._y},setY:function(t){this._y=t,this._owner._changed(this)},isZero:function(){var t=Y.isZero;return t(this._x)&&t(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(t){this._owner._changeSelection(this._getSelection(),t)},_getSelection:function(){var t=this._owner;return this===t._point?1:this===t._handleIn?2:this===t._handleOut?4:0}}),at=b.extend({_class:"Curve",beans:!0,initialize:function(e,i,r,s,a,l,h,f){var d=arguments.length,_,g,p,w,E,I;d===3?(this._path=e,_=i,g=r):d?d===1?"segment1"in e?(_=new It(e.segment1),g=new It(e.segment2)):"point1"in e?(p=e.point1,E=e.handle1,I=e.handle2,w=e.point2):Array.isArray(e)&&(p=[e[0],e[1]],w=[e[6],e[7]],E=[e[2]-e[0],e[3]-e[1]],I=[e[4]-e[6],e[5]-e[7]]):d===2?(_=new It(e),g=new It(i)):d===4?(p=e,E=i,I=r,w=s):d===8&&(p=[e,i],w=[h,f],E=[r-e,s-i],I=[a-h,l-f]):(_=new It,g=new It),this._segment1=_||new It(p,null,E),this._segment2=g||new It(w,I,null)},_serialize:function(t,e){return b.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],t,!0,e)},_changed:function(){this._length=this._bounds=y},clone:function(){return new at(this._segment1,this._segment2)},toString:function(){var t=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||t.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||t.push("handle2: "+this._segment2._handleIn),t.push("point2: "+this._segment2._point),"{ "+t.join(", ")+" }"},classify:function(){return at.classify(this.getValues())},remove:function(){var t=!1;if(this._path){var e=this._segment2,i=e._handleOut;t=e.remove(),t&&this._segment1._handleOut.set(i)}return t},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(R.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(R.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(R.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(R.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index+1]||this._path._closed&&t[0])||null},getPrevious:function(){var t=this._path&&this._path._curves;return t&&(t[this._segment1._index-1]||this._path._closed&&t[t.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var t=this._path;return t&&this._segment1._index===t._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(t){this.getPoint1().setSelected(t),this.getHandle1().setSelected(t),this.getHandle2().setSelected(t),this.getPoint2().setSelected(t)},getValues:function(t){return at.getValues(this._segment1,this._segment2,t)},getPoints:function(){for(var t=this.getValues(),e=[],i=0;i<8;i+=2)e.push(new R(t[i],t[i+1]));return e}},{getLength:function(){return this._length==null&&(this._length=at.getLength(this.getValues(),0,1)),this._length},getArea:function(){return at.getArea(this.getValues())},getLine:function(){return new Rt(this._segment1._point,this._segment2._point)},getPart:function(t,e){return new at(at.getPart(this.getValues(),t,e))},getPartLength:function(t,e){return at.getLength(this.getValues(),t,e)},divideAt:function(t){return this.divideAtTime(t&&t.curve===this?t.time:this.getTimeAt(t))},divideAtTime:function(t,e){var i=1e-8,r=1-i,s=null;if(t>=i&&t<=r){var a=at.subdivide(this.getValues(),t),l=a[0],h=a[1],f=e||this.hasHandles(),d=this._segment1,_=this._segment2,g=this._path;f&&(d._handleOut._set(l[2]-l[0],l[3]-l[1]),_._handleIn._set(h[4]-h[6],h[5]-h[7]));var p=l[6],w=l[7],E=new It(new R(p,w),f&&new R(l[4]-p,l[5]-w),f&&new R(h[2]-p,h[3]-w));g?(g.insert(d._index+1,E),s=this.getNext()):(this._segment2=E,this._changed(),s=new at(E,_))}return s},splitAt:function(t){var e=this._path;return e?e.splitAt(t):null},splitAtTime:function(t){return this.splitAt(this.getLocationAtTime(t))},divide:function(t,e){return this.divideAtTime(t===y?.5:e?t:this.getTimeAt(t))},split:function(t,e){return this.splitAtTime(t===y?.5:e?t:this.getTimeAt(t))},reversed:function(){return new at(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(t,e,i,r){var s=t._point,a=t._handleOut,l=e._handleIn,h=e._point,f=s.x,d=s.y,_=h.x,g=h.y,p=r?[f,d,f,d,_,g,_,g]:[f,d,f+a._x,d+a._y,_+l._x,g+l._y,_,g];return i&&i._transformCoordinates(p,p,4),p},subdivide:function(t,e){var i=t[0],r=t[1],s=t[2],a=t[3],l=t[4],h=t[5],f=t[6],d=t[7];e===y&&(e=.5);var _=1-e,g=_*i+e*s,p=_*r+e*a,w=_*s+e*l,E=_*a+e*h,I=_*l+e*f,P=_*h+e*d,x=_*g+e*w,v=_*p+e*E,m=_*w+e*I,S=_*E+e*P,k=_*x+e*m,O=_*v+e*S;return[[i,r,g,p,x,v,k,O],[k,O,m,S,I,P,f,d]]},getMonoCurves:function(t,e){var i=[],r=e?0:1,s=t[r+0],a=t[r+2],l=t[r+4],h=t[r+6];if(s>=a==a>=l&&a>=l==l>=h||at.isStraight(t))i.push(t);else{var f=3*(a-l)-s+h,d=2*(s+l)-4*a,_=a-s,g=1e-8,p=1-g,w=[],E=Y.solveQuadratic(f,d,_,w,g,p);if(!E)i.push(t);else{w.sort();var I=w[0],P=at.subdivide(t,I);i.push(P[0]),E>1&&(I=(w[1]-I)/(1-I),P=at.subdivide(P[1],I),i.push(P[0])),i.push(P[1])}}return i},solveCubic:function(t,e,i,r,s,a){var l=t[e],h=t[e+2],f=t[e+4],d=t[e+6],_=0;if(!(l<i&&d<i&&h<i&&f<i||l>i&&d>i&&h>i&&f>i)){var g=3*(h-l),p=3*(f-h)-g,w=d-l-g-p;_=Y.solveCubic(w,p,g,l-i,r,s,a)}return _},getTimeOf:function(t,e){var i=new R(t[0],t[1]),r=new R(t[6],t[7]),s=1e-12,a=1e-7,l=e.isClose(i,s)?0:e.isClose(r,s)?1:null;if(l===null)for(var h=[e.x,e.y],f=[],d=0;d<2;d++)for(var _=at.solveCubic(t,d,h[d],f,0,1),g=0;g<_;g++){var p=f[g];if(e.isClose(at.getPoint(t,p),a))return p}return e.isClose(i,a)?0:e.isClose(r,a)?1:null},getNearestTime:function(t,e){if(at.isStraight(t)){var i=t[0],r=t[1],s=t[6],a=t[7],l=s-i,h=a-r,f=l*l+h*h;if(f===0)return 0;var d=((e.x-i)*l+(e.y-r)*h)/f;return d<1e-12?0:d>.999999999999?1:at.getTimeOf(t,new R(i+d*l,r+d*h))}var _=100,g=1/0,p=0;function w(P){if(P>=0&&P<=1){var x=e.getDistance(at.getPoint(t,P),!0);if(x<g)return g=x,p=P,!0}}for(var E=0;E<=_;E++)w(E/_);for(var I=1/(_*2);I>1e-8;)!w(p-I)&&!w(p+I)&&(I/=2);return p},getPart:function(t,e,i){var r=e>i;if(r){var s=e;e=i,i=s}return e>0&&(t=at.subdivide(t,e)[1]),i<1&&(t=at.subdivide(t,(i-e)/(1-e))[0]),r?[t[6],t[7],t[4],t[5],t[2],t[3],t[0],t[1]]:t},isFlatEnough:function(t,e){var i=t[0],r=t[1],s=t[2],a=t[3],l=t[4],h=t[5],f=t[6],d=t[7],_=3*s-2*i-f,g=3*a-2*r-d,p=3*l-2*f-i,w=3*h-2*d-r;return Math.max(_*_,p*p)+Math.max(g*g,w*w)<=16*e*e},getArea:function(t){var e=t[0],i=t[1],r=t[2],s=t[3],a=t[4],l=t[5],h=t[6],f=t[7];return 3*((f-i)*(r+a)-(h-e)*(s+l)+s*(e-a)-r*(i-l)+f*(a+e/3)-h*(l+i/3))/20},getBounds:function(t){for(var e=t.slice(0,2),i=e.slice(),r=[0,0],s=0;s<2;s++)at._addBounds(t[s],t[s+2],t[s+4],t[s+6],s,0,e,i,r);return new ct(e[0],e[1],i[0]-e[0],i[1]-e[1])},_addBounds:function(t,e,i,r,s,a,l,h,f){function d(k,O){var A=k-O,M=k+O;A<l[s]&&(l[s]=A),M>h[s]&&(h[s]=M)}a/=2;var _=l[s]+a,g=h[s]-a;if(t<_||e<_||i<_||r<_||t>g||e>g||i>g||r>g)if(e<t!=e<r&&i<t!=i<r)d(t,0),d(r,0);else{var p=3*(e-i)-t+r,w=2*(t+i)-4*e,E=e-t,I=Y.solveQuadratic(p,w,E,f),P=1e-8,x=1-P;d(r,0);for(var v=0;v<I;v++){var m=f[v],S=1-m;P<=m&&m<=x&&d(S*S*S*t+3*S*S*m*e+3*S*m*m*i+m*m*m*r,a)}}}}},b.each(["getBounds","getStrokeBounds","getHandleBounds"],function(t){this[t]=function(){this._bounds||(this._bounds={});var e=this._bounds[t];return e||(e=this._bounds[t]=qt[t]([this._segment1,this._segment2],!1,this._path)),e.clone()}},{}),b.each({isStraight:function(t,e,i,r){if(e.isZero()&&i.isZero())return!0;var s=r.subtract(t);if(s.isZero())return!1;if(s.isCollinear(e)&&s.isCollinear(i)){var a=new Rt(t,r),l=1e-7;if(a.getDistance(t.add(e))<l&&a.getDistance(r.add(i))<l){var h=s.dot(s),f=s.dot(e)/h,d=s.dot(i)/h;return f>=0&&f<=1&&d<=0&&d>=-1}}return!1},isLinear:function(t,e,i,r){var s=r.subtract(t).divide(3);return e.equals(s)&&i.negate().equals(s)}},function(t,e){this[e]=function(i){var r=this._segment1,s=this._segment2;return t(r._point,r._handleOut,s._handleIn,s._point,i)},this.statics[e]=function(i,r){var s=i[0],a=i[1],l=i[6],h=i[7];return t(new R(s,a),new R(i[2]-s,i[3]-a),new R(i[4]-l,i[5]-h),new R(l,h),r)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(t){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(t||0)},isCollinear:function(t){return t&&this.isStraight()&&t.isStraight()&&this.getLine().isCollinear(t.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(t,e){return this.getLocationAtTime(e?t:this.getTimeAt(t))},getLocationAtTime:function(t){return t!=null&&t>=0&&t<=1?new te(this,t):null},getTimeAt:function(t,e){return at.getTimeAt(this.getValues(),t,e)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var t=R.read(arguments);return t.isZero()?[]:at.getTimesWithTangent(this.getValues(),t)},getOffsetAtTime:function(t){return this.getPartLength(0,t)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(R.read(arguments)))},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getTimeOf:function(){return at.getTimeOf(this.getValues(),R.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var t=R.read(arguments),e=this.getValues(),i=at.getNearestTime(e,t),r=at.getPoint(e,i);return new te(this,i,r,null,t.getDistance(r))},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()}},new function(){var t=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return b.each(t,function(e){this[e+"At"]=function(i,r){var s=this.getValues();return at[e](s,r?i:at.getTimeAt(s,i))},this[e+"AtTime"]=function(i){return at[e](this.getValues(),i)}},{statics:{_evaluateMethods:t}})},new function(){function t(r){var s=r[0],a=r[1],l=r[2],h=r[3],f=r[4],d=r[5],_=r[6],g=r[7],p=9*(l-f)+3*(_-s),w=6*(s+f)-12*l,E=3*(l-s),I=9*(h-d)+3*(g-a),P=6*(a+d)-12*h,x=3*(h-a);return function(v){var m=(p*v+w)*v+E,S=(I*v+P)*v+x;return Math.sqrt(m*m+S*S)}}function e(r,s){return Math.max(2,Math.min(16,Math.ceil(Math.abs(s-r)*32)))}function i(r,s,a,l){if(s==null||s<0||s>1)return null;var h=r[0],f=r[1],d=r[2],_=r[3],g=r[4],p=r[5],w=r[6],E=r[7],I=Y.isZero;I(d-h)&&I(_-f)&&(d=h,_=f),I(g-w)&&I(p-E)&&(g=w,p=E);var P=3*(d-h),x=3*(g-d)-P,v=w-h-P-x,m=3*(_-f),S=3*(p-_)-m,k=E-f-m-S,O,A;if(a===0)O=s===0?h:s===1?w:((v*s+x)*s+P)*s+h,A=s===0?f:s===1?E:((k*s+S)*s+m)*s+f;else{var M=1e-8,N=1-M;if(s<M?(O=P,A=m):s>N?(O=3*(w-g),A=3*(E-p)):(O=(3*v*s+2*x)*s+P,A=(3*k*s+2*S)*s+m),l){O===0&&A===0&&(s<M||s>N)&&(O=g-d,A=p-_);var B=Math.sqrt(O*O+A*A);B&&(O/=B,A/=B)}if(a===3){var g=6*v*s+2*x,p=6*k*s+2*S,V=Math.pow(O*O+A*A,3/2);O=V!==0?(O*p-A*g)/V:0,A=0}}return a===2?new R(A,-O):new R(O,A)}return{statics:{classify:function(r){var s=r[0],a=r[1],l=r[2],h=r[3],f=r[4],d=r[5],_=r[6],g=r[7],p=s*(g-d)+a*(f-_)+_*d-g*f,w=l*(a-g)+h*(_-s)+s*g-a*_,E=f*(h-a)+d*(s-l)+l*a-h*s,I=3*E,P=I-w,x=P-w+p,v=Math.sqrt(x*x+P*P+I*I),m=v!==0?1/v:0,S=Y.isZero,k="serpentine";x*=m,P*=m,I*=m;function O(B,V,z){var q=V!==y,U=q&&V>0&&V<1,j=q&&z>0&&z<1;return q&&(!(U||j)||B==="loop"&&!(U&&j))&&(B="arch",U=j=!1),{type:B,roots:U||j?U&&j?V<z?[V,z]:[z,V]:[U?V:z]:null}}if(S(x))return S(P)?O(S(I)?"line":"quadratic"):O(k,I/(3*P));var A=3*P*P-4*x*I;if(S(A))return O("cusp",P/(2*x));var M=A>0?Math.sqrt(A/3):Math.sqrt(-A),N=2*x;return O(A>0?k:"loop",(P+M)/N,(P-M)/N)},getLength:function(r,s,a,l){if(s===y&&(s=0),a===y&&(a=1),at.isStraight(r)){var h=r;a<1&&(h=at.subdivide(h,a)[0],s/=a),s>0&&(h=at.subdivide(h,s)[1]);var f=h[6]-h[0],d=h[7]-h[1];return Math.sqrt(f*f+d*d)}return Y.integrate(l||t(r),s,a,e(s,a))},getTimeAt:function(r,s,a){if(a===y&&(a=s<0?1:0),s===0)return a;var l=Math.abs,h=1e-12,f=s>0,d=f?a:0,_=f?1:a,g=t(r),p=at.getLength(r,d,_,g),w=l(s)-p;if(l(w)<h)return f?_:d;if(w>h)return null;var E=s/p,I=0;function P(x){return I+=Y.integrate(g,a,x,e(a,x)),a=x,I-s}return Y.findRoot(P,g,a+E,d,_,32,1e-12)},getPoint:function(r,s){return i(r,s,0,!1)},getTangent:function(r,s){return i(r,s,1,!0)},getWeightedTangent:function(r,s){return i(r,s,1,!1)},getNormal:function(r,s){return i(r,s,2,!0)},getWeightedNormal:function(r,s){return i(r,s,2,!1)},getCurvature:function(r,s){return i(r,s,3,!1).x},getPeaks:function(r){var s=r[0],a=r[1],l=r[2],h=r[3],f=r[4],d=r[5],_=r[6],g=r[7],p=-s+3*l-3*f+_,w=3*s-6*l+3*f,E=-3*s+3*l,I=-a+3*h-3*d+g,P=3*a-6*h+3*d,x=-3*a+3*h,v=1e-8,m=1-v,S=[];return Y.solveCubic(9*(p*p+I*I),9*(p*w+P*I),2*(w*w+P*P)+3*(E*p+x*I),E*w+P*x,S,v,m),S.sort()}}}},new function(){function t(w,E,I,P,x,v,m){var S=!m&&I.getPrevious()===x,k=!m&&I!==x&&I.getNext()===x,O=1e-8,A=1-O;if(P!==null&&P>=(S?O:0)&&P<=(k?A:1)&&v!==null&&v>=(k?O:0)&&v<=(S?A:1)){var M=new te(I,P,null,m),N=new te(x,v,null,m);M._intersection=N,N._intersection=M,(!E||E(M))&&te.insert(w,M,!0)}}function e(w,E,I,P,x,v,m,S,k,O,A,M,N){if(++k>=4096||++S>=40)return k;var B=1e-9,V=E[0],z=E[1],q=E[6],U=E[7],j=Rt.getSignedDistance,G=j(V,z,q,U,E[2],E[3]),$=j(V,z,q,U,E[4],E[5]),nt=G*$>0?3/4:4/9,ht=nt*Math.min(0,G,$),_t=nt*Math.max(0,G,$),vt=j(V,z,q,U,w[0],w[1]),st=j(V,z,q,U,w[2],w[3]),ut=j(V,z,q,U,w[4],w[5]),mt=j(V,z,q,U,w[6],w[7]),wt=i(vt,st,ut,mt),Tt=wt[0],zt=wt[1],Bt,Ht;if(G===0&&$===0&&vt===0&&st===0&&ut===0&&mt===0||(Bt=r(Tt,zt,ht,_t))==null||(Ht=r(Tt.reverse(),zt.reverse(),ht,_t))==null)return k;var Ut=O+(A-O)*Bt,Jt=O+(A-O)*Ht;if(Math.max(N-M,Jt-Ut)<B){var ge=(Ut+Jt)/2,ve=(M+N)/2;t(x,v,m?P:I,m?ve:ge,m?I:P,m?ge:ve)}else{w=at.getPart(w,Bt,Ht);var Nt=N-M;if(Ht-Bt>.8)if(Jt-Ut>Nt){var ee=at.subdivide(w,.5),ge=(Ut+Jt)/2;k=e(E,ee[0],P,I,x,v,!m,S,k,M,N,Ut,ge),k=e(E,ee[1],P,I,x,v,!m,S,k,M,N,ge,Jt)}else{var ee=at.subdivide(E,.5),ve=(M+N)/2;k=e(ee[0],w,P,I,x,v,!m,S,k,M,ve,Ut,Jt),k=e(ee[1],w,P,I,x,v,!m,S,k,ve,N,Ut,Jt)}else Nt===0||Nt>=B?k=e(E,w,P,I,x,v,!m,S,k,M,N,Ut,Jt):k=e(w,E,I,P,x,v,m,S,k,Ut,Jt,M,N)}return k}function i(w,E,I,P){var x=[0,w],v=[1/3,E],m=[2/3,I],S=[1,P],k=E-(2*w+P)/3,O=I-(w+2*P)/3,A;if(k*O<0)A=[[x,v,S],[x,m,S]];else{var M=k/O;A=[M>=2?[x,v,S]:M<=.5?[x,m,S]:[x,v,m,S],[x,S]]}return(k||O)<0?A.reverse():A}function r(w,E,I,P){return w[0][1]<I?s(w,!0,I):E[0][1]>P?s(E,!1,P):w[0][0]}function s(w,E,I){for(var P=w[0][0],x=w[0][1],v=1,m=w.length;v<m;v++){var S=w[v][0],k=w[v][1];if(E?k>=I:k<=I)return k===I?S:P+(I-x)*(S-P)/(k-x);P=S,x=k}return null}function a(w,E,I,P,x){var v=Y.isZero;if(v(P)&&v(x)){var m=at.getTimeOf(w,new R(E,I));return m===null?[]:[m]}for(var S=Math.atan2(-x,P),k=Math.sin(S),O=Math.cos(S),A=[],M=[],N=0;N<8;N+=2){var B=w[N]-E,V=w[N+1]-I;A.push(B*O-V*k,B*k+V*O)}return at.solveCubic(A,1,0,M,0,1),M}function l(w,E,I,P,x,v,m){for(var S=E[0],k=E[1],O=E[6],A=E[7],M=a(w,S,k,O-S,A-k),N=0,B=M.length;N<B;N++){var V=M[N],z=at.getPoint(w,V),q=at.getTimeOf(E,z);q!==null&&t(x,v,m?P:I,m?q:V,m?I:P,m?V:q)}}function h(w,E,I,P,x,v){var m=Rt.intersect(w[0],w[1],w[6],w[7],E[0],E[1],E[6],E[7]);m&&t(x,v,I,at.getTimeOf(w,m),P,at.getTimeOf(E,m))}function f(w,E,I,P,x,v){var m=1e-12,S=Math.min,k=Math.max;if(k(w[0],w[2],w[4],w[6])+m>S(E[0],E[2],E[4],E[6])&&S(w[0],w[2],w[4],w[6])-m<k(E[0],E[2],E[4],E[6])&&k(w[1],w[3],w[5],w[7])+m>S(E[1],E[3],E[5],E[7])&&S(w[1],w[3],w[5],w[7])-m<k(E[1],E[3],E[5],E[7])){var O=g(w,E);if(O)for(var A=0;A<2;A++){var M=O[A];t(x,v,I,M[0],P,M[1],!0)}else{var N=at.isStraight(w),B=at.isStraight(E),V=N&&B,z=N&&!B,q=x.length;if((V?h:N||B?l:e)(z?E:w,z?w:E,z?P:I,z?I:P,x,v,z,0,0,0,1,0,1),!V||x.length===q)for(var A=0;A<4;A++){var U=A>>1,j=A&1,G=U*6,$=j*6,nt=new R(w[G],w[G+1]),ht=new R(E[$],E[$+1]);nt.isClose(ht,m)&&t(x,v,I,U,P,j)}}}return x}function d(w,E,I,P){var x=at.classify(w);if(x.type==="loop"){var v=x.roots;t(I,P,E,v[0],E,v[1])}return I}function _(w,E,I,P,x,v){var m=1e-7,S=!E;S&&(E=w);for(var k=w.length,O=E.length,A=new Array(k),M=S?A:new Array(O),N=[],B=0;B<k;B++)A[B]=w[B].getValues(P);if(!S)for(var B=0;B<O;B++)M[B]=E[B].getValues(x);for(var V=rt.findCurveBoundsCollisions(A,M,m),z=0;z<k;z++){var q=w[z],U=A[z];S&&d(U,q,N,I);var j=V[z];if(j)for(var G=0;G<j.length;G++){if(v&&N.length)return N;var $=j[G];if(!S||$>z){var nt=E[$],ht=M[$];f(U,ht,q,nt,N,I)}}}return N}function g(w,E){function I(mt){var wt=mt[6]-mt[0],Tt=mt[7]-mt[1];return wt*wt+Tt*Tt}var P=Math.abs,x=Rt.getDistance,v=1e-8,m=1e-7,S=at.isStraight(w),k=at.isStraight(E),O=S&&k,A=I(w)<I(E),M=A?E:w,N=A?w:E,B=M[0],V=M[1],z=M[6]-B,q=M[7]-V;if(x(B,V,z,q,N[0],N[1],!0)<m&&x(B,V,z,q,N[6],N[7],!0)<m)!O&&x(B,V,z,q,M[2],M[3],!0)<m&&x(B,V,z,q,M[4],M[5],!0)<m&&x(B,V,z,q,N[2],N[3],!0)<m&&x(B,V,z,q,N[4],N[5],!0)<m&&(S=k=O=!0);else if(O)return null;if(S^k)return null;for(var U=[w,E],j=[],G=0;G<4&&j.length<2;G++){var $=G&1,nt=$^1,ht=G>>1,_t=at.getTimeOf(U[$],new R(U[nt][ht?6:0],U[nt][ht?7:1]));if(_t!=null){var vt=$?[ht,_t]:[_t,ht];(!j.length||P(vt[0]-j[0][0])>v&&P(vt[1]-j[0][1])>v)&&j.push(vt)}if(G>2&&!j.length)break}if(j.length!==2)j=null;else if(!O){var st=at.getPart(w,j[0][0],j[1][0]),ut=at.getPart(E,j[0][1],j[1][1]);(P(ut[2]-st[2])>m||P(ut[3]-st[3])>m||P(ut[4]-st[4])>m||P(ut[5]-st[5])>m)&&(j=null)}return j}function p(w,E){var I=w[0],P=w[1],x=w[2],v=w[3],m=w[4],S=w[5],k=w[6],O=w[7],A=E.normalize(),M=A.x,N=A.y,B=3*k-9*m+9*x-3*I,V=3*O-9*S+9*v-3*P,z=6*m-12*x+6*I,q=6*S-12*v+6*P,U=3*x-3*I,j=3*v-3*P,G=2*B*N-2*V*M,$=[];if(Math.abs(G)<Y.CURVETIME_EPSILON){var nt=B*j-V*U,G=B*q-V*z;if(G!=0){var ht=-nt/G;ht>=0&&ht<=1&&$.push(ht)}}else{var _t=(z*z-4*B*U)*N*N+(-2*z*q+4*V*U+4*B*j)*M*N+(q*q-4*V*j)*M*M,vt=z*N-q*M;if(_t>=0&&G!=0){var st=Math.sqrt(_t),ut=-(vt+st)/G,mt=(-vt+st)/G;ut>=0&&ut<=1&&$.push(ut),mt>=0&&mt<=1&&$.push(mt)}}return $}return{getIntersections:function(w){var E=this.getValues(),I=w&&w!==this&&w.getValues();return I?f(E,I,this,w,[]):d(E,this,[])},statics:{getOverlaps:g,getIntersections:_,getCurveLineIntersections:a,getTimesWithTangent:p}}}),te=b.extend({_class:"CurveLocation",initialize:function(e,i,r,s,a){if(i>=.99999999){var l=e.getNext();l&&(i=0,e=l)}this._setCurve(e),this._time=i,this._point=r||e.getPointAtTime(i),this._overlap=s,this._distance=a,this._intersection=this._next=this._previous=null},_setPath:function(t){this._path=t,this._version=t?t._version:0},_setCurve:function(t){this._setPath(t._path),this._curve=t,this._segment=null,this._segment1=t._segment1,this._segment2=t._segment2},_setSegment:function(t){var e=t.getCurve();e?this._setCurve(e):(this._setPath(t._path),this._segment1=t,this._segment2=null),this._segment=t,this._time=t===this._segment1?0:1,this._point=t._point.clone()},getSegment:function(){var t=this._segment;if(!t){var e=this.getCurve(),i=this.getTime();i===0?t=e._segment1:i===1?t=e._segment2:i!=null&&(t=e.getPartLength(0,i)<e.getPartLength(i,1)?e._segment1:e._segment2),this._segment=t}return t},getCurve:function(){var t=this._path,e=this;t&&t._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function i(r){var s=r&&r.getCurve();if(s&&(e._time=s.getTimeOf(e._point))!=null)return e._setCurve(s),s}return this._curve||i(this._segment)||i(this._segment1)||i(this._segment2.getPrevious())},getPath:function(){var t=this.getCurve();return t&&t._path},getIndex:function(){var t=this.getCurve();return t&&t.getIndex()},getTime:function(){var t=this.getCurve(),e=this._time;return t&&e==null?this._time=t.getTimeOf(this._point):e},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var t=this._offset;if(t==null){t=0;var e=this.getPath(),i=this.getIndex();if(e&&i!=null)for(var r=e.getCurves(),s=0;s<i;s++)t+=r[s].getLength();this._offset=t+=this.getCurveOffset()}return t},getCurveOffset:function(){var t=this._curveOffset;if(t==null){var e=this.getCurve(),i=this.getTime();this._curveOffset=t=i!=null&&e&&e.getPartLength(0,i)}return t},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var t=this.getCurve(),e=t&&t.divideAtTime(this.getTime());return e&&this._setSegment(e._segment1),e},split:function(){var t=this.getCurve(),e=t._path,i=t&&t.splitAtTime(this.getTime());return i&&this._setSegment(e.getLastSegment()),i},equals:function(t,e){var i=this===t;if(!i&&t instanceof te){var r=this.getCurve(),s=t.getCurve(),a=r._path,l=s._path;if(a===l){var h=Math.abs,f=1e-7,d=h(this.getOffset()-t.getOffset()),_=!e&&this._intersection,g=!e&&t._intersection;i=(d<f||a&&h(a.getLength()-d)<f)&&(!_&&!g||_&&g&&_.equals(g,!0))}}return i},toString:function(){var t=[],e=this.getPoint(),i=Q.instance;e&&t.push("point: "+e);var r=this.getIndex();r!=null&&t.push("index: "+r);var s=this.getTime();return s!=null&&t.push("time: "+i.number(s)),this._distance!=null&&t.push("distance: "+i.number(this._distance)),"{ "+t.join(", ")+" }"},isTouching:function(){var t=this._intersection;if(t&&this.getTangent().isCollinear(t.getTangent())){var e=this.getCurve(),i=t.getCurve();return!(e.isStraight()&&i.isStraight()&&e.getLine().intersect(i.getLine()))}return!1},isCrossing:function(){var t=this._intersection;if(!t)return!1;var e=this.getTime(),i=t.getTime(),r=1e-8,s=1-r,a=e>=r&&e<=s,l=i>=r&&i<=s;if(a&&l)return!this.isTouching();var h=this.getCurve(),f=h&&e<r?h.getPrevious():h,d=t.getCurve(),_=d&&i<r?d.getPrevious():d;if(e>s&&(h=h.getNext()),i>s&&(d=d.getNext()),!f||!h||!_||!d)return!1;var g=[];function p(M,N){var B=M.getValues(),V=at.classify(B).roots||at.getPeaks(B),z=V.length,q=at.getLength(B,N&&z?V[z-1]:0,!N&&z?V[0]:1);g.push(z?q:q/32)}function w(M,N,B){return N<B?M>N&&M<B:M>N||M<B}a||(p(f,!0),p(h,!1)),l||(p(_,!0),p(d,!1));var E=this.getPoint(),I=Math.min.apply(Math,g),P=a?h.getTangentAtTime(e):h.getPointAt(I).subtract(E),x=a?P.negate():f.getPointAt(-I).subtract(E),v=l?d.getTangentAtTime(i):d.getPointAt(I).subtract(E),m=l?v.negate():_.getPointAt(-I).subtract(E),S=x.getAngle(),k=P.getAngle(),O=m.getAngle(),A=v.getAngle();return!!(a?w(S,O,A)^w(k,O,A)&&w(S,A,O)^w(k,A,O):w(O,S,k)^w(A,S,k)&&w(O,k,S)^w(A,k,S))},hasOverlap:function(){return!!this._overlap}},b.each(at._evaluateMethods,function(t){var e=t+"At";this[t]=function(){var i=this.getCurve(),r=this.getTime();return r!=null&&i&&i[e](r,!0)}},{preserve:!0}),new function(){function t(e,i,r){var s=e.length,a=0,l=s-1;function h(E,I){for(var P=E+I;P>=-1&&P<=s;P+=I){var x=e[(P%s+s)%s];if(!i.getPoint().isClose(x.getPoint(),1e-7))break;if(i.equals(x))return x}return null}for(;a<=l;){var f=a+l>>>1,d=e[f],_;if(r&&(_=i.equals(d)?d:h(f,-1)||h(f,1)))return i._overlap&&(_._overlap=_._intersection._overlap=!0),_;var g=i.getPath(),p=d.getPath(),w=g!==p?g._id-p._id:i.getIndex()+i.getTime()-(d.getIndex()+d.getTime());w<0?l=f-1:a=f+1}return e.splice(a,0,i),i}return{statics:{insert:t,expand:function(e){for(var i=e.slice(),r=e.length-1;r>=0;r--)t(i,e[r]._intersection,!1);return i}}}}),ae=D.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(t){var e,i,r;if(b.isPlainObject(t)?(i=t.segments,e=t.pathData):Array.isArray(t)?i=t:typeof t=="string"&&(e=t),i){var s=i[0];r=s&&Array.isArray(s[0])}else e&&(r=(e.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(e));var a=r?pe:qt;return new a(t)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(t){this.isClockwise()!=(t=!!t)&&this.reverse()},setPathData:function(t){var e=t&&t.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),i,r=!1,s,a,l=new R,h=new R;function f(m,S){var k=+i[m];return r&&(k+=l[S]),k}function d(m){return new R(f(m,"x"),f(m+1,"y"))}this.clear();for(var _=0,g=e&&e.length;_<g;_++){var p=e[_],w=p[0],E=w.toLowerCase();i=p.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var I=i&&i.length;switch(r=w===E,s==="z"&&!/[mz]/.test(E)&&this.moveTo(l),E){case"m":case"l":for(var P=E==="m",x=0;x<I;x+=2)this[P?"moveTo":"lineTo"](l=d(x)),P&&(h=l,P=!1);a=l;break;case"h":case"v":var v=E==="h"?"x":"y";l=l.clone();for(var x=0;x<I;x++)l[v]=f(x,v),this.lineTo(l);a=l;break;case"c":for(var x=0;x<I;x+=6)this.cubicCurveTo(d(x),a=d(x+2),l=d(x+4));break;case"s":for(var x=0;x<I;x+=4)this.cubicCurveTo(/[cs]/.test(s)?l.multiply(2).subtract(a):l,a=d(x),l=d(x+2)),s=E;break;case"q":for(var x=0;x<I;x+=4)this.quadraticCurveTo(a=d(x),l=d(x+2));break;case"t":for(var x=0;x<I;x+=2)this.quadraticCurveTo(a=/[qt]/.test(s)?l.multiply(2).subtract(a):l,l=d(x)),s=E;break;case"a":for(var x=0;x<I;x+=7)this.arcTo(l=d(x+5),new ot(+i[x],+i[x+1]),+i[x+2],+i[x+4],+i[x+3]);break;case"z":this.closePath(1e-12),l=h;break}s=E}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(t){var e=t.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(t):{};return e.onPath||!!(this.getFillRule()==="evenodd"?e.windingL&1||e.windingR&1:e.winding)},getIntersections:function(t,e,i,r){var s=this===t||!t,a=this._matrix._orNullIfIdentity(),l=s?a:(i||t._matrix)._orNullIfIdentity();return s||this.getBounds(a).intersects(t.getBounds(l),1e-12)?at.getIntersections(this.getCurves(),!s&&t.getCurves(),e,a,l,r):[]},getCrossings:function(t){return this.getIntersections(t,function(e){return e.isCrossing()})},getNearestLocation:function(){for(var t=R.read(arguments),e=this.getCurves(),i=1/0,r=null,s=0,a=e.length;s<a;s++){var l=e[s].getNearestLocation(t);l._distance<i&&(i=l._distance,r=l)}return r},getNearestPoint:function(){var t=this.getNearestLocation.apply(this,arguments);return t&&t.getPoint()},interpolate:function(t,e,i){var r=!this._children,s=r?"_segments":"_children",a=t[s],l=e[s],h=this[s];if(!a||!l||a.length!==l.length)throw new Error("Invalid operands in interpolate() call: "+t+", "+e);var f=h.length,d=l.length;if(f<d)for(var _=r?It:qt,g=f;g<d;g++)this.add(new _);else f>d&&this[r?"removeSegments":"removeChildren"](d,f);for(var g=0;g<d;g++)h[g].interpolate(a[g],l[g],i);r&&(this.setClosed(t._closed),this._changed(9))},compare:function(t){var e=!1;if(t){var i=this._children||[this],r=t._children?t._children.slice():[t],s=i.length,a=r.length,l=[],h=0;e=!0;for(var f=rt.findItemBoundsCollisions(i,r,Y.GEOMETRIC_EPSILON),d=s-1;d>=0&&e;d--){var _=i[d];e=!1;var g=f[d];if(g)for(var p=g.length-1;p>=0&&!e;p--)_.compare(r[g[p]])&&(l[g[p]]||(l[g[p]]=!0,h++),e=!0)}e=e&&h===a}return e}}),qt=ae.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(e){this._closed=!1,this._segments=[],this._version=0;var i=arguments,r=Array.isArray(e)?typeof e[0]=="object"?e:i:e&&e.size===y&&(e.x!==y||e.point!==y)?i:null;r&&r.length>0?this.setSegments(r):(this._curves=y,this._segmentSelection=0,!r&&typeof e=="string"&&(this.setPathData(e),e=null)),this._initialize(!r&&e)},_equals:function(t){return this._closed===t._closed&&b.equals(this._segments,t._segments)},copyContent:function(t){this.setSegments(t._segments),this._closed=t._closed},_changed:function t(e){if(t.base.call(this,e),e&8){if(this._length=this._area=y,e&32)this._version++;else if(this._curves)for(var i=0,r=this._curves.length;i<r;i++)this._curves[i]._changed()}else e&64&&(this._bounds=y)},getStyle:function(){var t=this._parent;return(t instanceof pe?t:this)._style},getSegments:function(){return this._segments},setSegments:function(t){var e=this.isFullySelected(),i=t&&t.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=y,i){var r=t[i-1];typeof r=="boolean"&&(this.setClosed(r),i--),this._add(It.readList(t,0,{},i))}e&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var t=this._curves,e=this._segments;if(!t){var i=this._countCurves();t=this._curves=new Array(i);for(var r=0;r<i;r++)t[r]=new at(this,e[r],e[r+1]||e[0])}return t},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var t=this.getCurves();return t[t.length-1]},isClosed:function(){return this._closed},setClosed:function(t){if(this._closed!=(t=!!t)){if(this._closed=t,this._curves){var e=this._curves.length=this._countCurves();t&&(this._curves[e-1]=new at(this,this._segments[e-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(t,e){var i=this._segments,r=i.length,s=new Q(e),a=new Array(6),l=!0,h,f,d,_,g,p,w,E,I=[];function P(v,m){if(v._transformCoordinates(t,a),h=a[0],f=a[1],l)I.push("M"+s.pair(h,f)),l=!1;else if(g=a[2],p=a[3],g===h&&p===f&&w===d&&E===_){if(!m){var S=h-d,k=f-_;I.push(S===0?"v"+s.number(k):k===0?"h"+s.number(S):"l"+s.pair(S,k))}}else I.push("c"+s.pair(w-d,E-_)+" "+s.pair(g-d,p-_)+" "+s.pair(h-d,f-_));d=h,_=f,w=a[4],E=a[5]}if(!r)return"";for(var x=0;x<r;x++)P(i[x]);return this._closed&&r>0&&(P(i[0],!0),I.push("z")),I.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(t){for(var e=this._segments,i=new Array(6),r=0,s=e.length;r<s;r++)e[r]._transformCoordinates(t,i,!0);return!0},_add:function(t,l){for(var i=this._segments,r=this._curves,s=t.length,a=l==null,l=a?i.length:l,h=0;h<s;h++){var f=t[h];f._path&&(f=t[h]=f.clone()),f._path=this,f._index=l+h,f._selection&&this._updateSelection(f,0,f._selection)}if(a)b.push(i,t);else{i.splice.apply(i,[l,0].concat(t));for(var h=l+s,d=i.length;h<d;h++)i[h]._index=h}if(r){var _=this._countCurves(),g=l>0&&l+s-1===_?l-1:l,p=g,w=Math.min(g+s,_);t._curves&&(r.splice.apply(r,[g,0].concat(t._curves)),p+=t._curves.length);for(var h=p;h<w;h++)r.splice(h,0,new at(this,null,null));this._adjustCurves(g,w)}return this._changed(41),t},_adjustCurves:function(t,e){for(var i=this._segments,r=this._curves,s,a=t;a<e;a++)s=r[a],s._path=this,s._segment1=i[a],s._segment2=i[a+1]||i[0],s._changed();(s=r[this._closed&&!t?i.length-1:t-1])&&(s._segment2=i[t]||i[0],s._changed()),(s=r[e])&&(s._segment1=i[e],s._changed())},_countCurves:function(){var t=this._segments.length;return!this._closed&&t>0?t-1:t},add:function(t){var e=arguments;return e.length>1&&typeof t!="number"?this._add(It.readList(e)):this._add([It.read(e)])[0]},insert:function(t,e){var i=arguments;return i.length>2&&typeof e!="number"?this._add(It.readList(i,1),t):this._add([It.read(i,1)],t)[0]},addSegment:function(){return this._add([It.read(arguments)])[0]},insertSegment:function(t){return this._add([It.read(arguments,1)],t)[0]},addSegments:function(t){return this._add(It.readList(t))},insertSegments:function(t,e){return this._add(It.readList(e),t)},removeSegment:function(t){return this.removeSegments(t,t+1)[0]||null},removeSegments:function(t,e,i){t=t||0,e=b.pick(e,this._segments.length);var r=this._segments,s=this._curves,a=r.length,l=r.splice(t,e-t),h=l.length;if(!h)return l;for(var f=0;f<h;f++){var d=l[f];d._selection&&this._updateSelection(d,d._selection,0),d._index=d._path=null}for(var f=t,_=r.length;f<_;f++)r[f]._index=f;if(s){for(var g=t>0&&e===a+(this._closed?1:0)?t-1:t,s=s.splice(g,h),f=s.length-1;f>=0;f--)s[f]._path=null;i&&(l._curves=s.slice(1)),this._adjustCurves(g,g)}return this._changed(41),l},clear:"#removeSegments",hasHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)if(t[e].hasHandles())return!0;return!1},clearHandles:function(){for(var t=this._segments,e=0,i=t.length;e<i;e++)t[e].clearHandles()},getLength:function(){if(this._length==null){for(var t=this.getCurves(),e=0,i=0,r=t.length;i<r;i++)e+=t[i].getLength();this._length=e}return this._length},getArea:function(){var t=this._area;if(t==null){var e=this._segments,i=this._closed;t=0;for(var r=0,s=e.length;r<s;r++){var a=r+1===s;t+=at.getArea(at.getValues(e[r],e[a?0:r+1],null,a&&!i))}this._area=t}return t},isFullySelected:function(){var t=this._segments.length;return this.isSelected()&&t>0&&this._segmentSelection===t*7},setFullySelected:function(t){t&&this._selectSegments(!0),this.setSelected(t)},setSelection:function t(e){e&1||this._selectSegments(!1),t.base.call(this,e)},_selectSegments:function(t){var e=this._segments,i=e.length,r=t?7:0;this._segmentSelection=r*i;for(var s=0;s<i;s++)e[s]._selection=r},_updateSelection:function(t,e,i){t._selection=i;var r=this._segmentSelection+=i-e;r>0&&this.setSelected(!0)},divideAt:function(t){var e=this.getLocationAt(t),i;return e&&(i=e.getCurve().divideAt(e.getCurveOffset()))?i._segment1:null},splitAt:function(t){var e=this.getLocationAt(t),i=e&&e.index,r=e&&e.time,s=1e-8,a=1-s;r>a&&(i++,r=0);var l=this.getCurves();if(i>=0&&i<l.length){r>=s&&l[i++].divideAtTime(r);var h=this.removeSegments(i,this._segments.length,!0),f;return this._closed?(this.setClosed(!1),f=this):(f=new qt(D.NO_INSERT),f.insertAbove(this),f.copyAttributes(this)),f._add(h,0),this.addSegment(h[0]),f}return null},split:function(t,e){var i,r=e===y?t:(i=this.getCurves()[t])&&i.getLocationAtTime(e);return r!=null?this.splitAt(r):null},join:function(t,e){var i=e||0;if(t&&t!==this){var r=t._segments,s=this.getLastSegment(),a=t.getLastSegment();if(!a)return this;s&&s._point.isClose(a._point,i)&&t.reverse();var l=t.getFirstSegment();if(s&&s._point.isClose(l._point,i))s.setHandleOut(l._handleOut),this._add(r.slice(1));else{var h=this.getFirstSegment();h&&h._point.isClose(l._point,i)&&t.reverse(),a=t.getLastSegment(),h&&h._point.isClose(a._point,i)?(h.setHandleIn(a._handleIn),this._add(r.slice(0,r.length-1),0)):this._add(r.slice())}t._closed&&this._add([r[0]]),t.remove()}var f=this.getFirstSegment(),d=this.getLastSegment();return f!==d&&f._point.isClose(d._point,i)&&(f.setHandleIn(d._handleIn),d.remove(),this.setClosed(!0)),this},reduce:function(t){for(var e=this.getCurves(),i=t&&t.simplify,r=i?1e-7:0,s=e.length-1;s>=0;s--){var a=e[s];!a.hasHandles()&&(!a.hasLength(r)||i&&a.isCollinear(a.getNext()))&&a.remove()}return this},reverse:function(){this._segments.reverse();for(var t=0,e=this._segments.length;t<e;t++){var i=this._segments[t],r=i._handleIn;i._handleIn=i._handleOut,i._handleOut=r,i._index=t}this._curves=null,this._changed(9)},flatten:function(t){for(var e=new Ze(this,t||.25,256,!0),i=e.parts,r=i.length,s=[],a=0;a<r;a++)s.push(new It(i[a].curve.slice(0,2)));!this._closed&&r>0&&s.push(new It(i[r-1].curve.slice(6))),this.setSegments(s)},simplify:function(t){var e=new ze(this).fit(t||2.5);return e&&this.setSegments(e),!!e},smooth:function(t){var e=this,i=t||{},r=i.type||"asymmetric",s=this._segments,a=s.length,l=this._closed;function h(Tt,zt){var Bt=Tt&&Tt.index;if(Bt!=null){var Ht=Tt.path;if(Ht&&Ht!==e)throw new Error(Tt._class+" "+Bt+" of "+Ht+" is not part of "+e);zt&&Tt instanceof at&&Bt++}else Bt=typeof Tt=="number"?Tt:zt;return Math.min(Bt<0&&l?Bt%a:Bt<0?Bt+a:Bt,a-1)}var f=l&&i.from===y&&i.to===y,d=h(i.from,0),_=h(i.to,a-1);if(d>_)if(l)d-=a;else{var g=d;d=_,_=g}if(/^(?:asymmetric|continuous)$/.test(r)){var p=r==="asymmetric",w=Math.min,E=_-d+1,I=E-1,P=f?w(E,4):1,x=P,v=P,m=[];if(l||(x=w(1,d),v=w(1,a-_-1)),I+=x+v,I<=1)return;for(var S=0,k=d-x;S<=I;S++,k++)m[S]=s[(k<0?k+a:k)%a]._point;for(var O=m[0]._x+2*m[1]._x,A=m[0]._y+2*m[1]._y,M=2,N=I-1,B=[O],V=[A],z=[M],q=[],U=[],S=1;S<I;S++){var j=S<N,G=j||p?1:2,$=j?4:p?2:7,nt=j?4:p?3:8,ht=j?2:p?0:1,_t=G/M;M=z[S]=$-_t,O=B[S]=nt*m[S]._x+ht*m[S+1]._x-_t*O,A=V[S]=nt*m[S]._y+ht*m[S+1]._y-_t*A}q[N]=B[N]/z[N],U[N]=V[N]/z[N];for(var S=I-2;S>=0;S--)q[S]=(B[S]-q[S+1])/z[S],U[S]=(V[S]-U[S+1])/z[S];q[I]=(3*m[I]._x-q[N])/2,U[I]=(3*m[I]._y-U[N])/2;for(var S=x,vt=I-v,k=d;S<=vt;S++,k++){var st=s[k<0?k+a:k],ut=st._point,mt=q[S]-ut._x,wt=U[S]-ut._y;(f||S<vt)&&st.setHandleOut(mt,wt),(f||S>x)&&st.setHandleIn(-mt,-wt)}}else for(var S=d;S<=_;S++)s[S<0?S+a:S].smooth(i,!f&&S===d,!f&&S===_)},toShape:function(t){if(!this._closed)return null;var e=this._segments,i,r,s,a;function l(p,w){var E=e[p],I=E.getNext(),P=e[w],x=P.getNext();return E._handleOut.isZero()&&I._handleIn.isZero()&&P._handleOut.isZero()&&x._handleIn.isZero()&&I._point.subtract(E._point).isCollinear(x._point.subtract(P._point))}function h(p){var w=e[p],E=w.getPrevious(),I=w.getNext();return E._handleOut.isZero()&&w._handleIn.isZero()&&w._handleOut.isZero()&&I._handleIn.isZero()&&w._point.subtract(E._point).isOrthogonal(I._point.subtract(w._point))}function f(p){var w=e[p],E=w.getNext(),I=w._handleOut,P=E._handleIn,x=.5522847498307936;if(I.isOrthogonal(P)){var v=w._point,m=E._point,S=new Rt(v,I,!0).intersect(new Rt(m,P,!0),!0);return S&&Y.isZero(I.getLength()/S.subtract(v).getLength()-x)&&Y.isZero(P.getLength()/S.subtract(m).getLength()-x)}return!1}function d(p,w){return e[p]._point.getDistance(e[w]._point)}if(!this.hasHandles()&&e.length===4&&l(0,2)&&l(1,3)&&h(1)?(i=ue.Rectangle,r=new ot(d(0,3),d(0,1)),a=e[1]._point.add(e[2]._point).divide(2)):e.length===8&&f(0)&&f(2)&&f(4)&&f(6)&&l(1,5)&&l(3,7)?(i=ue.Rectangle,r=new ot(d(1,6),d(0,3)),s=r.subtract(new ot(d(0,7),d(1,2))).divide(2),a=e[3]._point.add(e[4]._point).divide(2)):e.length===4&&f(0)&&f(1)&&f(2)&&f(3)&&(Y.isZero(d(0,2)-d(1,3))?(i=ue.Circle,s=d(0,2)/2):(i=ue.Ellipse,s=new ot(d(2,0)/2,d(3,1)/2)),a=e[1]._point),i){var _=this.getPosition(!0),g=new i({center:_,size:r,radius:s,insert:!1});return g.copyAttributes(this,!0),g._matrix.prepend(this._matrix),g.rotate(a.subtract(_).getAngle()+90),(t===y||t)&&g.insertAbove(this),g}return null},toPath:"#clone",compare:function t(e){if(!e||e instanceof pe)return t.base.call(this,e);var i=this.getCurves(),r=e.getCurves(),s=i.length,a=r.length;if(!s||!a)return s==a;for(var l=i[0].getValues(),h=[],f=0,d,_=0,g,p=0;p<a;p++){var P=r[p].getValues();h.push(P);var w=at.getOverlaps(l,P);if(w){d=!p&&w[0][0]>0?a-1:p,g=w[0][1];break}}for(var E=Math.abs,I=1e-8,P=h[d],x;l&&P;){var w=at.getOverlaps(l,P);if(w){var v=w[0][0];if(E(v-_)<I){_=w[1][0],_===1&&(l=++f<s?i[f].getValues():null,_=0);var m=w[0][1];if(E(m-g)<I){if(x||(x=[d,m]),g=w[1][1],g===1&&(++d>=a&&(d=0),P=h[d]||r[d].getValues(),g=0),!l)return x[0]===d&&x[1]===g;continue}}}break}return!1},_hitTestSelf:function(t,e,i,r){var s=this,a=this.getStyle(),l=this._segments,h=l.length,f=this._closed,d=e._tolerancePadding,_=d,g,p,w,E,I,P,x=e.stroke&&a.hasStroke(),v=e.fill&&a.hasFill(),m=e.curves,S=x?a.getStrokeWidth()/2:v&&e.tolerance>0||m?0:null;S!==null&&(S>0?(g=a.getStrokeJoin(),p=a.getStrokeCap(),w=a.getMiterLimit(),_=_.add(qt._getStrokePadding(S,r))):g=p="round");function k(q,U){return t.subtract(q).divide(U).length<=1}function O(q,U,j){if(!e.selected||U.isSelected()){var G=q._point;if(U!==G&&(U=U.add(G)),k(U,_))return new be(j,s,{segment:q,point:U})}}function A(q,U){return(U||e.segments)&&O(q,q._point,"segment")||!U&&e.handles&&(O(q,q._handleIn,"handle-in")||O(q,q._handleOut,"handle-out"))}function M(q){E.add(q)}function N(q){var U=f||q._index>0&&q._index<h-1;if((U?g:p)==="round")return k(q._point,_);if(E=new qt({internal:!0,closed:!0}),U?q.isSmooth()||qt._addBevelJoin(q,g,S,w,null,r,M,!0):p==="square"&&qt._addSquareCap(q,p,S,null,r,M,!0),!E.isEmpty()){var j;return E.contains(t)||(j=E.getNearestLocation(t))&&k(j.getPoint(),d)}}if(e.ends&&!e.segments&&!f){if(P=A(l[0],!0)||A(l[h-1],!0))return P}else if(e.segments||e.handles){for(var B=0;B<h;B++)if(P=A(l[B]))return P}if(S!==null){if(I=this.getNearestLocation(t),I){var V=I.getTime();V===0||V===1&&h>1?N(I.getSegment())||(I=null):k(I.getPoint(),_)||(I=null)}if(!I&&g==="miter"&&h>1)for(var B=0;B<h;B++){var z=l[B];if(t.getDistance(z._point)<=w*S&&N(z)){I=z.getLocation();break}}}return!I&&v&&this._contains(t)||I&&!x&&!m?new be("fill",this):I?new be(x?"stroke":"curve",this,{location:I,point:I.getPoint()}):null}},b.each(at._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this.getLocationAt(e);return i&&i[t]()}},{beans:!1,getLocationOf:function(){for(var t=R.read(arguments),e=this.getCurves(),i=0,r=e.length;i<r;i++){var s=e[i].getLocationOf(t);if(s)return s}return null},getOffsetOf:function(){var t=this.getLocationOf.apply(this,arguments);return t?t.getOffset():null},getLocationAt:function(t){if(typeof t=="number"){for(var e=this.getCurves(),i=0,r=0,s=e.length;r<s;r++){var a=i,l=e[r];if(i+=l.getLength(),i>t)return l.getLocationAt(t-a)}if(e.length>0&&t<=this.getLength())return new te(e[e.length-1],1)}else if(t&&t.getPath&&t.getPath()===this)return t;return null},getOffsetsWithTangent:function(){var t=R.read(arguments);if(t.isZero())return[];for(var e=[],i=0,r=this.getCurves(),s=0,a=r.length;s<a;s++){for(var l=r[s],h=l.getTimesWithTangent(t),f=0,d=h.length;f<d;f++){var _=i+l.getOffsetAtTime(h[f]);e.indexOf(_)<0&&e.push(_)}i+=l.length}return e}}),new function(){function t(i,r,s,a){if(a<=0)return;var l=a/2,h=a-2,f=l-1,d=new Array(6),_,g;function p(v){var m=d[v],S=d[v+1];(_!=m||g!=S)&&(i.beginPath(),i.moveTo(_,g),i.lineTo(m,S),i.stroke(),i.beginPath(),i.arc(m,S,l,0,Math.PI*2,!0),i.fill())}for(var w=0,E=r.length;w<E;w++){var I=r[w],P=I._selection;if(I._transformCoordinates(s,d),_=d[0],g=d[1],P&2&&p(2),P&4&&p(4),i.fillRect(_-l,g-l,a,a),h>0&&!(P&1)){var x=i.fillStyle;i.fillStyle="#ffffff",i.fillRect(_-f,g-f,h,h),i.fillStyle=x}}}function e(i,r,s){var a=r._segments,l=a.length,h=new Array(6),f=!0,d,_,g,p,w,E,I,P;function x(m){if(s)m._transformCoordinates(s,h),d=h[0],_=h[1];else{var S=m._point;d=S._x,_=S._y}if(f)i.moveTo(d,_),f=!1;else{if(s)w=h[2],E=h[3];else{var k=m._handleIn;w=d+k._x,E=_+k._y}w===d&&E===_&&I===g&&P===p?i.lineTo(d,_):i.bezierCurveTo(I,P,w,E,d,_)}if(g=d,p=_,s)I=h[4],P=h[5];else{var k=m._handleOut;I=g+k._x,P=p+k._y}}for(var v=0;v<l;v++)x(a[v]);r._closed&&l>0&&x(a[0])}return{_draw:function(i,r,s,a){var l=r.dontStart,h=r.dontFinish||r.clip,f=this.getStyle(),d=f.hasFill(),_=f.hasStroke(),g=f.getDashArray(),p=!n.support.nativeDash&&_&&g&&g.length;l||i.beginPath(),(d||_&&!p||h)&&(e(i,this,a),this._closed&&i.closePath());function w(m){return g[(m%p+p)%p]}if(!h&&(d||_)&&(this._setStyles(i,r,s),d&&(i.fill(f.getFillRule()),i.shadowColor="rgba(0,0,0,0)"),_)){if(p){l||i.beginPath();for(var E=new Ze(this,.25,32,!1,a),I=E.length,P=-f.getDashOffset(),x,v=0;P>0;)P-=w(v--)+w(v--);for(;P<I;)x=P+w(v++),(P>0||x>0)&&E.drawPart(i,Math.max(P,0),Math.max(x,0)),P=x+w(v++)}i.stroke()}},_drawSelected:function(i,r){i.beginPath(),e(i,this,r),i.stroke(),t(i,this._segments,r,n.settings.handleSize)}}},new function(){function t(e){var i=e._segments;if(!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return{moveTo:function(){var e=this._segments;e.length===1&&this.removeSegment(0),e.length||this._add([new It(R.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new It(R.read(arguments))])},cubicCurveTo:function(){var e=arguments,i=R.read(e),r=R.read(e),s=R.read(e),a=t(this);a.setHandleOut(i.subtract(a._point)),this._add([new It(s,r.subtract(s))])},quadraticCurveTo:function(){var e=arguments,i=R.read(e),r=R.read(e),s=t(this)._point;this.cubicCurveTo(i.add(s.subtract(i).multiply(1/3)),i.add(r.subtract(i).multiply(1/3)),r)},curveTo:function(){var e=arguments,i=R.read(e),r=R.read(e),s=b.pick(b.read(e),.5),a=1-s,l=t(this)._point,h=i.subtract(l.multiply(a*a)).subtract(r.multiply(s*s)).divide(2*s*a);if(h.isNaN())throw new Error("Cannot put a curve through points with parameter = "+s);this.quadraticCurveTo(h,r)},arcTo:function(){var e=arguments,i=Math.abs,r=Math.sqrt,s=t(this),a=s._point,l=R.read(e),h,f=b.peek(e),d=b.pick(f,!0),_,g,p,w;if(typeof d=="boolean")var E=a.add(l).divide(2),h=E.add(E.subtract(a).rotate(d?-90:90));else if(b.remain(e)<=2)h=l,l=R.read(e);else if(!a.equals(l)){var I=ot.read(e),P=Y.isZero;if(P(I.width)||P(I.height))return this.lineTo(l);var x=b.read(e),d=!!b.read(e),v=!!b.read(e),E=a.add(l).divide(2),m=a.subtract(E).rotate(-x),S=m.x,k=m.y,O=i(I.width),A=i(I.height),M=O*O,N=A*A,B=S*S,V=k*k,z=r(B/M+V/N);if(z>1&&(O*=z,A*=z,M=O*O,N=A*A),z=(M*N-M*V-N*B)/(M*V+N*B),i(z)<1e-12&&(z=0),z<0)throw new Error("Cannot create an arc with the given arguments");_=new R(O*k/A,-A*S/O).multiply((v===d?-1:1)*r(z)).rotate(x).add(E),w=new St().translate(_).rotate(x).scale(O,A),p=w._inverseTransform(a),g=p.getDirectedAngle(w._inverseTransform(l)),!d&&g>0?g-=360:d&&g<0&&(g+=360)}if(h){var q=new Rt(a.add(h).divide(2),h.subtract(a).rotate(90),!0),U=new Rt(h.add(l).divide(2),l.subtract(h).rotate(90),!0),j=new Rt(a,l),G=j.getSide(h);if(_=q.intersect(U,!0),!_){if(!G)return this.lineTo(l);throw new Error("Cannot create an arc with the given arguments")}p=a.subtract(_),g=p.getDirectedAngle(l.subtract(_));var $=j.getSide(_,!0);$===0?g=G*i(g):G===$&&(g+=g<0?360:-360)}if(g){for(var nt=1e-5,ht=i(g),_t=ht>=360?4:Math.ceil((ht-nt)/90),vt=g/_t,st=vt*Math.PI/360,ut=4/3*Math.sin(st)/(1+Math.cos(st)),mt=[],wt=0;wt<=_t;wt++){var m=l,Tt=null;if(wt<_t&&(Tt=p.rotate(90).multiply(ut),w?(m=w._transformPoint(p),Tt=w._transformPoint(p.add(Tt)).subtract(m)):m=_.add(p)),!wt)s.setHandleOut(Tt);else{var zt=p.rotate(-90).multiply(ut);w&&(zt=w._transformPoint(p.add(zt)).subtract(m)),mt.push(new It(m,zt,Tt))}p=p.rotate(vt)}this._add(mt)}},lineBy:function(){var e=R.read(arguments),i=t(this)._point;this.lineTo(i.add(e))},curveBy:function(){var e=arguments,i=R.read(e),r=R.read(e),s=b.read(e),a=t(this)._point;this.curveTo(a.add(i),a.add(r),s)},cubicCurveBy:function(){var e=arguments,i=R.read(e),r=R.read(e),s=R.read(e),a=t(this)._point;this.cubicCurveTo(a.add(i),a.add(r),a.add(s))},quadraticCurveBy:function(){var e=arguments,i=R.read(e),r=R.read(e),s=t(this)._point;this.quadraticCurveTo(s.add(i),s.add(r))},arcBy:function(){var e=arguments,i=t(this)._point,r=i.add(R.read(e)),s=b.pick(b.peek(e),!0);typeof s=="boolean"?this.arcTo(r,s):this.arcTo(r,i.add(R.read(e)))},closePath:function(e){this.setClosed(!0),this.join(this,e)}}},{_getBounds:function(t,e){var i=e.handle?"getHandleBounds":e.stroke?"getStrokeBounds":"getBounds";return qt[i](this._segments,this._closed,this,t,e)},statics:{getBounds:function(t,e,i,r,s,a){var l=t[0];if(!l)return new ct;var h=new Array(6),f=l._transformCoordinates(r,new Array(6)),d=f.slice(0,2),_=d.slice(),g=new Array(2);function p(I){I._transformCoordinates(r,h);for(var P=0;P<2;P++)at._addBounds(f[P],f[P+4],h[P+2],h[P],P,a?a[P]:0,d,_,g);var x=f;f=h,h=x}for(var w=1,E=t.length;w<E;w++)p(t[w]);return e&&p(l),new ct(d[0],d[1],_[0]-d[0],_[1]-d[1])},getStrokeBounds:function(t,e,i,r,s){var a=i.getStyle(),l=a.hasStroke(),h=a.getStrokeWidth(),f=l&&i._getStrokeMatrix(r,s),d=l&&qt._getStrokePadding(h,f),_=qt.getBounds(t,e,i,r,s,d);if(!l)return _;var g=h/2,p=a.getStrokeJoin(),w=a.getStrokeCap(),E=a.getMiterLimit(),I=new ct(new ot(d));function P(O){_=_.include(O)}function x(O){_=_.unite(I.setCenter(O._point.transform(r)))}function v(O,A){A==="round"||O.isSmooth()?x(O):qt._addBevelJoin(O,A,g,E,r,f,P)}function m(O,A){A==="round"?x(O):qt._addSquareCap(O,A,g,r,f,P)}var S=t.length-(e?0:1);if(S>0){for(var k=1;k<S;k++)v(t[k],p);e?v(t[0],p):(m(t[0],w),m(t[t.length-1],w))}return _},_getStrokePadding:function(t,e){if(!e)return[t,t];var i=new R(t,0).transform(e),r=new R(0,t).transform(e),s=i.getAngleInRadians(),a=i.getLength(),l=r.getLength(),h=Math.sin(s),f=Math.cos(s),d=Math.tan(s),_=Math.atan2(l*d,a),g=Math.atan2(l,d*a);return[Math.abs(a*Math.cos(_)*f+l*Math.sin(_)*h),Math.abs(l*Math.sin(g)*f+a*Math.cos(g)*h)]},_addBevelJoin:function(t,e,i,r,s,a,l,h){var f=t.getCurve(),d=f.getPrevious(),_=f.getPoint1().transform(s),g=d.getNormalAtTime(1).multiply(i).transform(a),p=f.getNormalAtTime(0).multiply(i).transform(a),w=g.getDirectedAngle(p);if((w<0||w>=180)&&(g=g.negate(),p=p.negate()),h&&l(_),l(_.add(g)),e==="miter"){var E=new Rt(_.add(g),new R(-g.y,g.x),!0).intersect(new Rt(_.add(p),new R(-p.y,p.x),!0),!0);E&&_.getDistance(E)<=r*i&&l(E)}l(_.add(p))},_addSquareCap:function(t,e,i,r,s,a,l){var h=t._point.transform(r),f=t.getLocation(),d=f.getNormal().multiply(f.getTime()===0?i:-i).transform(s);e==="square"&&(l&&(a(h.subtract(d)),a(h.add(d))),h=h.add(d.rotate(-90))),a(h.add(d)),a(h.subtract(d))},getHandleBounds:function(t,e,i,r,s){var a=i.getStyle(),l=s.stroke&&a.hasStroke(),h,f;if(l){var d=i._getStrokeMatrix(r,s),_=a.getStrokeWidth()/2,g=_;a.getStrokeJoin()==="miter"&&(g=_*a.getMiterLimit()),a.getStrokeCap()==="square"&&(g=Math.max(g,_*Math.SQRT2)),h=qt._getStrokePadding(_,d),f=qt._getStrokePadding(g,d)}for(var p=new Array(6),w=1/0,E=-w,I=w,P=E,x=0,v=t.length;x<v;x++){var m=t[x];m._transformCoordinates(r,p);for(var S=0;S<6;S+=2){var k=S?h:f,O=k?k[0]:0,A=k?k[1]:0,M=p[S],N=p[S+1],B=M-O,V=M+O,z=N-A,q=N+A;B<w&&(w=B),V>E&&(E=V),z<I&&(I=z),q>P&&(P=q)}}return new ct(w,I,E-w,P-I)}}});qt.inject({statics:new function(){var t=.5522847498307936,e=[new It([-1,0],[0,t],[0,-t]),new It([0,-1],[-t,0],[t,0]),new It([1,0],[0,-t],[0,t]),new It([0,1],[t,0],[-t,0])];function i(s,a,l){var h=b.getNamed(l),f=new qt(h&&(h.insert==!0?D.INSERT:h.insert==!1?D.NO_INSERT:null));return f._add(s),f._closed=a,f.set(h,D.INSERT)}function r(s,a,l){for(var h=new Array(4),f=0;f<4;f++){var d=e[f];h[f]=new It(d._point.multiply(a).add(s),d._handleIn.multiply(a),d._handleOut.multiply(a))}return i(h,!0,l)}return{Line:function(){var s=arguments;return i([new It(R.readNamed(s,"from")),new It(R.readNamed(s,"to"))],!1,s)},Circle:function(){var s=arguments,a=R.readNamed(s,"center"),l=b.readNamed(s,"radius");return r(a,new ot(l),s)},Rectangle:function(){var s=arguments,a=ct.readNamed(s,"rectangle"),l=ot.readNamed(s,"radius",0,{readNull:!0}),h=a.getBottomLeft(!0),f=a.getTopLeft(!0),d=a.getTopRight(!0),_=a.getBottomRight(!0),g;if(!l||l.isZero())g=[new It(h),new It(f),new It(d),new It(_)];else{l=ot.min(l,a.getSize(!0).divide(2));var p=l.width,w=l.height,E=p*t,I=w*t;g=[new It(h.add(p,0),null,[-E,0]),new It(h.subtract(0,w),[0,I]),new It(f.add(0,w),null,[0,-I]),new It(f.add(p,0),[-E,0],null),new It(d.subtract(p,0),null,[E,0]),new It(d.add(0,w),[0,-I],null),new It(_.subtract(0,w),null,[0,I]),new It(_.subtract(p,0),[E,0])]}return i(g,!0,s)},RoundRectangle:"#Rectangle",Ellipse:function(){var s=arguments,a=ue._readEllipse(s);return r(a.center,a.radius,s)},Oval:"#Ellipse",Arc:function(){var s=arguments,a=R.readNamed(s,"from"),l=R.readNamed(s,"through"),h=R.readNamed(s,"to"),f=b.getNamed(s),d=new qt(f&&f.insert==!1&&D.NO_INSERT);return d.moveTo(a),d.arcTo(l,h),d.set(f)},RegularPolygon:function(){for(var s=arguments,a=R.readNamed(s,"center"),l=b.readNamed(s,"sides"),h=b.readNamed(s,"radius"),f=360/l,d=l%3===0,_=new R(0,d?-h:h),g=d?-1:.5,p=new Array(l),w=0;w<l;w++)p[w]=new It(a.add(_.rotate((w+g)*f)));return i(p,!0,s)},Star:function(){for(var s=arguments,a=R.readNamed(s,"center"),l=b.readNamed(s,"points")*2,h=b.readNamed(s,"radius1"),f=b.readNamed(s,"radius2"),d=360/l,_=new R(0,-1),g=new Array(l),p=0;p<l;p++)g[p]=new It(a.add(_.rotate(d*p).multiply(p%2?f:h)));return i(g,!0,s)}}}});var pe=ae.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(e){this._children=[],this._namedChildren={},this._initialize(e)||(typeof e=="string"?this.setPathData(e):this.addChildren(Array.isArray(e)?e:arguments))},insertChildren:function t(e,i){var r=i,s=r[0];s&&typeof s[0]=="number"&&(r=[r]);for(var a=i.length-1;a>=0;a--){var l=r[a];r===i&&!(l instanceof qt)&&(r=b.slice(r)),Array.isArray(l)?r[a]=new qt({segments:l,insert:!1}):l instanceof pe&&(r.splice.apply(r,[a,1].concat(l.removeChildren())),l.remove())}return t.base.call(this,e,r)},reduce:function t(e){for(var i=this._children,r=i.length-1;r>=0;r--){var s=i[r].reduce(e);s.isEmpty()&&s.remove()}if(!i.length){var s=new qt(D.NO_INSERT);return s.copyAttributes(this),s.insertAbove(this),this.remove(),s}return t.base.call(this)},isClosed:function(){for(var t=this._children,e=0,i=t.length;e<i;e++)if(!t[e]._closed)return!1;return!0},setClosed:function(t){for(var e=this._children,i=0,r=e.length;i<r;i++)e[i].setClosed(t)},getFirstSegment:function(){var t=this.getFirstChild();return t&&t.getFirstSegment()},getLastSegment:function(){var t=this.getLastChild();return t&&t.getLastSegment()},getCurves:function(){for(var t=this._children,e=[],i=0,r=t.length;i<r;i++)b.push(e,t[i].getCurves());return e},getFirstCurve:function(){var t=this.getFirstChild();return t&&t.getFirstCurve()},getLastCurve:function(){var t=this.getLastChild();return t&&t.getLastCurve()},getArea:function(){for(var t=this._children,e=0,i=0,r=t.length;i<r;i++)e+=t[i].getArea();return e},getLength:function(){for(var t=this._children,e=0,i=0,r=t.length;i<r;i++)e+=t[i].getLength();return e},getPathData:function(t,e){for(var i=this._children,r=[],s=0,a=i.length;s<a;s++){var l=i[s],h=l._matrix;r.push(l.getPathData(t&&!h.isIdentity()?t.appended(h):t,e))}return r.join("")},_hitTestChildren:function t(e,i,r){return t.base.call(this,e,i.class===qt||i.type==="path"?i:b.set({},i,{fill:!1}),r)},_draw:function(t,e,i,r){var s=this._children;if(s.length){e=e.extend({dontStart:!0,dontFinish:!0}),t.beginPath();for(var a=0,l=s.length;a<l;a++)s[a].draw(t,e,r);if(!e.clip){this._setStyles(t,e,i);var h=this._style;h.hasFill()&&(t.fill(h.getFillRule()),t.shadowColor="rgba(0,0,0,0)"),h.hasStroke()&&t.stroke()}}},_drawSelected:function(t,e,i){for(var r=this._children,s=0,a=r.length;s<a;s++){var l=r[s],h=l._matrix;i[l._id]||l._drawSelected(t,h.isIdentity()?e:e.appended(h))}}},new function(){function t(e,i){var r=e._children;if(i&&!r.length)throw new Error("Use a moveTo() command first");return r[r.length-1]}return b.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(e){this[e]=function(){var i=t(this,!0);i[e].apply(i,arguments)}},{moveTo:function(){var e=t(this),i=e&&e.isEmpty()?e:new qt(D.NO_INSERT);i!==e&&this.addChild(i),i.moveTo.apply(i,arguments)},moveBy:function(){var e=t(this,!0),i=e&&e.getLastSegment(),r=R.read(arguments);this.moveTo(i?r.add(i._point):r)},closePath:function(e){t(this,!0).closePath(e)}})},b.each(["reverse","flatten","simplify","smooth"],function(t){this[t]=function(e){for(var i=this._children,r,s=0,a=i.length;s<a;s++)r=i[s][t](e)||r;return r}},{}));ae.inject(new function(){var t=Math.min,e=Math.max,i=Math.abs,r={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function s(x){return x._children||[x]}function a(x,v){var m=x.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(v){for(var S=s(m),k=0,O=S.length;k<O;k++){var x=S[k];!x._closed&&!x.isEmpty()&&(x.closePath(1e-12),x.getFirstSegment().setHandleIn(0,0),x.getLastSegment().setHandleOut(0,0))}m=m.resolveCrossings().reorient(m.getFillRule()==="nonzero",!0)}return m}function l(x,v,m,S,k){var O=new pe(D.NO_INSERT);return O.addChildren(x,!0),O=O.reduce({simplify:v}),k&&k.insert==!1||O.insertAbove(S&&m.isSibling(S)&&m.getIndex()<S.getIndex()?S:m),O.copyAttributes(m,!0),O}function h(x){return x.hasOverlap()||x.isCrossing()}function f(x,v,m,S){if(S&&(S.trace==!1||S.stroke)&&/^(subtract|intersect)$/.test(m))return d(x,v,m);var k=a(x,!0),O=v&&x!==v&&a(v,!0),A=r[m];A[m]=!0,O&&(A.subtract||A.exclude)^(O.isClockwise()^k.isClockwise())&&O.reverse();var M=w(te.expand(k.getIntersections(O,h))),N=s(k),B=O&&s(O),V=[],z=[],q;function U(Tt){for(var zt=0,Bt=Tt.length;zt<Bt;zt++){var Ht=Tt[zt];b.push(V,Ht._segments),b.push(z,Ht.getCurves()),Ht._overlapsOnly=!0}}function j(Tt){for(var zt=[],Bt=0,Ht=Tt&&Tt.length;Bt<Ht;Bt++)zt.push(z[Tt[Bt]]);return zt}if(M.length){U(N),B&&U(B);for(var G=new Array(z.length),$=0,nt=z.length;$<nt;$++)G[$]=z[$].getValues();for(var ht=rt.findCurveBoundsCollisions(G,G,0,!0),_t={},$=0;$<z.length;$++){var vt=z[$],st=vt._path._id,ut=_t[st]=_t[st]||{};ut[vt.getIndex()]={hor:j(ht[$].hor),ver:j(ht[$].ver)}}for(var $=0,nt=M.length;$<nt;$++)I(M[$]._segment,k,O,_t,A);for(var $=0,nt=V.length;$<nt;$++){var mt=V[$],wt=mt._intersection;mt._winding||I(mt,k,O,_t,A),wt&&wt._overlap||(mt._path._overlapsOnly=!1)}q=P(V,A)}else q=p(B?N.concat(B):N.slice(),function(Tt){return!!A[Tt]});return l(q,!0,x,v,S)}function d(x,v,m){var S=a(x),k=a(v),O=S.getIntersections(k,h),A=m==="subtract",M=m==="divide",N={},B=[];function V(U){if(!N[U._id]&&(M||k.contains(U.getPointAt(U.getLength()/2))^A))return B.unshift(U),N[U._id]=!0}for(var z=O.length-1;z>=0;z--){var q=O[z].split();q&&(V(q)&&q.getFirstSegment().setHandleIn(0,0),S.getLastSegment().setHandleOut(0,0))}return V(S),l(B,!1,x,v)}function _(x,v){for(var m=x;m;){if(m===v)return;m=m._previous}for(;x._next&&x._next!==v;)x=x._next;if(!x._next){for(;v._previous;)v=v._previous;x._next=v,v._previous=x}}function g(x){for(var v=x.length-1;v>=0;v--)x[v].clearHandles()}function p(x,v,m){var S=x&&x.length;if(S){var k=b.each(x,function(ht,_t){this[ht._id]={container:null,winding:ht.isClockwise()?1:-1,index:_t}},{}),O=x.slice().sort(function(ht,_t){return i(_t.getArea())-i(ht.getArea())}),A=O[0],M=rt.findItemBoundsCollisions(O,null,Y.GEOMETRIC_EPSILON);m==null&&(m=A.isClockwise());for(var N=0;N<S;N++){var B=O[N],V=k[B._id],z=0,q=M[N];if(q){for(var U=null,j=q.length-1;j>=0;j--)if(q[j]<N){U=U||B.getInteriorPoint();var G=O[q[j]];if(G.contains(U)){var $=k[G._id];z=$.winding,V.winding+=z,V.container=$.exclude?$.container:G;break}}}if(v(V.winding)===v(z))V.exclude=!0,x[V.index]=null;else{var nt=V.container;B.setClockwise(nt?!nt.isClockwise():m)}}}return x}function w(x,v,m){var S=v&&[],k=1e-8,O=1-k,A=!1,M=m||[],N=m&&{},B,V,z;function q(zt){return zt._path._id+"."+zt._segment1._index}for(var U=(m&&m.length)-1;U>=0;U--){var j=m[U];j._path&&(N[q(j)]=!0)}for(var U=x.length-1;U>=0;U--){var G=x[U],$=G._time,nt=$,ht=v&&!v(G),j=G._curve,_t;if(j&&(j!==V?(A=!j.hasHandles()||N&&N[q(j)],B=[],z=null,V=j):z>=k&&($/=z)),ht){B&&B.push(G);continue}else v&&S.unshift(G);if(z=nt,$<k)_t=j._segment1;else if($>O)_t=j._segment2;else{var vt=j.divideAtTime($,!0);A&&M.push(j,vt),_t=vt._segment1;for(var st=B.length-1;st>=0;st--){var ut=B[st];ut._time=(ut._time-$)/(1-$)}}G._setSegment(_t);var mt=_t._intersection,wt=G._intersection;if(mt){_(mt,wt);for(var Tt=mt;Tt;)_(Tt._intersection,mt),Tt=Tt._next}else _t._intersection=wt}return m||g(M),S||x}function E(x,v,m,S,k){var O=Array.isArray(v)?v:v[m?"hor":"ver"],A=m?1:0,M=A^1,N=[x.x,x.y],B=N[A],V=N[M],z=1e-9,q=1e-6,U=B-z,j=B+z,G=0,$=0,nt=0,ht=0,_t=!1,vt=!1,st=1,ut=[],mt,wt;function Tt(Qt){var me=Qt[M+0],we=Qt[M+6];if(!(V<t(me,we)||V>e(me,we))){var Ee=Qt[A+0],je=Qt[A+2],We=Qt[A+4],De=Qt[A+6];if(me===we){(Ee<j&&De>U||De<j&&Ee>U)&&(_t=!0);return}var Me=V===me?0:V===we||U>e(Ee,je,We,De)||j<t(Ee,je,We,De)?1:at.solveCubic(Qt,M,V,ut,0,1)>0?ut[0]:1,ye=Me===0?Ee:Me===1?De:at.getPoint(Qt,Me)[m?"y":"x"],Ce=me>we?1:-1,Ke=mt[M]>mt[M+6]?1:-1,ei=mt[A+6];return V!==me?(ye<U?nt+=Ce:ye>j?ht+=Ce:_t=!0,ye>B-q&&ye<B+q&&(st/=2)):(Ce!==Ke?Ee<U?nt+=Ce:Ee>j&&(ht+=Ce):Ee!=ei&&(ei<j&&ye>j?(ht+=Ce,_t=!0):ei>U&&ye<U&&(nt+=Ce,_t=!0)),st/=4),mt=Qt,!k&&ye>U&&ye<j&&at.getTangent(Qt,Me)[m?"x":"y"]===0&&E(x,v,!m,S,!0)}}function zt(Qt){var me=Qt[M+0],we=Qt[M+2],Ee=Qt[M+4],je=Qt[M+6];if(V<=e(me,we,Ee,je)&&V>=t(me,we,Ee,je)){for(var We=Qt[A+0],De=Qt[A+2],Me=Qt[A+4],ye=Qt[A+6],Ce=U>e(We,De,Me,ye)||j<t(We,De,Me,ye)?[Qt]:at.getMonoCurves(Qt,m),Ke,ei=0,wn=Ce.length;ei<wn;ei++)if(Ke=Tt(Ce[ei]))return Ke}}for(var Bt=0,Ht=O.length;Bt<Ht;Bt++){var Ut=O[Bt],Jt=Ut._path,ge=Ut.getValues(),ve;if((!Bt||O[Bt-1]._path!==Jt)&&(mt=null,Jt._closed||(wt=at.getValues(Jt.getLastCurve().getSegment2(),Ut.getSegment1(),null,!S),wt[M]!==wt[M+6]&&(mt=wt)),!mt)){mt=ge;for(var Nt=Jt.getLastCurve();Nt&&Nt!==Ut;){var ee=Nt.getValues();if(ee[M]!==ee[M+6]){mt=ee;break}Nt=Nt.getPrevious()}}if(ve=zt(ge))return ve;if(Bt+1===Ht||O[Bt+1]._path!==Jt){if(wt&&(ve=zt(wt)))return ve;_t&&!nt&&!ht&&(nt=ht=Jt.isClockwise(S)^m?1:-1),G+=nt,$+=ht,nt=ht=0,_t&&(vt=!0,_t=!1),wt=null}}return G=i(G),$=i($),{winding:e(G,$),windingL:G,windingR:$,quality:st,onPath:vt}}function I(x,v,m,S,k){var O=[],A=x,M=0,z;do{var N=x.getCurve();if(N){var B=N.getLength();O.push({segment:x,curve:N,length:B}),M+=B}x=x.getNext()}while(x&&!x._intersection&&x!==A);for(var V=[.5,.25,.75],z={winding:0,quality:-1},q=.001,U=1-q,j=0;j<V.length&&z.quality<.5;j++)for(var B=M*V[j],G=0,$=O.length;G<$;G++){var nt=O[G],ht=nt.length;if(B<=ht){var N=nt.curve,_t=N._path,vt=_t._parent,st=vt instanceof pe?vt:_t,ut=Y.clamp(N.getTimeAt(B),q,U),mt=N.getPointAtTime(ut),wt=i(N.getTangentAtTime(ut).y)<Math.SQRT1_2,Tt=null;if(k.subtract&&m){var zt=st===v?m:v,Bt=zt._getWinding(mt,wt,!0);if(st===v&&Bt.winding||st===m&&!Bt.winding){if(Bt.quality<1)continue;Tt={winding:0,quality:1}}}Tt=Tt||E(mt,S[_t._id][N.getIndex()],wt,!0),Tt.quality>z.quality&&(z=Tt);break}B-=ht}for(var G=O.length-1;G>=0;G--)O[G].segment._winding=z}function P(x,v){var m=[],S;function k(Ht){var Ut;return!!(Ht&&!Ht._visited&&(!v||v[(Ut=Ht._winding||{}).winding]&&!(v.unite&&Ut.winding===2&&Ut.windingL&&Ut.windingR)))}function O(Ht){if(Ht){for(var Ut=0,Jt=S.length;Ut<Jt;Ut++)if(Ht===S[Ut])return!0}return!1}function A(Ht){for(var Ut=Ht._segments,Jt=0,ge=Ut.length;Jt<ge;Jt++)Ut[Jt]._visited=!0}function M(Ht,Ut){var Jt=Ht._intersection,ge=Jt,ve=[];Ut&&(S=[Ht]);function Nt(ee,Qt){for(;ee&&ee!==Qt;){var me=ee._segment,we=me&&me._path;if(we){var Ee=me.getNext()||we.getFirstSegment(),je=Ee._intersection;me!==Ht&&(O(me)||O(Ee)||Ee&&k(me)&&(k(Ee)||je&&k(je._segment)))&&ve.push(me),Ut&&S.push(me)}ee=ee._next}}if(Jt){for(Nt(Jt);Jt&&Jt._previous;)Jt=Jt._previous;Nt(Jt,ge)}return ve}x.sort(function(Ht,Ut){var Jt=Ht._intersection,ge=Ut._intersection,ve=!!(Jt&&Jt._overlap),Nt=!!(ge&&ge._overlap),ee=Ht._path,Qt=Ut._path;return ve^Nt?ve?1:-1:!Jt^!ge?Jt?1:-1:ee!==Qt?ee._id-Qt._id:Ht._index-Ut._index});for(var N=0,B=x.length;N<B;N++){var V=x[N],z=k(V),q=null,U=!1,j=!0,G=[],$,nt,ht;if(z&&V._path._overlapsOnly){var _t=V._path,vt=V._intersection._segment._path;_t.compare(vt)&&(_t.getArea()&&m.push(_t.clone(!1)),A(_t),A(vt),z=!1)}for(;z;){var st=!q,ut=M(V,st),mt=ut.shift(),U=!st&&(O(V)||O(mt)),wt=!U&&mt;if(st&&(q=new qt(D.NO_INSERT),$=null),U){(V.isFirst()||V.isLast())&&(j=V._path._closed),V._visited=!0;break}if(wt&&$&&(G.push($),$=null),$||(wt&&ut.push(V),$={start:q._segments.length,crossings:ut,visited:nt=[],handleIn:ht}),wt&&(V=mt),!k(V)){q.removeSegments($.start);for(var Tt=0,zt=nt.length;Tt<zt;Tt++)nt[Tt]._visited=!1;nt.length=0;do V=$&&$.crossings.shift(),(!V||!V._path)&&(V=null,$=G.pop(),$&&(nt=$.visited,ht=$.handleIn));while($&&!k(V));if(!V)break}var Bt=V.getNext();q.add(new It(V._point,ht,Bt&&V._handleOut)),V._visited=!0,nt.push(V),V=Bt||V._path.getFirstSegment(),ht=Bt&&Bt._handleIn}U&&(j&&(q.getFirstSegment().setHandleIn(ht),q.setClosed(j)),q.getArea()!==0&&m.push(q))}return m}return{_getWinding:function(x,v,m){return E(x,this.getCurves(),v,m)},unite:function(x,v){return f(this,x,"unite",v)},intersect:function(x,v){return f(this,x,"intersect",v)},subtract:function(x,v){return f(this,x,"subtract",v)},exclude:function(x,v){return f(this,x,"exclude",v)},divide:function(x,v){return v&&(v.trace==!1||v.stroke)?d(this,x,"divide"):l([this.subtract(x,v),this.intersect(x,v)],!0,this,x,v)},resolveCrossings:function(){var x=this._children,v=x||[this];function m($,nt){var ht=$&&$._intersection;return ht&&ht._overlap&&ht._path===nt}var S=!1,k=!1,O=this.getIntersections(null,function($){return $.hasOverlap()&&(S=!0)||$.isCrossing()&&(k=!0)}),A=S&&k&&[];if(O=te.expand(O),S)for(var M=w(O,function($){return $.hasOverlap()},A),N=M.length-1;N>=0;N--){var B=M[N],V=B._path,z=B._segment,q=z.getPrevious(),U=z.getNext();m(q,V)&&m(U,V)&&(z.remove(),q._handleOut._set(0,0),U._handleIn._set(0,0),q!==z&&!q.getCurve().hasLength()&&(U._handleIn.set(q._handleIn),q.remove()))}k&&(w(O,S&&function($){var nt=$.getCurve(),ht=$.getSegment(),_t=$._intersection,vt=_t._curve,st=_t._segment;if(nt&&vt&&nt._path&&vt._path)return!0;ht&&(ht._intersection=null),st&&(st._intersection=null)},A),A&&g(A),v=P(b.each(v,function($){b.push(this,$._segments)},[])));var j=v.length,G;return j>1&&x?(v!==x&&this.setChildren(v),G=this):j===1&&!x&&(v[0]!==this&&this.setSegments(v[0].removeSegments()),G=this),G||(G=new pe(D.NO_INSERT),G.addChildren(v),G=G.reduce(),G.copyAttributes(this),this.replaceWith(G)),G},reorient:function(x,v){var m=this._children;return m&&m.length?this.setChildren(p(this.removeChildren(),function(S){return!!(x?S:S&1)},v)):v!==y&&this.setClockwise(v),this},getInteriorPoint:function(){var x=this.getBounds(),v=x.getCenter(!0);if(!this.contains(v)){for(var m=this.getCurves(),S=v.y,k=[],O=[],A=0,M=m.length;A<M;A++){var N=m[A].getValues(),B=N[1],V=N[3],z=N[5],q=N[7];if(S>=t(B,V,z,q)&&S<=e(B,V,z,q))for(var U=at.getMonoCurves(N),j=0,G=U.length;j<G;j++){var $=U[j],nt=$[1],ht=$[7];if(nt!==ht&&(S>=nt&&S<=ht||S>=ht&&S<=nt)){var _t=S===nt?$[0]:S===ht?$[6]:at.solveCubic($,1,S,O,0,1)===1?at.getPoint($,O[0]).x:($[0]+$[6])/2;k.push(_t)}}}k.length>1&&(k.sort(function(vt,st){return vt-st}),v.x=(k[0]+k[1])/2)}return v}}});var Ze=b.extend({_class:"PathFlattener",initialize:function(t,e,i,r,s){var a=[],l=[],h=0,f=1/(i||32),d=t._segments,_=d[0],g;function p(P,x){var v=at.getValues(P,x,s);a.push(v),w(v,P._index,0,1)}function w(P,x,v,m){if(m-v>f&&!(r&&at.isStraight(P))&&!at.isFlatEnough(P,e||.25)){var S=at.subdivide(P,.5),k=(v+m)/2;w(S[0],x,v,k),w(S[1],x,k,m)}else{var O=P[6]-P[0],A=P[7]-P[1],M=Math.sqrt(O*O+A*A);M>0&&(h+=M,l.push({offset:h,curve:P,index:x,time:m}))}}for(var E=1,I=d.length;E<I;E++)g=d[E],p(_,g),_=g;t._closed&&p(g||_,d[0]),this.curves=a,this.parts=l,this.length=h,this.index=0},_get:function(t){for(var e=this.parts,i=e.length,r,s=this.index;r=s,!(!s||e[--s].offset<t););for(;r<i;r++){var a=e[r];if(a.offset>=t){this.index=r;var l=e[r-1],h=l&&l.index===a.index?l.time:0,f=l?l.offset:0;return{index:a.index,time:h+(a.time-h)*(t-f)/(a.offset-f)}}}return{index:e[i-1].index,time:1}},drawPart:function(t,e,i){for(var r=this._get(e),s=this._get(i),a=r.index,l=s.index;a<=l;a++){var h=at.getPart(this.curves[a],a===r.index?r.time:0,a===s.index?s.time:1);a===r.index&&t.moveTo(h[0],h[1]),t.bezierCurveTo.apply(t,h.slice(2))}}},b.each(at._evaluateMethods,function(t){this[t+"At"]=function(e){var i=this._get(e);return at[t](this.curves[i.index],i.time)}},{})),ze=b.extend({initialize:function(t){for(var e=this.points=[],i=t._segments,r=t._closed,s=0,a,l=i.length;s<l;s++){var h=i[s].point;(!a||!a.equals(h))&&e.push(a=h.clone())}r&&(e.unshift(e[e.length-1]),e.push(e[1])),this.closed=r},fit:function(t){var e=this.points,i=e.length,r=null;return i>0&&(r=[new It(e[0])],i>1&&(this.fitCubic(r,t,0,i-1,e[1].subtract(e[0]),e[i-2].subtract(e[i-1])),this.closed&&(r.shift(),r.pop()))),r},fitCubic:function(t,e,i,r,s,a){var l=this.points;if(r-i===1){var h=l[i],f=l[r],d=h.getDistance(f)/3;this.addCurve(t,[h,h.add(s.normalize(d)),f.add(a.normalize(d)),f]);return}for(var _=this.chordLengthParameterize(i,r),g=Math.max(e,e*e),p,w=!0,E=0;E<=4;E++){var I=this.generateBezier(i,r,_,s,a),P=this.findMaxError(i,r,I,_);if(P.error<e&&w){this.addCurve(t,I);return}if(p=P.index,P.error>=g)break;w=this.reparameterize(i,r,_,I),g=P.error}var x=l[p-1].subtract(l[p+1]);this.fitCubic(t,e,i,p,s,x),this.fitCubic(t,e,p,r,x.negate(),a)},addCurve:function(t,e){var i=t[t.length-1];i.setHandleOut(e[1].subtract(e[0])),t.push(new It(e[3],e[2].subtract(e[3])))},generateBezier:function(t,e,i,r,s){for(var a=1e-12,l=Math.abs,h=this.points,f=h[t],d=h[e],_=[[0,0],[0,0]],g=[0,0],p=0,w=e-t+1;p<w;p++){var E=i[p],I=1-E,P=3*E*I,x=I*I*I,v=P*I,m=P*E,S=E*E*E,k=r.normalize(v),O=s.normalize(m),A=h[t+p].subtract(f.multiply(x+v)).subtract(d.multiply(m+S));_[0][0]+=k.dot(k),_[0][1]+=k.dot(O),_[1][0]=_[0][1],_[1][1]+=O.dot(O),g[0]+=k.dot(A),g[1]+=O.dot(A)}var M=_[0][0]*_[1][1]-_[1][0]*_[0][1],N,B;if(l(M)>a){var V=_[0][0]*g[1]-_[1][0]*g[0],z=g[0]*_[1][1]-g[1]*_[0][1];N=z/M,B=V/M}else{var q=_[0][0]+_[0][1],U=_[1][0]+_[1][1];N=B=l(q)>a?g[0]/q:l(U)>a?g[1]/U:0}var j=d.getDistance(f),G=a*j,$,nt;if(N<G||B<G)N=B=j/3;else{var ht=d.subtract(f);$=r.normalize(N),nt=s.normalize(B),$.dot(ht)-nt.dot(ht)>j*j&&(N=B=j/3,$=nt=null)}return[f,f.add($||r.normalize(N)),d.add(nt||s.normalize(B)),d]},reparameterize:function(t,e,i,r){for(var s=t;s<=e;s++)i[s-t]=this.findRoot(r,this.points[s],i[s-t]);for(var s=1,a=i.length;s<a;s++)if(i[s]<=i[s-1])return!1;return!0},findRoot:function(t,e,i){for(var r=[],s=[],a=0;a<=2;a++)r[a]=t[a+1].subtract(t[a]).multiply(3);for(var a=0;a<=1;a++)s[a]=r[a+1].subtract(r[a]).multiply(2);var l=this.evaluate(3,t,i),h=this.evaluate(2,r,i),f=this.evaluate(1,s,i),d=l.subtract(e),_=h.dot(h)+d.dot(f);return Y.isMachineZero(_)?i:i-d.dot(h)/_},evaluate:function(t,e,i){for(var r=e.slice(),s=1;s<=t;s++)for(var a=0;a<=t-s;a++)r[a]=r[a].multiply(1-i).add(r[a+1].multiply(i));return r[0]},chordLengthParameterize:function(t,e){for(var i=[0],r=t+1;r<=e;r++)i[r-t]=i[r-t-1]+this.points[r].getDistance(this.points[r-1]);for(var r=1,s=e-t;r<=s;r++)i[r]/=i[s];return i},findMaxError:function(t,e,i,r){for(var s=Math.floor((e-t+1)/2),a=0,l=t+1;l<e;l++){var h=this.evaluate(3,i,r[l-t]),f=h.subtract(this.points[l]),d=f.x*f.x+f.y*f.y;d>=a&&(a=d,s=l)}return{error:a,index:s}}}),Ve=D.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(e){this._content="",this._lines=[];var i=e&&b.isPlainObject(e)&&e.x===y&&e.y===y;this._initialize(i&&e,!i&&R.read(arguments))},_equals:function(t){return this._content===t._content},copyContent:function(t){this.setContent(t._content)},getContent:function(){return this._content},setContent:function(t){this._content=""+t,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),li=Ve.extend({_class:"PointText",initialize:function(){Ve.apply(this,arguments)},getPoint:function(){var t=this._matrix.getTranslation();return new Ft(t.x,t.y,this,"setPoint")},setPoint:function(){var t=R.read(arguments);this.translate(t.subtract(this._matrix.getTranslation()))},_draw:function(t,e,i){if(this._content){this._setStyles(t,e,i);var r=this._lines,s=this._style,a=s.hasFill(),l=s.hasStroke(),h=s.getLeading(),f=t.shadowColor;t.font=s.getFontStyle(),t.textAlign=s.getJustification();for(var d=0,_=r.length;d<_;d++){t.shadowColor=f;var g=r[d];a&&(t.fillText(g,0,0),t.shadowColor="rgba(0,0,0,0)"),l&&t.strokeText(g,0,0),t.translate(0,h)}}},_getBounds:function(t,e){var i=this._style,r=this._lines,s=r.length,a=i.getJustification(),l=i.getLeading(),h=this.getView().getTextWidth(i.getFontStyle(),r),f=0;a!=="left"&&(f-=h/(a==="center"?2:1));var d=new ct(f,s?-.75*l:0,h,s*l);return t?t._transformBounds(d,d):d}}),ne=b.extend(new function(){var t={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},e={},i={transparent:[0,0,0,0]},r;function s(h){var f=h.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||h.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),d="rgb",_;if(f){var g=f[4]?4:3;_=new Array(g);for(var p=0;p<g;p++){var w=f[p+1];_[p]=parseInt(w.length==1?w+w:w,16)/255}}else if(f=h.match(/^(rgb|hsl)a?\((.*)\)$/)){d=f[1],_=f[2].trim().split(/[,\s]+/g);for(var E=d==="hsl",p=0,I=Math.min(_.length,4);p<I;p++){var P=_[p],w=parseFloat(P);if(E)if(p===0){var x=P.match(/([a-z]*)$/)[1];w*={turn:360,rad:180/Math.PI,grad:.9}[x]||1}else p<3&&(w/=100);else p<3&&(w/=/%$/.test(P)?100:255);_[p]=w}}else{var v=i[h];if(!v)if(T){r||(r=kt.getContext(1,1,{willReadFrequently:!0}),r.globalCompositeOperation="copy"),r.fillStyle="rgba(0,0,0,0)",r.fillStyle=h,r.fillRect(0,0,1,1);var m=r.getImageData(0,0,1,1).data;v=i[h]=[m[0]/255,m[1]/255,m[2]/255]}else v=[0,0,0];_=v.slice()}return[d,_]}var a=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],l={"rgb-hsb":function(h,f,d){var _=Math.max(h,f,d),g=Math.min(h,f,d),p=_-g,w=p===0?0:(_==h?(f-d)/p+(f<d?6:0):_==f?(d-h)/p+2:(h-f)/p+4)*60;return[w,_===0?0:p/_,_]},"hsb-rgb":function(h,f,d){h=(h/60%6+6)%6;var g=Math.floor(h),_=h-g,g=a[g],p=[d,d*(1-f),d*(1-f*_),d*(1-f*(1-_))];return[p[g[0]],p[g[1]],p[g[2]]]},"rgb-hsl":function(h,f,d){var _=Math.max(h,f,d),g=Math.min(h,f,d),p=_-g,w=p===0,E=w?0:(_==h?(f-d)/p+(f<d?6:0):_==f?(d-h)/p+2:(h-f)/p+4)*60,I=(_+g)/2,P=w?0:I<.5?p/(_+g):p/(2-_-g);return[E,P,I]},"hsl-rgb":function(h,f,d){if(h=(h/360%1+1)%1,f===0)return[d,d,d];for(var _=[h+1/3,h,h-1/3],g=d<.5?d*(1+f):d+f-d*f,p=2*d-g,w=[],E=0;E<3;E++){var I=_[E];I<0&&(I+=1),I>1&&(I-=1),w[E]=6*I<1?p+(g-p)*6*I:2*I<1?g:3*I<2?p+(g-p)*(2/3-I)*6:p}return w},"rgb-gray":function(h,f,d){return[h*.2989+f*.587+d*.114]},"gray-rgb":function(h){return[h,h,h]},"gray-hsb":function(h){return[0,0,h]},"gray-hsl":function(h){return[0,0,h]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return b.each(t,function(h,f){e[f]=[],b.each(h,function(d,_){var g=b.capitalize(d),p=/^(hue|saturation)$/.test(d),w=e[f][_]=f==="gradient"?d==="gradient"?function(E){var I=this._components[0];return E=Fe.read(Array.isArray(E)?E:arguments,0,{readNull:!0}),I!==E&&(I&&I._removeOwner(this),E&&E._addOwner(this)),E}:function(){return R.read(arguments,0,{readNull:d==="highlight",clone:!0})}:function(E){return E==null||isNaN(E)?0:+E};this["get"+g]=function(){return this._type===f||p&&/^hs[bl]$/.test(this._type)?this._components[_]:this._convert(f)[_]},this["set"+g]=function(E){this._type!==f&&!(p&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(f),this._properties=t[f],this._type=f),this._components[_]=w.call(this,E),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function h(f){var d=arguments,_=this.__read,g=0,p,w,E,I;Array.isArray(f)&&(d=f,f=d[0]);var P=f!=null&&typeof f;if(P==="string"&&f in t&&(p=f,f=d[1],Array.isArray(f)?(w=f,E=d[2]):(_&&(g=1),d=b.slice(d,1),P=typeof f)),!w){if(I=P==="number"?d:P==="object"&&f.length!=null?f:null,I){p||(p=I.length>=3?"rgb":"gray");var x=t[p].length;E=I[x],_&&(g+=I===arguments?x+(E!=null?1:0):1),I.length>x&&(I=b.slice(I,0,x))}else if(P==="string"){var v=s(f);p=v[0],w=v[1],w.length===4&&(E=w[3],w.length--)}else if(P==="object")if(f.constructor===h){if(p=f._type,w=f._components.slice(),E=f._alpha,p==="gradient")for(var m=1,S=w.length;m<S;m++){var k=w[m];k&&(w[m]=k.clone())}}else if(f.constructor===Fe)p="gradient",I=d;else{p="hue"in f?"lightness"in f?"hsl":"hsb":"gradient"in f||"stops"in f||"radial"in f?"gradient":"gray"in f?"gray":"rgb";var O=t[p],A=e[p];this._components=w=[];for(var m=0,S=O.length;m<S;m++){var M=f[O[m]];M==null&&!m&&p==="gradient"&&"stops"in f&&(M={stops:f.stops,radial:f.radial}),M=A[m].call(this,M),M!=null&&(w[m]=M)}E=f.alpha}_&&p&&(g=1)}if(this._type=p||"rgb",!w){this._components=w=[];for(var A=e[this._type],m=0,S=A.length;m<S;m++){var M=A[m].call(this,I&&I[m]);M!=null&&(w[m]=M)}}return this._components=w,this._properties=t[this._type],this._alpha=E,_&&(this.__read=g),this},set:"#initialize",_serialize:function(h,f){var d=this.getComponents();return b.serialize(/^(gray|rgb)$/.test(this._type)?d:[this._type].concat(d),h,!0,f)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(h){var f;return this._type===h?this._components.slice():(f=l[this._type+"-"+h])?f.apply(this,this._components):l["rgb-"+h].apply(this,l[this._type+"-rgb"].apply(this,this._components))},convert:function(h){return new ne(h,this._convert(h),this._alpha)},getType:function(){return this._type},setType:function(h){this._components=this._convert(h),this._properties=t[h],this._type=h},getComponents:function(){var h=this._components.slice();return this._alpha!=null&&h.push(this._alpha),h},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(h){this._alpha=h==null?null:Math.min(Math.max(h,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(h){var f=b.isPlainValue(h,!0)?ne.read(arguments):h;return f===this||f&&this._class===f._class&&this._type===f._type&&this.getAlpha()===f.getAlpha()&&b.equals(this._components,f._components)||!1},toString:function(){for(var h=this._properties,f=[],d=this._type==="gradient",_=Q.instance,g=0,p=h.length;g<p;g++){var w=this._components[g];w!=null&&f.push(h[g]+": "+(d?w:_.number(w)))}return this._alpha!=null&&f.push("alpha: "+_.number(this._alpha)),"{ "+f.join(", ")+" }"},toCSS:function(h){var f=this._convert("rgb"),d=h||this._alpha==null?1:this._alpha;function _(g){return Math.round((g<0?0:g>1?1:g)*255)}return f=[_(f[0]),_(f[1]),_(f[2])],d<1&&f.push(d<0?0:d),h?"#"+((1<<24)+(f[0]<<16)+(f[1]<<8)+f[2]).toString(16).slice(1):(f.length==4?"rgba(":"rgb(")+f.join(",")+")"},toCanvasStyle:function(h,f){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var d=this._components,_=d[0],g=_._stops,p=d[1],w=d[2],E=d[3],I=f&&f.inverted(),P;if(I&&(p=I._transformPoint(p),w=I._transformPoint(w),E&&(E=I._transformPoint(E))),_._radial){var x=w.getDistance(p);if(E){var v=E.subtract(p);v.getLength()>x&&(E=p.add(v.normalize(x-.1)))}var m=E||p;P=h.createRadialGradient(m.x,m.y,0,p.x,p.y,x)}else P=h.createLinearGradient(p.x,p.y,w.x,w.y);for(var S=0,k=g.length;S<k;S++){var O=g[S],A=O._offset;P.addColorStop(A??S/(k-1),O._color.toCanvasStyle())}return this._canvasStyle=P},transform:function(h){if(this._type==="gradient"){for(var f=this._components,d=1,_=f.length;d<_;d++){var g=f[d];h._transformPoint(g,g,!0)}this._changed()}},statics:{_types:t,random:function(){var h=Math.random;return new ne(h(),h(),h())},_setOwner:function(h,f,d){return h&&(h._owner&&f&&h._owner!==f&&(h=h.clone()),!h._owner^!f&&(h._owner=f||null,h._setter=d||null)),h}}})},new function(){var t={add:function(e,i){return e+i},subtract:function(e,i){return e-i},multiply:function(e,i){return e*i},divide:function(e,i){return e/i}};return b.each(t,function(e,i){this[i]=function(r){r=ne.read(arguments);for(var s=this._type,a=this._components,l=r._convert(s),h=0,f=a.length;h<f;h++)l[h]=e(a[h],l[h]);return new ne(s,l,this._alpha!=null?e(this._alpha,r.getAlpha()):null)}},{})}),Fe=b.extend({_class:"Gradient",initialize:function(e,i){this._id=lt.get(),e&&b.isPlainObject(e)&&(this.set(e),e=i=null),this._stops==null&&this.setStops(e||["white","black"]),this._radial==null&&this.setRadial(typeof i=="string"&&i==="radial"||i||!1)},_serialize:function(t,e){return e.add(this,function(){return b.serialize([this._stops,this._radial],t,!0,e)})},_changed:function(){for(var t=0,e=this._owners&&this._owners.length;t<e;t++)this._owners[t]._changed()},_addOwner:function(t){this._owners||(this._owners=[]),this._owners.push(t)},_removeOwner:function(t){var e=this._owners?this._owners.indexOf(t):-1;e!=-1&&(this._owners.splice(e,1),this._owners.length||(this._owners=y))},clone:function(){for(var t=[],e=0,i=this._stops.length;e<i;e++)t[e]=this._stops[e].clone();return new Fe(t,this._radial)},getStops:function(){return this._stops},setStops:function(t){if(t.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var e=this._stops;if(e)for(var i=0,r=e.length;i<r;i++)e[i]._owner=y;e=this._stops=Ct.readList(t,0,{clone:!0});for(var i=0,r=e.length;i<r;i++)e[i]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(t){this._radial=t,this._changed()},equals:function(t){if(t===this)return!0;if(t&&this._class===t._class){var e=this._stops,i=t._stops,r=e.length;if(r===i.length){for(var s=0;s<r;s++)if(!e[s].equals(i[s]))return!1;return!0}}return!1}}),Ct=b.extend({_class:"GradientStop",initialize:function(e,i){var r=e,s=i;typeof e=="object"&&i===y&&(Array.isArray(e)&&typeof e[0]!="number"?(r=e[0],s=e[1]):("color"in e||"offset"in e||"rampPoint"in e)&&(r=e.color,s=e.offset||e.rampPoint||0)),this.setColor(r),this.setOffset(s)},clone:function(){return new Ct(this._color.clone(),this._offset)},_serialize:function(t,e){var i=this._color,r=this._offset;return b.serialize(r==null?[i]:[i,r],t,!0,e)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(t){this._offset=t,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){ne._setOwner(this._color,null),this._color=ne._setOwner(ne.read(arguments,0),this,"setColor"),this._changed()},equals:function(t){return t===this||t&&this._class===t._class&&this._color.equals(t._color)&&this._offset==t._offset||!1}}),Kt=b.extend(new function(){var t={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new R,selectedColor:null},e=b.set({},t,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),i=b.set({},e,{fillColor:new ne}),r={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},s={beans:!0},a={_class:"Style",beans:!0,initialize:function(h,f,d){this._values={},this._owner=f,this._project=f&&f._project||d||n.project,this._defaults=!f||f instanceof $t?e:f instanceof Ve?i:t,h&&this.set(h)}};return b.each(e,function(l,h){var f=/Color$/.test(h),d=h==="shadowOffset",_=b.capitalize(h),g=r[h],p="set"+_,w="get"+_;a[p]=function(E){var I=this._owner,P=I&&I._children,x=P&&P.length>0&&!(I instanceof pe);if(x)for(var v=0,m=P.length;v<m;v++)P[v]._style[p](E);if((h==="selectedColor"||!x)&&h in this._defaults){var S=this._values[h];S!==E&&(f&&(S&&(ne._setOwner(S,null),S._canvasStyle=null),E&&E.constructor===ne&&(E=ne._setOwner(E,I,x&&p))),this._values[h]=E,I&&I._changed(g||129))}},a[w]=function(E){var I=this._owner,P=I&&I._children,x=P&&P.length>0&&!(I instanceof pe),v;if(x&&!E)for(var m=0,S=P.length;m<S;m++){var k=P[m]._style[w]();if(!m)v=k;else if(!b.equals(v,k))return y}else if(h in this._defaults){var v=this._values[h];if(v===y)v=this._defaults[h],v&&v.clone&&(v=v.clone());else{var O=f?ne:d?R:null;O&&!(v&&v.constructor===O)&&(this._values[h]=v=O.read([v],0,{readNull:!0,clone:!0}))}}return v&&f&&(v=ne._setOwner(v,I,x&&p)),v},s[w]=function(E){return this._style[w](E)},s[p]=function(E){this._style[p](E)}}),b.each({Font:"FontFamily",WindingRule:"FillRule"},function(l,h){var f="get"+h,d="set"+h;a[f]=s[f]="#get"+l,a[d]=s[d]="#set"+l}),D.inject(s),a},{set:function(t){var e=t instanceof Kt,i=e?t._values:t;if(i){for(var r in i)if(r in this._defaults){var s=i[r];this[r]=s&&e&&s.clone?s.clone():s}}},equals:function(t){function e(i,r,s){var a=i._values,l=r._values,h=r._defaults;for(var f in a){var d=a[f],_=l[f];if(!(s&&f in l)&&!b.equals(d,_===y?h[f]:_))return!1}return!0}return t===this||t&&this._class===t._class&&e(this,t)&&e(t,this,!0)||!1},_dispose:function(){var t;t=this.getFillColor(),t&&(t._canvasStyle=null),t=this.getStrokeColor(),t&&(t._canvasStyle=null),t=this.getShadowColor(),t&&(t._canvasStyle=null)},hasFill:function(){var t=this.getFillColor();return!!t&&t.alpha>0},hasStroke:function(){var t=this.getStrokeColor();return!!t&&t.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var t=this.getShadowColor();return!!t&&t.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var t=this.getFontSize();return this.getFontWeight()+" "+t+(/[a-z]/i.test(t+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function t(){var e=t.base.call(this),i=this.getFontSize();return/pt|em|%|px/.test(i)&&(i=this.getView().getPixelSize(i)),e??i*1.2}}),bt=new function(){function t(e,i,r,s){for(var a=["","webkit","moz","Moz","ms","o"],l=i[0].toUpperCase()+i.substring(1),h=0;h<6;h++){var f=a[h],d=f?f+l:i;if(d in e){if(r)e[d]=s;else return e[d];break}}}return{getStyles:function(e){var i=e&&e.nodeType!==9?e.ownerDocument:e,r=i&&i.defaultView;return r&&r.getComputedStyle(e,"")},getBounds:function(e,i){var r=e.ownerDocument,s=r.body,a=r.documentElement,l;try{l=e.getBoundingClientRect()}catch{l={left:0,top:0,width:0,height:0}}var h=l.left-(a.clientLeft||s.clientLeft||0),f=l.top-(a.clientTop||s.clientTop||0);if(!i){var d=r.defaultView;h+=d.pageXOffset||a.scrollLeft||s.scrollLeft,f+=d.pageYOffset||a.scrollTop||s.scrollTop}return new ct(h,f,l.width,l.height)},getViewportBounds:function(e){var i=e.ownerDocument,r=i.defaultView,s=i.documentElement;return new ct(0,0,r.innerWidth||s.clientWidth,r.innerHeight||s.clientHeight)},getOffset:function(e,i){return bt.getBounds(e,i).getPoint()},getSize:function(e){return bt.getBounds(e,!0).getSize()},isInvisible:function(e){return bt.getSize(e).equals(new ot(0,0))},isInView:function(e){return!bt.isInvisible(e)&&bt.getViewportBounds(e).intersects(bt.getBounds(e,!0))},isInserted:function(e){return L.body.contains(e)},getPrefixed:function(e,i){return e&&t(e,i)},setPrefixed:function(e,i,r){if(typeof i=="object")for(var s in i)t(e,s,!0,i[s]);else t(e,i,!0,r)}}},Mt={add:function(t,e){if(t)for(var i in e)for(var r=e[i],s=i.split(/[\s,]+/g),a=0,l=s.length;a<l;a++){var h=s[a],f=t===L&&(h==="touchstart"||h==="touchmove")?{passive:!1}:!1;t.addEventListener(h,r,f)}},remove:function(t,e){if(t)for(var i in e)for(var r=e[i],s=i.split(/[\s,]+/g),a=0,l=s.length;a<l;a++)t.removeEventListener(s[a],r,!1)},getPoint:function(t){var e=t.targetTouches?t.targetTouches.length?t.targetTouches[0]:t.changedTouches[0]:t;return new R(e.pageX||e.clientX+L.documentElement.scrollLeft,e.pageY||e.clientY+L.documentElement.scrollTop)},getTarget:function(t){return t.target||t.srcElement},getRelatedTarget:function(t){return t.relatedTarget||t.toElement},getOffset:function(t,e){return Mt.getPoint(t).subtract(bt.getOffset(e||Mt.getTarget(t)))}};Mt.requestAnimationFrame=new function(){var t=bt.getPrefixed(T,"requestAnimationFrame"),e=!1,i=[],r;function s(){var a=i;i=[];for(var l=0,h=a.length;l<h;l++)a[l]();e=t&&i.length,e&&t(s)}return function(a){i.push(a),t?e||(t(s),e=!0):r||(r=setInterval(s,1e3/60))}};var Gt=b.extend(W,{_class:"View",initialize:function t(e,i){function r(g){return i[g]||parseInt(i.getAttribute(g),10)}function s(){var g=bt.getSize(i);return g.isNaN()||g.isZero()?new ot(r("width"),r("height")):g}var a;if(T&&i){this._id=i.getAttribute("id"),this._id==null&&i.setAttribute("id",this._id="paper-view-"+t._id++),Mt.add(i,this._viewEvents);var l="none";if(bt.setPrefixed(i.style,{userDrag:l,userSelect:l,touchCallout:l,contentZooming:l,tapHighlightColor:"rgba(0,0,0,0)"}),Z.hasAttribute(i,"resize")){var h=this;Mt.add(T,this._windowEvents={resize:function(){h.setViewSize(s())}})}if(a=s(),Z.hasAttribute(i,"stats")&&typeof Stats<"u"){this._stats=new Stats;var f=this._stats.domElement,d=f.style,_=bt.getOffset(i);d.position="absolute",d.left=_.x+"px",d.top=_.y+"px",L.body.appendChild(f)}}else a=new ot(i),i=null;this._project=e,this._scope=e._scope,this._element=i,this._pixelRatio||(this._pixelRatio=T&&T.devicePixelRatio||1),this._setElementSize(a.width,a.height),this._viewSize=a,t._views.push(this),t._viewsById[this._id]=this,(this._matrix=new St)._owner=this,t._focused||(t._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!n.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Gt._focused===this&&(Gt._focused=null),Gt._views.splice(Gt._views.indexOf(this),1),delete Gt._viewsById[this._id];var t=this._project;return t._view===this&&(t._view=null),Mt.remove(this._element,this._viewEvents),Mt.remove(T,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:b.each(D._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(t){this[t]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(t){this._autoUpdate=t,t&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var t=this;Mt.requestAnimationFrame(function(){if(t._requested=!1,t._animate){t.requestUpdate();var e=t._element;(!bt.getPrefixed(L,"hidden")||Z.getAttribute(e,"keepalive")==="true")&&bt.isInView(e)&&t._handleFrame()}t._autoUpdate&&t.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){n=this._scope;var t=Date.now()/1e3,e=this._last?t-this._last:0;this._last=t,this.emit("frame",new b({delta:e,time:this._time+=e,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(t,e){var i=this._frameItems;e?(i[t._id]={item:t,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete i[t._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(t){for(var e in this._frameItems){var i=this._frameItems[e];i.item.emit("frame",new b(t,{time:i.time+=t.delta,count:i.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=y},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var t=this._viewSize;return new Vt(t.width,t.height,this,"setViewSize")},setViewSize:function(){var t=ot.read(arguments),e=t.subtract(this._viewSize);e.isZero()||(this._setElementSize(t.width,t.height),this._viewSize.set(t),this._changed(),this.emit("resize",{size:t,delta:e}),this._autoUpdate&&this.update())},_setElementSize:function(t,e){var i=this._element;i&&(i.width!==t&&(i.width=t),i.height!==e&&(i.height=e))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new ct(new R,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return bt.isInView(this._element)},isInserted:function(){return bt.isInserted(this._element)},getPixelSize:function(t){var e=this._element,i;if(e){var r=e.parentNode,s=L.createElement("div");s.style.fontSize=t,r.appendChild(s),i=parseFloat(bt.getStyles(s).fontSize),r.removeChild(s)}else i=parseFloat(i);return i},getTextWidth:function(t,e){return 0}},b.each(["rotate","scale","shear","skew"],function(t){var e=t==="rotate";this[t]=function(){var i=arguments,r=(e?b:R).read(i),s=R.read(i,0,{readNull:!0});return this.transform(new St()[t](r,s||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var t=new St;return this.transform(t.translate.apply(t,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var t=R.read(arguments);this.translate(this.getCenter().subtract(t))},getZoom:function(){var t=this._decompose().scaling;return(t.x+t.y)/2},setZoom:function(t){this.transform(new St().scale(t/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(t){var e=this.getRotation();e!=null&&t!=null&&this.rotate(t-e)},getScaling:function(){var t=this._decompose().scaling;return new Ft(t.x,t.y,this,"setScaling")},setScaling:function(){var t=this.getScaling(),e=R.read(arguments,0,{clone:!0,readNull:!0});t&&e&&this.scale(e.x/t.x,e.y/t.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var t=this._matrix;t.set.apply(t,arguments)},transform:function(t){this._matrix.append(t)},scrollBy:function(){this.translate(R.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(R.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(R.read(arguments))},getEventPoint:function(t){return this.viewToProject(Mt.getOffset(t,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(t,e){L&&typeof e=="string"&&(e=L.getElementById(e));var i=T?Ie:Gt;return new i(t,e)}}},new function(){if(!T)return;var t,e,i=!1,r=!1;function s(z){var q=Mt.getTarget(z);return q.getAttribute&&Gt._viewsById[q.getAttribute("id")]}function a(){var z=Gt._focused;if(!z||!z.isVisible()){for(var q=0,U=Gt._views.length;q<U;q++)if((z=Gt._views[q]).isVisible()){Gt._focused=e=z;break}}}function l(z,q,U){z._handleMouseEvent("mousemove",q,U)}var h=T.navigator,f,d,_;h.pointerEnabled||h.msPointerEnabled?(f="pointerdown MSPointerDown",d="pointermove MSPointerMove",_="pointerup pointercancel MSPointerUp MSPointerCancel"):(f="touchstart",d="touchmove",_="touchend touchcancel","ontouchstart"in T&&h.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(f+=" mousedown",d+=" mousemove",_+=" mouseup"));var g={},p={mouseout:function(z){var q=Gt._focused,U=Mt.getRelatedTarget(z);if(q&&(!U||U.nodeName==="HTML")){var j=Mt.getOffset(z,q._element),G=j.x,$=Math.abs,nt=$(G),ht=1<<25,_t=nt-ht;j.x=$(_t)<nt?_t*(G<0?-1:1):G,l(q,z,q.viewToProject(j))}},scroll:a};g[f]=function(z){var q=Gt._focused=s(z);i||(i=!0,q._handleMouseEvent("mousedown",z))},p[d]=function(z){var q=Gt._focused;if(!r){var U=s(z);U?q!==U&&(q&&l(q,z),t||(t=q),q=Gt._focused=e=U):e&&e===q&&(t&&!t.isInserted()&&(t=null),q=Gt._focused=t,t=null,a())}q&&l(q,z)},p[f]=function(){r=!0},p[_]=function(z){var q=Gt._focused;q&&i&&q._handleMouseEvent("mouseup",z),r=i=!1},Mt.add(L,p),Mt.add(T,{load:a});var w=!1,E=!1,I={doubleclick:"click",mousedrag:"mousemove"},P=!1,x,v,m,S,k,O,A,M;function N(z,q,U,j,G,$,nt){var ht=!1,_t;function vt(st,ut){if(st.responds(ut)){if(_t||(_t=new Ot(ut,j,G,q||st,$?G.subtract($):null)),st.emit(ut,_t)&&(w=!0,_t.prevented&&(E=!0),_t.stopped))return ht=!0}else{var mt=I[ut];if(mt)return vt(st,mt)}}for(;z&&z!==nt&&!vt(z,U);)z=z._parent;return ht}function B(z,q,U,j,G,$){return z._project.removeOn(U),E=w=!1,k&&N(k,null,U,j,G,$)||q&&q!==k&&!q.isDescendant(k)&&N(q,null,U==="mousedrag"?"mousemove":U,j,G,$,k)||N(z,k||q||z,U,j,G,$)}var V={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:g,_handleMouseEvent:function(z,q,U){var j=this._itemEvents,G=j.native[z],$=z==="mousemove",nt=this._scope.tool,ht=this;function _t(zt){return j.virtual[zt]||ht.responds(zt)||nt&&nt.responds(zt)}$&&i&&_t("mousedrag")&&(z="mousedrag"),U||(U=this.getEventPoint(q));var vt=this.getBounds().contains(U),st=G&&vt&&ht._project.hitTest(U,{tolerance:0,fill:!0,stroke:!0}),ut=st&&st.item||null,mt=!1,wt={};if(wt[z.substr(5)]=!0,G&&ut!==S&&(S&&N(S,null,"mouseleave",q,U),ut&&N(ut,null,"mouseenter",q,U),S=ut),P^vt&&(N(this,null,vt?"mouseenter":"mouseleave",q,U),mt=!0),(vt||wt.drag)&&!U.equals(v)&&(B(this,ut,$?z:"mousemove",q,U,v),mt=!0),P=vt,wt.down&&vt||wt.up&&x){if(B(this,ut,z,q,U,x),wt.down){if(M=ut===O&&Date.now()-A<300,m=O=ut,!E&&ut){for(var Tt=ut;Tt&&!Tt.responds("mousedrag");)Tt=Tt._parent;Tt&&(k=ut)}x=U}else wt.up&&(!E&&ut===m&&(A=Date.now(),B(this,ut,M?"doubleclick":"click",q,U,x),M=!1),m=k=null);P=!1,mt=!0}v=U,mt&&nt&&(w=nt._handleMouseEvent(z,q,U,wt)||w),q.cancelable!==!1&&(w&&!wt.move||wt.down&&_t("mouseup"))&&q.preventDefault()},_handleKeyEvent:function(z,q,U,j){var G=this._scope,$=G.tool,nt;function ht(_t){_t.responds(z)&&(n=G,_t.emit(z,nt=nt||new et(z,q,U,j)))}this.isVisible()&&(ht(this),$&&$.responds(z)&&ht($))},_countItemEvent:function(z,q){var U=this._itemEvents,j=U.native,G=U.virtual;for(var $ in V)j[$]=(j[$]||0)+(V[$][z]||0)*q;G[z]=(G[z]||0)+q},statics:{updateFocus:a,_resetState:function(){i=r=w=P=!1,t=e=x=v=m=S=k=O=A=M=null}}}}),Ie=Gt.extend({_class:"CanvasView",initialize:function(e,i){if(!(i instanceof T.HTMLCanvasElement)){var r=ot.read(arguments,1);if(r.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+b.slice(arguments,1));i=kt.getCanvas(r)}var s=this._context=i.getContext("2d");if(s.save(),this._pixelRatio=1,!/^off|false$/.test(Z.getAttribute(i,"hidpi"))){var a=T.devicePixelRatio||1,l=bt.getPrefixed(s,"backingStorePixelRatio")||1;this._pixelRatio=a/l}Gt.call(this,e,i),this._needsUpdate=!0},remove:function t(){return this._context.restore(),t.base.call(this)},_setElementSize:function t(e,i){var r=this._pixelRatio;if(t.base.call(this,e*r,i*r),r!==1){var s=this._element,a=this._context;if(!Z.hasAttribute(s,"resize")){var l=s.style;l.width=e+"px",l.height=i+"px"}a.restore(),a.save(),a.scale(r,r)}},getContext:function(){return this._context},getPixelSize:function t(e){var i=n.agent,r;if(i&&i.firefox)r=t.base.call(this,e);else{var s=this._context,a=s.font;s.font=e+" serif",r=parseFloat(s.font),s.font=a}return r},getTextWidth:function(t,e){var i=this._context,r=i.font,s=0;i.font=t;for(var a=0,l=e.length;a<l;a++)s=Math.max(s,i.measureText(e[a]).width);return i.font=r,s},update:function(){if(!this._needsUpdate)return!1;var t=this._project,e=this._context,i=this._viewSize;return e.clearRect(0,0,i.width+1,i.height+1),t&&t.draw(e,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),J=b.extend({_class:"Event",initialize:function(e){this.event=e,this.type=e&&e.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return dt.modifiers}}),et=J.extend({_class:"KeyEvent",initialize:function(e,i,r,s){this.type=e,this.event=i,this.key=r,this.character=s},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),dt=new function(){var t={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},e={tab:"	",space:" ",enter:"\r"},i={},r={},s,a,l=new b({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var d=n&&n.agent;return d&&d.mac?this.meta:this.control}}});function h(d){var _=d.key||d.keyIdentifier;return _=/^U\+/.test(_)?String.fromCharCode(parseInt(_.substr(2),16)):/^Arrow[A-Z]/.test(_)?_.substr(5):_==="Unidentified"||_===y?String.fromCharCode(d.keyCode):_,t[_]||(_.length>1?b.hyphenate(_):_.toLowerCase())}function f(d,_,g,p){var w=Gt._focused,E;if(i[_]=d,d?r[_]=g:delete r[_],_.length>1&&(E=b.camelize(_))in l){l[E]=d;var I=n&&n.agent;if(E==="meta"&&I&&I.mac)if(d)s={};else{for(var P in s)P in r&&f(!1,P,s[P],p);s=null}}else d&&s&&(s[_]=g);w&&w._handleKeyEvent(d?"keydown":"keyup",p,_,g)}return Mt.add(L,{keydown:function(d){var _=h(d),g=n&&n.agent;_.length>1||g&&g.chrome&&(d.altKey||g.mac&&d.metaKey||!g.mac&&d.ctrlKey)?f(!0,_,e[_]||(_.length>1?"":_),d):a=_},keypress:function(d){if(a){var _=h(d),g=d.charCode,p=g>=32?String.fromCharCode(g):_.length>1?"":_;_!==a&&(_=p.toLowerCase()),f(!0,_,p,d),a=null}},keyup:function(d){var _=h(d);_ in r&&f(!1,_,r[_],d)}}),Mt.add(T,{blur:function(d){for(var _ in r)f(!1,_,r[_],d)}}),{modifiers:l,isDown:function(d){return!!i[d]}}},Ot=J.extend({_class:"MouseEvent",initialize:function(e,i,r,s,a){this.type=e,this.event=i,this.point=r,this.target=s,this.delta=a},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),xt=J.extend({_class:"ToolEvent",_item:null,initialize:function(e,i,r){this.tool=e,this.type=i,this.event=r},_choosePoint:function(t,e){return t||(e?e.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(t){this._point=t},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(t){this._lastPoint=t},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(t){this._downPoint=t},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(t){this._middlePoint=t},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(t){this._delta=t},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(t){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=t},getItem:function(){if(!this._item){var t=this.tool._scope.project.hitTest(this.getPoint());if(t){for(var e=t.item,i=e._parent;/^(Group|CompoundPath)$/.test(i._class);)e=i,i=i._parent;this._item=e}}return this._item},setItem:function(t){this._item=t},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}}),Lt=K.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(e){K.call(this),this._moveCount=-1,this._downCount=-1,this.set(e)},getMinDistance:function(){return this._minDistance},setMinDistance:function(t){this._minDistance=t,t!=null&&this._maxDistance!=null&&t>this._maxDistance&&(this._maxDistance=t)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(t){this._maxDistance=t,this._minDistance!=null&&t!=null&&t<this._minDistance&&(this._minDistance=t)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(t){this._minDistance=this._maxDistance=t},_handleMouseEvent:function(t,e,i,r){n=this._scope,r.drag&&!this.responds(t)&&(t="mousemove");var s=r.move||r.drag,a=this.responds(t),l=!1,h=this;function f(_,g){var p=i,w=s?h._point:h._downPoint||p;if(s){if(h._moveCount>=0&&p.equals(w))return!1;if(w&&(_!=null||g!=null)){var E=p.subtract(w),I=E.getLength();if(I<(_||0))return!1;g&&(p=w.add(E.normalize(Math.min(I,g))))}h._moveCount++}return h._point=p,h._lastPoint=w||p,r.down&&(h._moveCount=-1,h._downPoint=p,h._downCount++),!0}function d(){a&&(l=h.emit(t,new xt(h,t,e))||l)}if(r.down)f(),d();else if(r.up)f(null,this._maxDistance),d();else if(a)for(;f(this._minDistance,this._maxDistance);)d();return l}}),jt=b.extend(W,{_class:"Tween",statics:{easings:new b({linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+2*(2-t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}})},initialize:function t(e,i,r,s,a,l){this.object=e;var h=typeof a,f=h==="function";this.type=f?h:h==="string"?a:"linear",this.easing=f?a:t.easings[this.type],this.duration=s,this.running=!1,this._then=null,this._startTime=null;var d=i||r;this._keys=d?Object.keys(d):[],this._parsedKeys=this._parseKeys(this._keys),this._from=d&&this._getState(i),this._to=d&&this._getState(r),l!==!1&&this.start()},then:function(t){return this._then=t,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(t){if(this.running){t>=1&&(t=1,this.running=!1);for(var e=this.easing(t),i=this._keys,r=function(_){return typeof _=="function"?_(e,t):_},s=0,a=i&&i.length;s<a;s++){var l=i[s],h=r(this._from[l]),f=r(this._to[l]),d=h&&f&&h.__add&&f.__add?f.__subtract(h).__multiply(e).__add(h):(f-h)*e+h;this._setProperty(this._parsedKeys[l],d)}this.responds("update")&&this.emit("update",new b({progress:t,factor:e})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(t){var e=this._startTime,i=e?(t-e)/this.duration:0;e||(this._startTime=t),this.update(i)},_getState:function(t){for(var e=this._keys,i={},r=0,s=e.length;r<s;r++){var a=e[r],l=this._parsedKeys[a],h=this._getProperty(l),f;if(t){var d=this._resolveValue(h,t[a]);this._setProperty(l,d),f=this._getProperty(l),f=f&&f.clone?f.clone():f,this._setProperty(l,h)}else f=h&&h.clone?h.clone():h;i[a]=f}return i},_resolveValue:function(t,e){if(e){if(Array.isArray(e)&&e.length===2){var i=e[0];return i&&i.match&&i.match(/^[+\-\*\/]=/)?this._calculate(t,i[0],e[1]):e}else if(typeof e=="string"){var r=e.match(/^[+\-*/]=(.*)/);if(r){var s=JSON.parse(r[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(t,e[0],s)}}}return e},_calculate:function(t,e,i){return n.PaperScript.calculateBinary(t,e,i)},_parseKeys:function(t){for(var e={},i=0,r=t.length;i<r;i++){var s=t[i],a=s.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");e[s]=a.split("/")}return e},_getProperty:function(t,e){for(var i=this.object,r=0,s=t.length-(e||0);r<s&&i;r++)i=i[t[r]];return i},_setProperty:function(t,e){var i=this._getProperty(t,1);i&&(i[t[t.length-1]]=e)}}),At={request:function(t){var e=new c.XMLHttpRequest;return e.open((t.method||"get").toUpperCase(),t.url,b.pick(t.async,!0)),t.mimeType&&e.overrideMimeType(t.mimeType),e.onload=function(){var i=e.status;i===0||i===200?t.onLoad&&t.onLoad.call(e,e.responseText):e.onerror()},e.onerror=function(){var i=e.status,r='Could not load "'+t.url+'" (Status: '+i+")";if(t.onError)t.onError(r,i);else throw new Error(r)},e.send(null)}},kt=b.exports.CanvasProvider={canvases:[],getCanvas:function(t,e,i){if(!T)return null;var r,s=!0;typeof t=="object"&&(e=t.height,t=t.width),this.canvases.length?r=this.canvases.pop():(r=L.createElement("canvas"),s=!1);var a=r.getContext("2d",i||{});if(!a)throw new Error("Canvas "+r+" is unable to provide a 2D context.");return r.width===t&&r.height===e?s&&a.clearRect(0,0,t+1,e+1):(r.width=t,r.height=e),a.save(),r},getContext:function(t,e,i){var r=this.getCanvas(t,e,i);return r?r.getContext("2d",i||{}):null},release:function(t){var e=t&&t.canvas?t.canvas:t;e&&e.getContext&&(e.getContext("2d").restore(),this.canvases.push(e))}},yt=new function(){var t=Math.min,e=Math.max,i=Math.abs,r,s,a,l,h,f,d,_,g,p,w;function E(k,O,A){return .2989*k+.587*O+.114*A}function I(k,O,A,B){var N=B-E(k,O,A);g=k+N,p=O+N,w=A+N;var B=E(g,p,w),V=t(g,p,w),z=e(g,p,w);if(V<0){var q=B-V;g=B+(g-B)*B/q,p=B+(p-B)*B/q,w=B+(w-B)*B/q}if(z>255){var U=255-B,j=z-B;g=B+(g-B)*U/j,p=B+(p-B)*U/j,w=B+(w-B)*U/j}}function P(k,O,A){return e(k,O,A)-t(k,O,A)}function x(k,O,A,M){var N=[k,O,A],B=e(k,O,A),V=t(k,O,A),z;V=V===k?0:V===O?1:2,B=B===k?0:B===O?1:2,z=t(V,B)===0?e(V,B)===1?2:1:0,N[B]>N[V]?(N[z]=(N[z]-N[V])*M/(N[B]-N[V]),N[B]=M):N[z]=N[B]=0,N[V]=0,g=N[0],p=N[1],w=N[2]}var v={multiply:function(){g=h*r/255,p=f*s/255,w=d*a/255},screen:function(){g=h+r-h*r/255,p=f+s-f*s/255,w=d+a-d*a/255},overlay:function(){g=h<128?2*h*r/255:255-2*(255-h)*(255-r)/255,p=f<128?2*f*s/255:255-2*(255-f)*(255-s)/255,w=d<128?2*d*a/255:255-2*(255-d)*(255-a)/255},"soft-light":function(){var k=r*h/255;g=k+h*(255-(255-h)*(255-r)/255-k)/255,k=s*f/255,p=k+f*(255-(255-f)*(255-s)/255-k)/255,k=a*d/255,w=k+d*(255-(255-d)*(255-a)/255-k)/255},"hard-light":function(){g=r<128?2*r*h/255:255-2*(255-r)*(255-h)/255,p=s<128?2*s*f/255:255-2*(255-s)*(255-f)/255,w=a<128?2*a*d/255:255-2*(255-a)*(255-d)/255},"color-dodge":function(){g=h===0?0:r===255?255:t(255,255*h/(255-r)),p=f===0?0:s===255?255:t(255,255*f/(255-s)),w=d===0?0:a===255?255:t(255,255*d/(255-a))},"color-burn":function(){g=h===255?255:r===0?0:e(0,255-(255-h)*255/r),p=f===255?255:s===0?0:e(0,255-(255-f)*255/s),w=d===255?255:a===0?0:e(0,255-(255-d)*255/a)},darken:function(){g=h<r?h:r,p=f<s?f:s,w=d<a?d:a},lighten:function(){g=h>r?h:r,p=f>s?f:s,w=d>a?d:a},difference:function(){g=h-r,g<0&&(g=-g),p=f-s,p<0&&(p=-p),w=d-a,w<0&&(w=-w)},exclusion:function(){g=h+r*(255-h-h)/255,p=f+s*(255-f-f)/255,w=d+a*(255-d-d)/255},hue:function(){x(r,s,a,P(h,f,d)),I(g,p,w,E(h,f,d))},saturation:function(){x(h,f,d,P(r,s,a)),I(g,p,w,E(h,f,d))},luminosity:function(){I(h,f,d,E(r,s,a))},color:function(){I(r,s,a,E(h,f,d))},add:function(){g=t(h+r,255),p=t(f+s,255),w=t(d+a,255)},subtract:function(){g=e(h-r,0),p=e(f-s,0),w=e(d-a,0)},average:function(){g=(h+r)/2,p=(f+s)/2,w=(d+a)/2},negation:function(){g=255-i(255-r-h),p=255-i(255-s-f),w=255-i(255-a-d)}},m=this.nativeModes=b.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(k){this[k]=!0},{}),S=kt.getContext(1,1,{willReadFrequently:!0});S&&(b.each(v,function(k,O){var A=O==="darken",M=!1;S.save();try{S.fillStyle=A?"#300":"#a00",S.fillRect(0,0,1,1),S.globalCompositeOperation=O,S.globalCompositeOperation===O&&(S.fillStyle=A?"#a00":"#300",S.fillRect(0,0,1,1),M=S.getImageData(0,0,1,1).data[0]!==A?170:51)}catch{}S.restore(),m[O]=M}),kt.release(S)),this.process=function(k,O,A,M,N){var B=O.canvas,V=k==="normal";if(V||m[k])A.save(),A.setTransform(1,0,0,1,0,0),A.globalAlpha=M,V||(A.globalCompositeOperation=k),A.drawImage(B,N.x,N.y),A.restore();else{var z=v[k];if(!z)return;for(var q=A.getImageData(N.x,N.y,B.width,B.height),U=q.data,j=O.getImageData(0,0,B.width,B.height).data,G=0,$=U.length;G<$;G+=4){r=j[G],h=U[G],s=j[G+1],f=U[G+1],a=j[G+2],d=U[G+2],l=j[G+3],_=U[G+3],z();var nt=l*M/255,ht=1-nt;U[G]=nt*g+ht*h,U[G+1]=nt*p+ht*f,U[G+2]=nt*w+ht*d,U[G+3]=l*M+ht*_}A.putImageData(q,N.x,N.y)}}},Zt=new function(){var t="http://www.w3.org/2000/svg",e="http://www.w3.org/2000/xmlns",i="http://www.w3.org/1999/xlink",r={href:i,xlink:e,xmlns:e+"/","xmlns:xlink":e+"/"};function s(h,f,d){return l(L.createElementNS(t,h),f,d)}function a(h,f){var d=r[f],_=d?h.getAttributeNS(d,f):h.getAttribute(f);return _==="null"?null:_}function l(h,f,d){for(var _ in f){var g=f[_],p=r[_];typeof g=="number"&&d&&(g=d.number(g)),p?h.setAttributeNS(p,_,g):h.setAttribute(_,g)}return h}return{svg:t,xmlns:e,xlink:i,create:s,get:a,set:l}},Et=b.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(t,e){return!e&&(t instanceof ae||t instanceof ue||t instanceof Ve)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(t,e){var i=b.capitalize(e),r=t[2];this[e]={type:t[1],property:e,attribute:t[0],toSVG:r,fromSVG:r&&b.each(r,function(s,a){this[s]=a},{}),exportFilter:t[3],get:"get"+i,set:"set"+i}},{});new function(){var t;function e(v,m,S){var k=new b,O=v.getTranslation();if(m){var A;v.isInvertible()?(v=v._shiftless(),A=v._inverseTransform(O),O=null):A=new R,k[S?"cx":"x"]=A.x,k[S?"cy":"y"]=A.y}if(!v.isIdentity()){var M=v.decompose();if(M){var N=[],B=M.rotation,V=M.scaling,z=M.skewing;O&&!O.isZero()&&N.push("translate("+t.point(O)+")"),B&&N.push("rotate("+t.number(B)+")"),(!Y.isZero(V.x-1)||!Y.isZero(V.y-1))&&N.push("scale("+t.point(V)+")"),z.x&&N.push("skewX("+t.number(z.x)+")"),z.y&&N.push("skewY("+t.number(z.y)+")"),k.transform=N.join(" ")}else k.transform="matrix("+v.getValues().join(",")+")"}return k}function i(v,m){for(var S=e(v._matrix),k=v._children,O=Zt.create("g",S,t),A=0,M=k.length;A<M;A++){var N=k[A],B=P(N,m);if(B)if(N.isClipMask()){var V=Zt.create("clipPath");V.appendChild(B),E(N,V,"clip"),Zt.set(O,{"clip-path":"url(#"+V.id+")"})}else O.appendChild(B)}return O}function r(v,m){var S=e(v._matrix,!0),k=v.getSize(),O=v.getImage();return S.x-=k.width/2,S.y-=k.height/2,S.width=k.width,S.height=k.height,S.href=m.embedImages==!1&&O&&O.src||v.toDataURL(),Zt.create("image",S,t)}function s(v,m){var S=m.matchShapes;if(S){var k=v.toShape(!1);if(k)return a(k)}var O=v._segments,A=O.length,M,N=e(v._matrix);if(S&&A>=2&&!v.hasHandles())if(A>2){M=v._closed?"polygon":"polyline";for(var B=[],V=0;V<A;V++)B.push(t.point(O[V]._point));N.points=B.join(" ")}else{M="line";var z=O[0]._point,q=O[1]._point;N.set({x1:z.x,y1:z.y,x2:q.x,y2:q.y})}else M="path",N.d=v.getPathData(null,m.precision);return Zt.create(M,N,t)}function a(v){var m=v._type,S=v._radius,k=e(v._matrix,!0,m!=="rectangle");if(m==="rectangle"){m="rect";var O=v._size,A=O.width,M=O.height;k.x-=A/2,k.y-=M/2,k.width=A,k.height=M,S.isZero()&&(S=null)}return S&&(m==="circle"?k.r=S:(k.rx=S.width,k.ry=S.height)),Zt.create(m,k,t)}function l(v,m){var S=e(v._matrix),k=v.getPathData(null,m.precision);return k&&(S.d=k),Zt.create("path",S,t)}function h(v,m){var S=e(v._matrix,!0),k=v._definition,O=w(k,"symbol"),A=k._item,M=A.getStrokeBounds();return O||(O=Zt.create("symbol",{viewBox:t.rectangle(M)}),O.appendChild(P(A,m)),E(k,O,"symbol")),S.href="#"+O.id,S.x+=M.x,S.y+=M.y,S.width=M.width,S.height=M.height,S.overflow="visible",Zt.create("use",S,t)}function f(v){var m=w(v,"color");if(!m){var S=v.getGradient(),k=S._radial,O=v.getOrigin(),A=v.getDestination(),M;if(k){M={cx:O.x,cy:O.y,r:O.getDistance(A)};var N=v.getHighlight();N&&(M.fx=N.x,M.fy=N.y)}else M={x1:O.x,y1:O.y,x2:A.x,y2:A.y};M.gradientUnits="userSpaceOnUse",m=Zt.create((k?"radial":"linear")+"Gradient",M,t);for(var B=S._stops,V=0,z=B.length;V<z;V++){var q=B[V],U=q._color,j=U.getAlpha(),G=q._offset;M={offset:G??V/(z-1)},U&&(M["stop-color"]=U.toCSS(!0)),j<1&&(M["stop-opacity"]=j),m.appendChild(Zt.create("stop",M,t))}E(v,m,"color")}return"url(#"+m.id+")"}function d(v){var m=Zt.create("text",e(v._matrix,!0),t);return m.textContent=v._content,m}var _={Group:i,Layer:i,Raster:r,Path:s,Shape:a,CompoundPath:l,SymbolItem:h,PointText:d};function g(v,m,S,k){var O={},A=!k&&v.getParent(),M=[];return v._name!=null&&(O.id=v._name),b.each(Et,function(N){var B=N.get,V=N.type,z=v[B]();if(N.exportFilter?N.exportFilter(v,z):S.reduceAttributes==!1||!A||!b.equals(A[B](),z)){if(V==="color"&&z!=null){var q=z.getAlpha();q<1&&(O[N.attribute+"-opacity"]=q)}V==="style"?M.push(N.attribute+": "+z):O[N.attribute]=z==null?"none":V==="color"?z.gradient?f(z):z.toCSS(!0):V==="array"?z.join(","):V==="lookup"?N.toSVG[z]:z}}),M.length&&(O.style=M.join(";")),O.opacity===1&&delete O.opacity,v._visible||(O.visibility="hidden"),Zt.set(m,O,t)}var p;function w(v,m){return p||(p={ids:{},svgs:{}}),v&&p.svgs[m+"-"+(v._id||v.__id||(v.__id=lt.get("svg")))]}function E(v,m,S){p||w();var k=p.ids[S]=(p.ids[S]||0)+1;m.id=S+"-"+k,p.svgs[S+"-"+(v._id||v.__id)]=m}function I(v,m){var S=v,k=null;if(p){S=v.nodeName.toLowerCase()==="svg"&&v;for(var O in p.svgs)k||(S||(S=Zt.create("svg"),S.appendChild(v)),k=S.insertBefore(Zt.create("defs"),S.firstChild)),k.appendChild(p.svgs[O]);p=null}return m.asString?new c.XMLSerializer().serializeToString(S):S}function P(v,m,S){var k=_[v._class],O=k&&k(v,m);if(O){var A=m.onExport;A&&(O=A(v,O,m)||O);var M=JSON.stringify(v._data);M&&M!=="{}"&&M!=="null"&&O.setAttribute("data-paper-data",M)}return O&&g(v,O,m,S)}function x(v){return v||(v={}),t=new Q(v.precision),v}D.inject({exportSVG:function(v){return v=x(v),I(P(this,v,!0),v)}}),Xt.inject({exportSVG:function(v){v=x(v);var m=this._children,S=this.getView(),k=b.pick(v.bounds,"view"),O=v.matrix||k==="view"&&S._matrix,A=O&&St.read([O]),M=k==="view"?new ct([0,0],S.getViewSize()):k==="content"?D._getBounds(m,A,{stroke:!0}).rect:ct.read([k],0,{readNull:!0}),N={version:"1.1",xmlns:Zt.svg,"xmlns:xlink":Zt.xlink};M&&(N.width=M.width,N.height=M.height,(M.x||M.x===0||M.y||M.y===0)&&(N.viewBox=t.rectangle(M)));var B=Zt.create("svg",N,t),V=B;A&&!A.isIdentity()&&(V=B.appendChild(Zt.create("g",e(A),t)));for(var z=0,q=m.length;z<q;z++)V.appendChild(P(m[z],v,!0));return I(B,v)}})},new function(){var t={},e;function i(m,S,k,O,A,M){var N=Zt.get(m,S)||M,B=N==null?O?null:k?"":0:k?N:parseFloat(N);return/%\s*$/.test(N)?B/100*(A?1:e[/x|^width/.test(S)?"width":"height"]):B}function r(m,S,k,O,A,M,N){return S=i(m,S||"x",!1,O,A,M),k=i(m,k||"y",!1,O,A,N),O&&(S==null||k==null)?null:new R(S,k)}function s(m,S,k,O,A){return S=i(m,S||"width",!1,O,A),k=i(m,k||"height",!1,O,A),O&&(S==null||k==null)?null:new ot(S,k)}function a(m,S,k){return m==="none"?null:S==="number"?parseFloat(m):S==="array"?m?m.split(/[\s,]+/g).map(parseFloat):[]:S==="color"?P(m)||m:S==="lookup"?k[m]:m}function l(m,S,k,O){var A=m.childNodes,M=S==="clippath",N=S==="defs",B=new $t,V=B._project,z=V._currentStyle,q=[];if(!M&&!N&&(B=I(B,m,O),V._currentStyle=B._style.clone()),O)for(var U=m.querySelectorAll("defs"),j=0,G=U.length;j<G;j++)x(U[j],k,!1);for(var j=0,G=A.length;j<G;j++){var $=A[j],nt;$.nodeType===1&&!/^defs$/i.test($.nodeName)&&(nt=x($,k,!1))&&!(nt instanceof _e)&&q.push(nt)}return B.addChildren(q),M&&(B=I(B.reduce(),m,O)),V._currentStyle=z,(M||N)&&(B.remove(),B=null),B}function h(m,S){for(var k=m.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),O=[],A=0,M=k.length;A<M;A+=2)O.push(new R(parseFloat(k[A]),parseFloat(k[A+1])));var N=new qt(O);return S==="polygon"&&N.closePath(),N}function f(m){return ae.create(m.getAttribute("d"))}function d(m,S){var k=(i(m,"href",!0)||"").substring(1),O=S==="radialgradient",A;if(k)A=t[k].getGradient(),A._radial^O&&(A=A.clone(),A._radial=O);else{for(var M=m.childNodes,N=[],B=0,V=M.length;B<V;B++){var z=M[B];z.nodeType===1&&N.push(I(new Ct,z))}A=new Fe(N,O)}var q,U,j,G=i(m,"gradientUnits",!0)!=="userSpaceOnUse";O?(q=r(m,"cx","cy",!1,G,"50%","50%"),U=q.add(i(m,"r",!1,!1,G,"50%"),0),j=r(m,"fx","fy",!0,G)):(q=r(m,"x1","y1",!1,G,"0%","0%"),U=r(m,"x2","y2",!1,G,"100%","0%"));var $=I(new ne(A,q,U,j),m);return $._scaleToBounds=G,null}var _={"#document":function(m,S,k,O){for(var A=m.childNodes,M=0,N=A.length;M<N;M++){var B=A[M];if(B.nodeType===1)return x(B,k,O)}},g:l,svg:l,clippath:l,polygon:h,polyline:h,path:f,lineargradient:d,radialgradient:d,image:function(m){var S=new Re(i(m,"href",!0));return S.on("load",function(){var k=s(m);this.setSize(k);var O=r(m).add(k.divide(2));this._matrix.append(new St().translate(O))}),S},symbol:function(m,S,k,O){return new _e(l(m,S,k,O),!0)},defs:l,use:function(m){var S=(i(m,"href",!0)||"").substring(1),k=t[S],O=r(m);return k?k instanceof _e?k.place(O):k.clone().translate(O):null},circle:function(m){return new ue.Circle(r(m,"cx","cy"),i(m,"r"))},ellipse:function(m){return new ue.Ellipse({center:r(m,"cx","cy"),radius:s(m,"rx","ry")})},rect:function(m){return new ue.Rectangle(new ct(r(m),s(m)),s(m,"rx","ry"))},line:function(m){return new qt.Line(r(m,"x1","y1"),r(m,"x2","y2"))},text:function(m){var S=new li(r(m).add(r(m,"dx","dy")));return S.setContent(m.textContent.trim()||""),S},switch:l};function g(m,S,k,O){if(m.transform){for(var A=(O.getAttribute(k)||"").split(/\)\s*/g),M=new St,N=0,B=A.length;N<B;N++){var V=A[N];if(!V)break;for(var z=V.split(/\(\s*/),q=z[0].trim(),U=z[1].split(/[\s,]+/g),j=0,G=U.length;j<G;j++)U[j]=parseFloat(U[j]);switch(q){case"matrix":M.append(new St(U[0],U[1],U[2],U[3],U[4],U[5]));break;case"rotate":M.rotate(U[0],U[1]||0,U[2]||0);break;case"translate":M.translate(U[0],U[1]||0);break;case"scale":M.scale(U);break;case"skewX":M.skew(U[0],0);break;case"skewY":M.skew(0,U[0]);break}}m.transform(M)}}function p(m,S,k){var O=k==="fill-opacity"?"getFillColor":"getStrokeColor",A=m[O]&&m[O]();A&&A.setAlpha(parseFloat(S))}var w=b.set(b.each(Et,function(m){this[m.attribute]=function(S,k){if(S[m.set]&&(S[m.set](a(k,m.type,m.fromSVG)),m.type==="color")){var O=S[m.get]();if(O&&O._scaleToBounds){var A=S.getBounds();O.transform(new St().translate(A.getPoint()).scale(A.getSize()))}}}},{}),{id:function(m,S){t[S]=m,m.setName&&m.setName(S)},"clip-path":function(m,S){var k=P(S);if(k)if(k=k.clone(),k.setClipMask(!0),m instanceof $t)m.insertChild(0,k);else return new $t(k,m)},gradientTransform:g,transform:g,"fill-opacity":p,"stroke-opacity":p,visibility:function(m,S){m.setVisible&&m.setVisible(S==="visible")},display:function(m,S){m.setVisible&&m.setVisible(S!==null)},"stop-color":function(m,S){m.setColor&&m.setColor(S)},"stop-opacity":function(m,S){m._color&&m._color.setAlpha(parseFloat(S))},offset:function(m,S){if(m.setOffset){var k=S.match(/(.*)%$/);m.setOffset(k?k[1]/100:parseFloat(S))}},viewBox:function(m,S,k,O,A){var M=new ct(a(S,"array")),N=s(O,null,null,!0),B,V;if(m instanceof $t){var z=N?N.divide(M.getSize()):1,V=new St().scale(z).translate(M.getPoint().negate());B=m}else m instanceof _e&&(N&&M.setSize(N),B=m._item);if(B){if(E(O,"overflow",A)!=="visible"){var q=new ue.Rectangle(M);q.setClipMask(!0),B.addChild(q)}V&&B.transform(V)}}});function E(m,S,k){var O=m.attributes[S],A=O&&O.value;if(!A&&m.style){var M=b.camelize(S);A=m.style[M],!A&&k.node[M]!==k.parent[M]&&(A=k.node[M])}return A?A==="none"?null:A:y}function I(m,S,k){var O=S.parentNode,A={node:bt.getStyles(S)||{},parent:!k&&!/^defs$/i.test(O.tagName)&&bt.getStyles(O)||{}};return b.each(w,function(M,N){var B=E(S,N,A);m=B!==y&&M(m,B,N,S,A)||m}),m}function P(m){var S=m&&m.match(/\((?:["'#]*)([^"')]+)/),k=S&&S[1],O=k&&t[T?k.replace(T.location.href.split("#")[0]+"#",""):k];return O&&O._scaleToBounds&&(O=O.clone(),O._scaleToBounds=!0),O}function x(m,S,k){var O=m.nodeName.toLowerCase(),A=O!=="#document",M=L.body,N,B,V;k&&A&&(e=n.getView().getSize(),e=s(m,null,null,!0)||e,N=Zt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),B=m.parentNode,V=m.nextSibling,N.appendChild(m),M.appendChild(N));var z=n.settings,q=z.applyMatrix,U=z.insertItems;z.applyMatrix=!1,z.insertItems=!1;var j=_[O],G=j&&j(m,O,S,k)||null;if(z.insertItems=U,z.applyMatrix=q,G){A&&!(G instanceof $t)&&(G=I(G,m,k));var $=S.onImport,nt=A&&m.getAttribute("data-paper-data");$&&(G=$(m,G,S)||G),S.expandShapes&&G instanceof ue&&(G.remove(),G=G.toPath()),nt&&(G._data=JSON.parse(nt))}return N&&(M.removeChild(N),B&&(V?B.insertBefore(m,V):B.appendChild(m))),k&&(t={},G&&b.pick(S.applyMatrix,q)&&G.matrix.apply(!0,!0)),G}function v(m,S,k){if(!m)return null;S=typeof S=="function"?{onLoad:S}:S||{};var O=n,A=null;function M(z){try{var q=typeof z=="object"?z:new c.DOMParser().parseFromString(z.trim(),"image/svg+xml");if(!q.nodeName)throw q=null,new Error("Unsupported SVG source: "+m);n=O,A=x(q,S,!0),(!S||S.insert!==!1)&&k._insertItem(y,A);var U=S.onLoad;U&&U(A,z)}catch(j){N(j)}}function N(z,q){var U=S.onError;if(U)U(z,q);else throw new Error(z)}if(typeof m=="string"&&!/^[\s\S]*</.test(m)){var B=L.getElementById(m);B?M(B):At.request({url:m,async:!0,onLoad:M,onError:N})}else if(typeof File<"u"&&m instanceof File){var V=new FileReader;return V.onload=function(){M(V.result)},V.onerror=function(){N(V.error)},V.readAsText(m)}else M(m);return A}D.inject({importSVG:function(m,S){return v(m,S,this)}}),Xt.inject({importSVG:function(m,S){return this.activate(),v(m,S,this)}})},b.exports.PaperScript=(function(){var t=this,e=t.acorn;if(!e&&typeof jc<"u")try{e=Zc()}catch{}if(!e){var i,r;e=i=r={},function(I,P){if(typeof i=="object"&&typeof r=="object")return P(i);if(typeof y=="function"&&y.amd)return y(["exports"],P);P(I.acorn||(I.acorn={}))}(this,function(I){I.version="0.5.0";var P,x,v,m;I.parse=function(tt,it){return x=String(tt),v=x.length,k(it),pa(),tl(P.program)};var S=I.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function k(tt){P=tt||{};for(var it in S)Object.prototype.hasOwnProperty.call(P,it)||(P[it]=S[it]);m=P.sourceFile||null}var O=I.getLineInfo=function(tt,it){for(var gt=1,Pt=0;;){Sn.lastIndex=Pt;var ie=Sn.exec(tt);if(ie&&ie.index<it)++gt,Pt=ie.index+ie[0].length;else break}return{line:gt,column:it-Pt}};I.tokenize=function(tt,it){x=String(tt),v=x.length,k(it),pa();var gt={};function Pt(ie){return nt=N,hn(ie),gt.start=M,gt.end=N,gt.startLoc=B,gt.endLoc=V,gt.type=z,gt.value=q,gt}return Pt.jumpTo=function(ie,se){if(A=ie,P.locations){j=1,G=Sn.lastIndex=0;for(var oe;(oe=Sn.exec(x))&&oe.index<ie;)++j,G=oe.index+oe[0].length}U=se,Cn()},Pt};var A,M,N,B,V,z,q,U,j,G,$,nt,ht,_t,vt,st;function ut(tt,it){var gt=O(x,tt);it+=" ("+gt.line+":"+gt.column+")";var Pt=new SyntaxError(it);throw Pt.pos=tt,Pt.loc=gt,Pt.raisedAt=A,Pt}var mt=[],wt={type:"num"},Tt={type:"regexp"},zt={type:"string"},Bt={type:"name"},Ht={type:"eof"},Ut={keyword:"break"},Jt={keyword:"case",beforeExpr:!0},ge={keyword:"catch"},ve={keyword:"continue"},Nt={keyword:"debugger"},ee={keyword:"default"},Qt={keyword:"do",isLoop:!0},me={keyword:"else",beforeExpr:!0},we={keyword:"finally"},Ee={keyword:"for",isLoop:!0},je={keyword:"function"},We={keyword:"if"},De={keyword:"return",beforeExpr:!0},Me={keyword:"switch"},ye={keyword:"throw",beforeExpr:!0},Ce={keyword:"try"},Ke={keyword:"var"},ei={keyword:"while",isLoop:!0},wn={keyword:"with"},cr={keyword:"new",beforeExpr:!0},dr={keyword:"this"},pr={keyword:"null",atomValue:null},an={keyword:"true",atomValue:!0},Fn={keyword:"false",atomValue:!1},on={keyword:"in",binop:7,beforeExpr:!0},xn={break:Ut,case:Jt,catch:ge,continue:ve,debugger:Nt,default:ee,do:Qt,else:me,finally:we,for:Ee,function:je,if:We,return:De,switch:Me,throw:ye,try:Ce,var:Ke,while:ei,with:wn,null:pr,true:an,false:Fn,new:cr,in:on,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:dr,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Oi={type:"[",beforeExpr:!0},he={type:"]"},Hi={type:"{",beforeExpr:!0},Ci={type:"}"},fi={type:"(",beforeExpr:!0},hi={type:")"},vi={type:",",beforeExpr:!0},gi={type:";",beforeExpr:!0},Ui={type:":",beforeExpr:!0},o={type:"."},C={type:"?",beforeExpr:!0},F={binop:10,beforeExpr:!0},H={isAssign:!0,beforeExpr:!0},X={isAssign:!0,beforeExpr:!0},ft={postfix:!0,prefix:!0,isUpdate:!0},pt={prefix:!0,beforeExpr:!0},Dt={binop:1,beforeExpr:!0},Wt={binop:2,beforeExpr:!0},le={binop:3,beforeExpr:!0},re={binop:4,beforeExpr:!0},qe={binop:5,beforeExpr:!0},Mi={binop:6,beforeExpr:!0},un={binop:7,beforeExpr:!0},ji={binop:8,beforeExpr:!0},bn={binop:9,prefix:!0,beforeExpr:!0},Wi={binop:10,beforeExpr:!0};I.tokTypes={bracketL:Oi,bracketR:he,braceL:Hi,braceR:Ci,parenL:fi,parenR:hi,comma:vi,semi:gi,colon:Ui,dot:o,question:C,slash:F,eq:H,name:Bt,eof:Ht,num:wt,regexp:Tt,string:zt};for(var Li in xn)I.tokTypes["_"+Li]=xn[Li];function Bn(tt){tt=tt.split(" ");var it="",gt=[];t:for(var Pt=0;Pt<tt.length;++Pt){for(var ie=0;ie<gt.length;++ie)if(gt[ie][0].length==tt[Pt].length){gt[ie].push(tt[Pt]);continue t}gt.push([tt[Pt]])}function se(Pe){if(Pe.length==1)return it+="return str === "+JSON.stringify(Pe[0])+";";it+="switch(str){";for(var yi=0;yi<Pe.length;++yi)it+="case "+JSON.stringify(Pe[yi])+":";it+="return true}return false;"}if(gt.length>3){gt.sort(function(Pe,yi){return yi.length-Pe.length}),it+="switch(str.length){";for(var Pt=0;Pt<gt.length;++Pt){var oe=gt[Pt];it+="case "+oe[0].length+":",se(oe)}it+="}"}else se(tt);return new Function("str",it)}var zu=Bn("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Fu=Bn("class enum extends super const export import"),ha=Bn("implements interface let package private protected public static yield"),gr=Bn("eval arguments"),Bu=Bn("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Vu=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,fa="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Du="------------------------------------------------------------------------------------------------------------------------------------------",ca=new RegExp("["+fa+"]"),qu=new RegExp("["+fa+Du+"]"),_r=/[\n\r\u2028\u2029]/,Sn=/\r\n|[\n\r\u2028\u2029]/g,vr=I.isIdentifierStart=function(tt){return tt<65?tt===36:tt<91?!0:tt<97?tt===95:tt<123?!0:tt>=170&&ca.test(String.fromCharCode(tt))},da=I.isIdentifierChar=function(tt){return tt<48?tt===36:tt<58?!0:tt<65?!1:tt<91?!0:tt<97?tt===95:tt<123?!0:tt>=170&&qu.test(String.fromCharCode(tt))};function ln(){this.line=j,this.column=A-G}function pa(){j=1,A=G=0,U=!0,Cn()}function Xe(tt,it){N=A,P.locations&&(V=new ln),z=tt,Cn(),q=it,U=tt.beforeExpr}function Hu(){var tt=P.onComment&&P.locations&&new ln,it=A,gt=x.indexOf("*/",A+=2);if(gt===-1&&ut(A-2,"Unterminated comment"),A=gt+2,P.locations){Sn.lastIndex=it;for(var Pt;(Pt=Sn.exec(x))&&Pt.index<A;)++j,G=Pt.index+Pt[0].length}P.onComment&&P.onComment(!0,x.slice(it+2,gt),it,A,tt,P.locations&&new ln)}function Yr(){for(var tt=A,it=P.onComment&&P.locations&&new ln,gt=x.charCodeAt(A+=2);A<v&&gt!==10&&gt!==13&&gt!==8232&&gt!==8233;)++A,gt=x.charCodeAt(A);P.onComment&&P.onComment(!1,x.slice(tt+2,A),tt,A,it,P.locations&&new ln)}function Cn(){for(;A<v;){var tt=x.charCodeAt(A);if(tt===32)++A;else if(tt===13){++A;var it=x.charCodeAt(A);it===10&&++A,P.locations&&(++j,G=A)}else if(tt===10||tt===8232||tt===8233)++A,P.locations&&(++j,G=A);else if(tt>8&&tt<14)++A;else if(tt===47){var it=x.charCodeAt(A+1);if(it===42)Hu();else if(it===47)Yr();else break}else if(tt===160)++A;else if(tt>=5760&&Vu.test(String.fromCharCode(tt)))++A;else break}}function Uu(){var tt=x.charCodeAt(A+1);return tt>=48&&tt<=57?_a(!0):(++A,Xe(o))}function ju(){var tt=x.charCodeAt(A+1);return U?(++A,ga()):tt===61?Ye(X,2):Ye(F,1)}function Wu(){var tt=x.charCodeAt(A+1);return tt===61?Ye(X,2):Ye(Wi,1)}function Gu(tt){var it=x.charCodeAt(A+1);return it===tt?Ye(tt===124?Dt:Wt,2):it===61?Ye(X,2):Ye(tt===124?le:qe,1)}function Zu(){var tt=x.charCodeAt(A+1);return tt===61?Ye(X,2):Ye(re,1)}function Ku(tt){var it=x.charCodeAt(A+1);return it===tt?it==45&&x.charCodeAt(A+2)==62&&_r.test(x.slice(nt,A))?(A+=3,Yr(),Cn(),hn()):Ye(ft,2):it===61?Ye(X,2):Ye(bn,1)}function Xu(tt){var it=x.charCodeAt(A+1),gt=1;return it===tt?(gt=tt===62&&x.charCodeAt(A+2)===62?3:2,x.charCodeAt(A+gt)===61?Ye(X,gt+1):Ye(ji,gt)):it==33&&tt==60&&x.charCodeAt(A+2)==45&&x.charCodeAt(A+3)==45?(A+=4,Yr(),Cn(),hn()):(it===61&&(gt=x.charCodeAt(A+2)===61?3:2),Ye(un,gt))}function Yu(tt){var it=x.charCodeAt(A+1);return it===61?Ye(Mi,x.charCodeAt(A+2)===61?3:2):Ye(tt===61?H:pt,1)}function Ju(tt){switch(tt){case 46:return Uu();case 40:return++A,Xe(fi);case 41:return++A,Xe(hi);case 59:return++A,Xe(gi);case 44:return++A,Xe(vi);case 91:return++A,Xe(Oi);case 93:return++A,Xe(he);case 123:return++A,Xe(Hi);case 125:return++A,Xe(Ci);case 58:return++A,Xe(Ui);case 63:return++A,Xe(C);case 48:var it=x.charCodeAt(A+1);if(it===120||it===88)return Qu();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return _a(!1);case 34:case 39:return $u(tt);case 47:return ju();case 37:case 42:return Wu();case 124:case 38:return Gu(tt);case 94:return Zu();case 43:case 45:return Ku(tt);case 60:case 62:return Xu(tt);case 61:case 33:return Yu(tt);case 126:return Ye(pt,1)}return!1}function hn(tt){if(tt?A=M+1:M=A,P.locations&&(B=new ln),tt)return ga();if(A>=v)return Xe(Ht);var it=x.charCodeAt(A);if(vr(it)||it===92)return ma();var gt=Ju(it);if(gt===!1){var Pt=String.fromCharCode(it);if(Pt==="\\"||ca.test(Pt))return ma();ut(A,"Unexpected character '"+Pt+"'")}return gt}function Ye(tt,it){var gt=x.slice(A,A+it);A+=it,Xe(tt,gt)}function ga(){for(var ie="",tt,it,gt=A;;){A>=v&&ut(gt,"Unterminated regular expression");var Pt=x.charAt(A);if(_r.test(Pt)&&ut(gt,"Unterminated regular expression"),tt)tt=!1;else{if(Pt==="[")it=!0;else if(Pt==="]"&&it)it=!1;else if(Pt==="/"&&!it)break;tt=Pt==="\\"}++A}var ie=x.slice(gt,A);++A;var se=va();se&&!/^[gmsiy]*$/.test(se)&&ut(gt,"Invalid regexp flag");try{var oe=new RegExp(ie,se)}catch(Pe){Pe instanceof SyntaxError&&ut(gt,Pe.message),ut(Pe)}return Xe(Tt,oe)}function Vn(tt,it){for(var gt=A,Pt=0,ie=0,se=it??1/0;ie<se;++ie){var oe=x.charCodeAt(A),Pe;if(oe>=97?Pe=oe-97+10:oe>=65?Pe=oe-65+10:oe>=48&&oe<=57?Pe=oe-48:Pe=1/0,Pe>=tt)break;++A,Pt=Pt*tt+Pe}return A===gt||it!=null&&A-gt!==it?null:Pt}function Qu(){A+=2;var tt=Vn(16);return tt==null&&ut(M+2,"Expected hexadecimal number"),vr(x.charCodeAt(A))&&ut(A,"Identifier directly after number"),Xe(wt,tt)}function _a(tt){var it=A,gt=!1,Pt=x.charCodeAt(A)===48;!tt&&Vn(10)===null&&ut(it,"Invalid number"),x.charCodeAt(A)===46&&(++A,Vn(10),gt=!0);var ie=x.charCodeAt(A);(ie===69||ie===101)&&(ie=x.charCodeAt(++A),(ie===43||ie===45)&&++A,Vn(10)===null&&ut(it,"Invalid number"),gt=!0),vr(x.charCodeAt(A))&&ut(A,"Identifier directly after number");var se=x.slice(it,A),oe;return gt?oe=parseFloat(se):!Pt||se.length===1?oe=parseInt(se,10):/[89]/.test(se)||st?ut(it,"Invalid number"):oe=parseInt(se,8),Xe(wt,oe)}function $u(tt){A++;for(var it="";;){A>=v&&ut(M,"Unterminated string constant");var gt=x.charCodeAt(A);if(gt===tt)return++A,Xe(zt,it);if(gt===92){gt=x.charCodeAt(++A);var Pt=/^[0-7]+/.exec(x.slice(A,A+3));for(Pt&&(Pt=Pt[0]);Pt&&parseInt(Pt,8)>255;)Pt=Pt.slice(0,-1);if(Pt==="0"&&(Pt=null),++A,Pt)st&&ut(A-2,"Octal literal in strict mode"),it+=String.fromCharCode(parseInt(Pt,8)),A+=Pt.length-1;else switch(gt){case 110:it+=`
`;break;case 114:it+="\r";break;case 120:it+=String.fromCharCode(mr(2));break;case 117:it+=String.fromCharCode(mr(4));break;case 85:it+=String.fromCharCode(mr(8));break;case 116:it+="	";break;case 98:it+="\b";break;case 118:it+="\v";break;case 102:it+="\f";break;case 48:it+="\0";break;case 13:x.charCodeAt(A)===10&&++A;case 10:P.locations&&(G=A,++j);break;default:it+=String.fromCharCode(gt);break}}else(gt===13||gt===10||gt===8232||gt===8233)&&ut(M,"Unterminated string constant"),it+=String.fromCharCode(gt),++A}}function mr(tt){var it=Vn(16,tt);return it===null&&ut(M,"Bad character escape sequence"),it}var Pn;function va(){Pn=!1;for(var tt,it=!0,gt=A;;){var Pt=x.charCodeAt(A);if(da(Pt))Pn&&(tt+=x.charAt(A)),++A;else if(Pt===92){Pn||(tt=x.slice(gt,A)),Pn=!0,x.charCodeAt(++A)!=117&&ut(A,"Expecting Unicode escape sequence \\uXXXX"),++A;var ie=mr(4),se=String.fromCharCode(ie);se||ut(A-1,"Invalid Unicode escape"),(it?vr(ie):da(ie))||ut(A-4,"Invalid Unicode escape"),tt+=se}else break;it=!1}return Pn?tt:x.slice(gt,A)}function ma(){var tt=va(),it=Bt;return!Pn&&Bu(tt)&&(it=xn[tt]),Xe(it,tt)}function Se(){$=M,nt=N,ht=V,hn()}function Jr(tt){if(st=tt,A=M,P.locations)for(;A<G;)G=x.lastIndexOf(`
`,G-2)+1,--j;Cn(),hn()}function ya(){this.type=null,this.start=M,this.end=null}function wa(){this.start=B,this.end=null,m!==null&&(this.source=m)}function Qe(){var tt=new ya;return P.locations&&(tt.loc=new wa),P.directSourceFile&&(tt.sourceFile=P.directSourceFile),P.ranges&&(tt.range=[M,0]),tt}function Gi(tt){var it=new ya;return it.start=tt.start,P.locations&&(it.loc=new wa,it.loc.start=tt.loc.start),P.ranges&&(it.range=[tt.range[0],0]),it}function ce(tt,it){return tt.type=it,tt.end=nt,P.locations&&(tt.loc.end=ht),P.ranges&&(tt.range[1]=nt),tt}function Qr(tt){return P.ecmaVersion>=5&&tt.type==="ExpressionStatement"&&tt.expression.type==="Literal"&&tt.expression.value==="use strict"}function Be(tt){if(z===tt)return Se(),!0}function yr(){return!P.strictSemicolons&&(z===Ht||z===Ci||_r.test(x.slice(nt,M)))}function fn(){!Be(gi)&&!yr()&&Ni()}function Ge(tt){z===tt?Se():Ni()}function Ni(){ut(M,"Unexpected token")}function wr(tt){tt.type!=="Identifier"&&tt.type!=="MemberExpression"&&ut(tt.start,"Assigning to rvalue"),st&&tt.type==="Identifier"&&gr(tt.name)&&ut(tt.start,"Assigning to "+tt.name+" in strict mode")}function tl(tt){$=nt=A,P.locations&&(ht=new ln),_t=st=null,vt=[],hn();var it=tt||Qe(),gt=!0;for(tt||(it.body=[]);z!==Ht;){var Pt=mi();it.body.push(Pt),gt&&Qr(Pt)&&Jr(!0),gt=!1}return ce(it,"Program")}var $r={kind:"loop"},el={kind:"switch"};function mi(){(z===F||z===X&&q=="/=")&&hn(!0);var tt=z,it=Qe();switch(tt){case Ut:case ve:Se();var gt=tt===Ut;Be(gi)||yr()?it.label=null:z!==Bt?Ni():(it.label=Zi(),fn());for(var Pt=0;Pt<vt.length;++Pt){var ie=vt[Pt];if((it.label==null||ie.name===it.label.name)&&(ie.kind!=null&&(gt||ie.kind==="loop")||it.label&&gt))break}return Pt===vt.length&&ut(it.start,"Unsyntactic "+tt.keyword),ce(it,gt?"BreakStatement":"ContinueStatement");case Nt:return Se(),fn(),ce(it,"DebuggerStatement");case Qt:return Se(),vt.push($r),it.body=mi(),vt.pop(),Ge(ei),it.test=Dn(),fn(),ce(it,"DoWhileStatement");case Ee:if(Se(),vt.push($r),Ge(fi),z===gi)return ts(it,null);if(z===Ke){var se=Qe();return Se(),ba(se,!0),ce(se,"VariableDeclaration"),se.declarations.length===1&&Be(on)?xa(it,se):ts(it,se)}var se=ii(!1,!0);return Be(on)?(wr(se),xa(it,se)):ts(it,se);case je:return Se(),ss(it,!0);case We:return Se(),it.test=Dn(),it.consequent=mi(),it.alternate=Be(me)?mi():null,ce(it,"IfStatement");case De:return!_t&&!P.allowReturnOutsideFunction&&ut(M,"'return' outside of function"),Se(),Be(gi)||yr()?it.argument=null:(it.argument=ii(),fn()),ce(it,"ReturnStatement");case Me:Se(),it.discriminant=Dn(),it.cases=[],Ge(Hi),vt.push(el);for(var oe,Pe;z!=Ci;)if(z===Jt||z===ee){var yi=z===Jt;oe&&ce(oe,"SwitchCase"),it.cases.push(oe=Qe()),oe.consequent=[],Se(),yi?oe.test=ii():(Pe&&ut($,"Multiple default clauses"),Pe=!0,oe.test=null),Ge(Ui)}else oe||Ni(),oe.consequent.push(mi());return oe&&ce(oe,"SwitchCase"),Se(),vt.pop(),ce(it,"SwitchStatement");case ye:return Se(),_r.test(x.slice(nt,M))&&ut(nt,"Illegal newline after throw"),it.argument=ii(),fn(),ce(it,"ThrowStatement");case Ce:if(Se(),it.block=qn(),it.handler=null,z===ge){var cn=Qe();Se(),Ge(fi),cn.param=Zi(),st&&gr(cn.param.name)&&ut(cn.param.start,"Binding "+cn.param.name+" in strict mode"),Ge(hi),cn.guard=null,cn.body=qn(),it.handler=ce(cn,"CatchClause")}return it.guardedHandlers=mt,it.finalizer=Be(we)?qn():null,!it.handler&&!it.finalizer&&ut(it.start,"Missing catch or finally clause"),ce(it,"TryStatement");case Ke:return Se(),ba(it),fn(),ce(it,"VariableDeclaration");case ei:return Se(),it.test=Dn(),vt.push($r),it.body=mi(),vt.pop(),ce(it,"WhileStatement");case wn:return st&&ut(M,"'with' in strict mode"),Se(),it.object=Dn(),it.body=mi(),ce(it,"WithStatement");case Hi:return qn();case gi:return Se(),ce(it,"EmptyStatement");default:var os=q,xr=ii();if(tt===Bt&&xr.type==="Identifier"&&Be(Ui)){for(var Pt=0;Pt<vt.length;++Pt)vt[Pt].name===os&&ut(xr.start,"Label '"+os+"' is already declared");var ol=z.isLoop?"loop":z===Me?"switch":null;return vt.push({name:os,kind:ol}),it.body=mi(),vt.pop(),it.label=xr,ce(it,"LabeledStatement")}else return it.expression=xr,fn(),ce(it,"ExpressionStatement")}}function Dn(){Ge(fi);var tt=ii();return Ge(hi),tt}function qn(tt){var it=Qe(),gt=!0,Pt=!1,ie;for(it.body=[],Ge(Hi);!Be(Ci);){var se=mi();it.body.push(se),gt&&tt&&Qr(se)&&(ie=Pt,Jr(Pt=!0)),gt=!1}return Pt&&!ie&&Jr(!1),ce(it,"BlockStatement")}function ts(tt,it){return tt.init=it,Ge(gi),tt.test=z===gi?null:ii(),Ge(gi),tt.update=z===hi?null:ii(),Ge(hi),tt.body=mi(),vt.pop(),ce(tt,"ForStatement")}function xa(tt,it){return tt.left=it,tt.right=ii(),Ge(hi),tt.body=mi(),vt.pop(),ce(tt,"ForInStatement")}function ba(tt,it){for(tt.declarations=[],tt.kind="var";;){var gt=Qe();if(gt.id=Zi(),st&&gr(gt.id.name)&&ut(gt.id.start,"Binding "+gt.id.name+" in strict mode"),gt.init=Be(H)?ii(!0,it):null,tt.declarations.push(ce(gt,"VariableDeclarator")),!Be(vi))break}return tt}function ii(tt,it){var gt=es(it);if(!tt&&z===vi){var Pt=Gi(gt);for(Pt.expressions=[gt];Be(vi);)Pt.expressions.push(es(it));return ce(Pt,"SequenceExpression")}return gt}function es(tt){var it=il(tt);if(z.isAssign){var gt=Gi(it);return gt.operator=q,gt.left=it,Se(),gt.right=es(tt),wr(it),ce(gt,"AssignmentExpression")}return it}function il(tt){var it=nl(tt);if(Be(C)){var gt=Gi(it);return gt.test=it,gt.consequent=ii(!0),Ge(Ui),gt.alternate=ii(!0,tt),ce(gt,"ConditionalExpression")}return it}function nl(tt){return is(ns(),-1,tt)}function is(tt,it,gt){var Pt=z.binop;if(Pt!=null&&(!gt||z!==on)&&Pt>it){var ie=Gi(tt);ie.left=tt,ie.operator=q;var se=z;Se(),ie.right=is(ns(),Pt,gt);var oe=ce(ie,se===Dt||se===Wt?"LogicalExpression":"BinaryExpression");return is(oe,it,gt)}return tt}function ns(){if(z.prefix){var tt=Qe(),it=z.isUpdate;return tt.operator=q,tt.prefix=!0,U=!0,Se(),tt.argument=ns(),it?wr(tt.argument):st&&tt.operator==="delete"&&tt.argument.type==="Identifier"&&ut(tt.start,"Deleting local variable in strict mode"),ce(tt,it?"UpdateExpression":"UnaryExpression")}for(var gt=rl();z.postfix&&!yr();){var tt=Gi(gt);tt.operator=q,tt.prefix=!1,tt.argument=gt,wr(gt),Se(),gt=ce(tt,"UpdateExpression")}return gt}function rl(){return Hn(rs())}function Hn(tt,it){if(Be(o)){var gt=Gi(tt);return gt.object=tt,gt.property=Zi(!0),gt.computed=!1,Hn(ce(gt,"MemberExpression"),it)}else if(Be(Oi)){var gt=Gi(tt);return gt.object=tt,gt.property=ii(),gt.computed=!0,Ge(he),Hn(ce(gt,"MemberExpression"),it)}else if(!it&&Be(fi)){var gt=Gi(tt);return gt.callee=tt,gt.arguments=as(hi,!1),Hn(ce(gt,"CallExpression"),it)}else return tt}function rs(){switch(z){case dr:var Pt=Qe();return Se(),ce(Pt,"ThisExpression");case Bt:return Zi();case wt:case zt:case Tt:var Pt=Qe();return Pt.value=q,Pt.raw=x.slice(M,N),Se(),ce(Pt,"Literal");case pr:case an:case Fn:var Pt=Qe();return Pt.value=z.atomValue,Pt.raw=z.keyword,Se(),ce(Pt,"Literal");case fi:var tt=B,it=M;Se();var gt=ii();return gt.start=it,gt.end=N,P.locations&&(gt.loc.start=tt,gt.loc.end=V),P.ranges&&(gt.range=[it,N]),Ge(hi),gt;case Oi:var Pt=Qe();return Se(),Pt.elements=as(he,!0,!0),ce(Pt,"ArrayExpression");case Hi:return al();case je:var Pt=Qe();return Se(),ss(Pt,!1);case cr:return sl();default:Ni()}}function sl(){var tt=Qe();return Se(),tt.callee=Hn(rs(),!0),Be(fi)?tt.arguments=as(hi,!1):tt.arguments=mt,ce(tt,"NewExpression")}function al(){var tt=Qe(),it=!0,gt=!1;for(tt.properties=[],Se();!Be(Ci);){if(it)it=!1;else if(Ge(vi),P.allowTrailingCommas&&Be(Ci))break;var Pt={key:Sa()},ie=!1,se;if(Be(Ui)?(Pt.value=ii(!0),se=Pt.kind="init"):P.ecmaVersion>=5&&Pt.key.type==="Identifier"&&(Pt.key.name==="get"||Pt.key.name==="set")?(ie=gt=!0,se=Pt.kind=Pt.key.name,Pt.key=Sa(),z!==fi&&Ni(),Pt.value=ss(Qe(),!1)):Ni(),Pt.key.type==="Identifier"&&(st||gt))for(var oe=0;oe<tt.properties.length;++oe){var Pe=tt.properties[oe];if(Pe.key.name===Pt.key.name){var yi=se==Pe.kind||ie&&Pe.kind==="init"||se==="init"&&(Pe.kind==="get"||Pe.kind==="set");yi&&!st&&se==="init"&&Pe.kind==="init"&&(yi=!1),yi&&ut(Pt.key.start,"Redefinition of property")}}tt.properties.push(Pt)}return ce(tt,"ObjectExpression")}function Sa(){return z===wt||z===zt?rs():Zi(!0)}function ss(tt,it){z===Bt?tt.id=Zi():it?Ni():tt.id=null,tt.params=[];var gt=!0;for(Ge(fi);!Be(hi);)gt?gt=!1:Ge(vi),tt.params.push(Zi());var Pt=_t,ie=vt;if(_t=!0,vt=[],tt.body=qn(!0),_t=Pt,vt=ie,st||tt.body.body.length&&Qr(tt.body.body[0]))for(var se=tt.id?-1:0;se<tt.params.length;++se){var oe=se<0?tt.id:tt.params[se];if((ha(oe.name)||gr(oe.name))&&ut(oe.start,"Defining '"+oe.name+"' in strict mode"),se>=0)for(var Pe=0;Pe<se;++Pe)oe.name===tt.params[Pe].name&&ut(oe.start,"Argument name clash in strict mode")}return ce(tt,it?"FunctionDeclaration":"FunctionExpression")}function as(tt,it,gt){for(var Pt=[],ie=!0;!Be(tt);){if(ie)ie=!1;else if(Ge(vi),it&&P.allowTrailingCommas&&Be(tt))break;gt&&z===vi?Pt.push(null):Pt.push(ii(!0))}return Pt}function Zi(tt){var it=Qe();return tt&&P.forbidReserved=="everywhere"&&(tt=!1),z===Bt?(!tt&&(P.forbidReserved&&(P.ecmaVersion===3?zu:Fu)(q)||st&&ha(q))&&x.slice(M,N).indexOf("\\")==-1&&ut(M,"The keyword '"+q+"' is reserved"),it.name=q):tt&&z.keyword?it.name=z.keyword:Ni(),U=!1,Se(),ce(it,"Identifier")}}),e.version||(e=null)}function s(I,P){return(t.acorn||e).parse(I,P)}var a={"+":"__add","-":"__subtract","*":"__multiply","/":"__divide","%":"__modulo","==":"__equals","!=":"__equals"},l={"-":"__negate","+":"__self"},h=b.each(["add","subtract","multiply","divide","modulo","equals","negate"],function(I){this["__"+I]="#"+I},{__self:function(){return this}});R.inject(h),ot.inject(h),ne.inject(h);function f(I,P,x){var v=a[P];if(I&&I[v]){var m=I[v](x);return P==="!="?!m:m}switch(P){case"+":return I+x;case"-":return I-x;case"*":return I*x;case"/":return I/x;case"%":return I%x;case"==":return I==x;case"!=":return I!=x}}function d(I,P){var x=l[I];if(P&&P[x])return P[x]();switch(I){case"+":return+P;case"-":return-P}}function _(I,P){if(!I)return"";P=P||{};var x=[];function v(st){for(var ut=0,mt=x.length;ut<mt;ut++){var wt=x[ut];if(wt[0]>=st)break;st+=wt[1]}return st}function m(st){return I.substring(v(st.range[0]),v(st.range[1]))}function S(st,ut){return I.substring(v(st.range[1]),v(ut.range[0]))}function k(st,ut){for(var mt=v(st.range[0]),wt=v(st.range[1]),Tt=0,zt=x.length-1;zt>=0;zt--)if(mt>x[zt][0]){Tt=zt+1;break}x.splice(Tt,0,[mt,ut.length-wt+mt]),I=I.substring(0,mt)+ut+I.substring(wt)}function O(st,ut){switch(st.type){case"UnaryExpression":if(st.operator in l&&st.argument.type!=="Literal"){var mt=m(st.argument);k(st,'$__("'+st.operator+'", '+mt+")")}break;case"BinaryExpression":if(st.operator in a&&st.left.type!=="Literal"){var wt=m(st.left),Tt=m(st.right),zt=S(st.left,st.right),Bt=st.operator;k(st,"__$__("+wt+","+zt.replace(new RegExp("\\"+Bt),'"'+Bt+'"')+", "+Tt+")")}break;case"UpdateExpression":case"AssignmentExpression":var Ht=ut&&ut.type;if(!(Ht==="ForStatement"||Ht==="BinaryExpression"&&/^[=!<>]/.test(ut.operator)||Ht==="MemberExpression"&&ut.computed)){if(st.type==="UpdateExpression"){var mt=m(st.argument),Ut="__$__("+mt+', "'+st.operator[0]+'", 1)',Jt=mt+" = "+Ut;st.prefix?Jt="("+Jt+")":(Ht==="AssignmentExpression"||Ht==="VariableDeclarator"||Ht==="BinaryExpression")&&(m(ut.left||ut.id)===mt&&(Jt=Ut),Jt=mt+"; "+Jt),k(st,Jt)}else if(/^.=$/.test(st.operator)&&st.left.type!=="Literal"){var wt=m(st.left),Tt=m(st.right),Ut=wt+" = __$__("+wt+', "'+st.operator[0]+'", '+Tt+")";k(st,/^\(.*\)$/.test(m(st))?"("+Ut+")":Ut)}}break}}function A(st){switch(st.type){case"ExportDefaultDeclaration":k({range:[st.start,st.declaration.start]},"module.exports = ");break;case"ExportNamedDeclaration":var ut=st.declaration,mt=st.specifiers;if(ut){var wt=ut.declarations;wt&&(wt.forEach(function(zt){k(zt,"module.exports."+m(zt))}),k({range:[st.start,ut.start+ut.kind.length]},""))}else if(mt){var Tt=mt.map(function(zt){var Bt=m(zt);return"module.exports."+Bt+" = "+Bt+"; "}).join("");Tt&&k(st,Tt)}break}}function M(st,ut,mt){if(st){for(var wt in st)if(wt!=="range"&&wt!=="loc"){var Tt=st[wt];if(Array.isArray(Tt))for(var zt=0,Bt=Tt.length;zt<Bt;zt++)M(Tt[zt],st,mt);else Tt&&typeof Tt=="object"&&M(Tt,st,mt)}mt.operatorOverloading!==!1&&O(st,ut),mt.moduleExports!==!1&&A(st)}}function N(st){var ut="",mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(st=(Math.abs(st)<<1)+(st<0?1:0);st||!ut;){var wt=st&31;st>>=5,st&&(wt|=32),ut+=mt[wt]}return ut}var B=P.url||"",V=P.sourceMaps,z=P.paperFeatures||{},q=P.source||I,U=P.offset||0,j=n.agent,G=j.versionNumber,$=!1,nt=/\r\n|\n|\r/mg,ht;if(V&&(j.chrome&&G>=30||j.webkit&&G>=537.76||j.firefox&&G>=23||j.node)){if(j.node)U-=2;else if(T&&B&&!T.location.href.indexOf(B)){var _t=L.getElementsByTagName("html")[0].innerHTML;U=_t.substr(0,_t.indexOf(I)+1).match(nt).length+1}$=U>0&&!(j.chrome&&G>=36||j.safari&&G>=600||j.firefox&&G>=40||j.node);var vt=["AA"+N($?0:U)+"A"];vt.length=(I.match(nt)||[]).length+1+($?U:0),ht={version:3,file:B,names:[],mappings:vt.join(";AACA"),sourceRoot:"",sources:[B],sourcesContent:[q]}}return(z.operatorOverloading!==!1||z.moduleExports!==!1)&&M(s(I,{ranges:!0,preserveParens:!0,sourceType:"module"}),null,z),ht&&($&&(I=new Array(U+1).join(`
`)+I),/^(inline|both)$/.test(V)&&(I+=`
//# sourceMappingURL=data:application/json;base64,`+c.btoa(unescape(encodeURIComponent(JSON.stringify(ht))))),I+=`
//# sourceURL=`+(B||"paperscript")),{url:B,source:q,code:I,map:ht}}function g(I,P,x){n=P;var v=P.getView(),m=/\btool\.\w+|\s+on(?:Key|Mouse)(?:Up|Down|Move|Drag)\b/.test(I)&&!/\bnew\s+Tool\b/.test(I)?new Lt:null,S=m?m._events:[],k=["onFrame","onResize"].concat(S),O=[],A=[],M,N=typeof I=="object"?I:_(I,x);I=N.code;function B(G,$){for(var nt in G)($||!/^_/.test(nt))&&new RegExp("([\\b\\s\\W]|^)"+nt.replace(/\$/g,"\\$")+"\\b").test(I)&&(O.push(nt),A.push(G[nt]))}B({__$__:f,$__:d,paper:P,tool:m},!0),B(P),I="var module = { exports: {} }; "+I;var U=b.each(k,function(G){new RegExp("\\s+"+G+"\\b").test(I)&&(O.push(G),this.push("module.exports."+G+" = "+G+";"))},[]).join(`
`);U&&(I+=`
`+U),I+=`
return module.exports;`;var V=n.agent;if(L&&(V.chrome||V.firefox&&V.versionNumber<40)){var z=L.createElement("script"),q=L.head||L.getElementsByTagName("head")[0];V.firefox&&(I=`
`+I),z.appendChild(L.createTextNode("document.__paperscript__ = function("+O+") {"+I+`
}`)),q.appendChild(z),M=L.__paperscript__,delete L.__paperscript__,q.removeChild(z)}else M=Function(O,I);var U=M&&M.apply(P,A),j=U||{};return b.each(S,function(G){var $=j[G];$&&(m[G]=$)}),v&&(j.onResize&&v.setOnResize(j.onResize),v.emit("resize",{size:v.size,delta:new R}),j.onFrame&&v.setOnFrame(j.onFrame),v.requestUpdate()),U}function p(I){if(/^text\/(?:x-|)paperscript$/.test(I.type)&&Z.getAttribute(I,"ignore")!=="true"){var P=Z.getAttribute(I,"canvas"),x=L.getElementById(P),v=I.src||I.getAttribute("data-src"),m=Z.hasAttribute(I,"async"),S="data-paper-scope";if(!x)throw new Error('Unable to find canvas with id "'+P+'"');var k=Z.get(x.getAttribute(S))||new Z().setup(x);return x.setAttribute(S,k._id),v?At.request({url:v,async:m,mimeType:"text/plain",onLoad:function(O){g(O,k,v)}}):g(I.innerHTML,k,I.baseURI),I.setAttribute("data-paper-ignore","true"),k}}function w(){b.each(L&&L.getElementsByTagName("script"),p)}function E(I){return I?p(I):w()}return T&&(L.readyState==="complete"?setTimeout(w):Mt.add(T,{load:w})),{compile:_,execute:g,load:E,parse:s,calculateBinary:f,calculateUnary:d}}).call(this);var n=new(Z.inject(b.exports,{Base:b,Numerical:Y,Key:dt,DomEvent:Mt,DomElement:bt,document:L,window:T,Symbol:_e,PlacedSymbol:Ue}));return n.agent.node&&Br(n),typeof y=="function"&&y.amd?y("paper",n):u&&(u.exports=n),n}).call(la,typeof self=="object"?self:null)})(Lu);var Kc=Lu.exports;const xs=Hc(Kc);var Nu={exports:{}};/*!
 * Paper.js v0.12.18 - The Swiss Army Knife of Vector Graphics Scripting.
 * http://paperjs.org/
 *
 * Copyright (c) 2011 - 2020, Jrg Lehni & Jonathan Puckey
 * http://juerglehni.com/ & https://puckey.studio/
 *
 * Distributed under the MIT license. See LICENSE file for details.
 *
 * All rights reserved.
 *
 * Date: Wed Jul 17 14:57:24 2024 +0200
 *
 ***
 *
 * Straps.js - Class inheritance library with support for bean-style accessors
 *
 * Copyright (c) 2006 - 2020 Jrg Lehni
 * http://juerglehni.com/
 *
 * Distributed under the MIT license.
 *
 ***
 *
 * Acorn.js
 * https://marijnhaverbeke.nl/acorn/
 *
 * Acorn is a tiny, fast JavaScript parser written in JavaScript,
 * created by Marijn Haverbeke and released under an MIT license.
 *
 */(function(u){(function(c,y){c=c||Br;var T=c.window,L=c.document,b=new function(){var n=/^(statics|enumerable|beans|preserve)$/,t=[],e=t.slice,i=Object.create,r=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=t.forEach||function(g,p){for(var w=0,E=this.length;w<E;w++)g.call(p,this[w],w,this)},l=function(g,p){for(var w in this)this.hasOwnProperty(w)&&g.call(p,this[w],w,this)},h=Object.assign||function(g){for(var p=1,w=arguments.length;p<w;p++){var E=arguments[p];for(var I in E)E.hasOwnProperty(I)&&(g[I]=E[I])}return g},f=function(g,p,w){if(g){var E=r(g,"length");(E&&typeof E.value=="number"?a:l).call(g,p,w=w||g)}return w};function d(g,p,w,E,I){var P={};function x(O,A){A=A||(A=r(p,O))&&(A.get?A:A.value),typeof A=="string"&&A[0]==="#"&&(A=g[A.substring(1)]||A);var M=typeof A=="function",N=A,B=I||M&&!A.base?A&&A.get?O in g:g[O]:null,V;(!I||!B)&&(M&&B&&(A.base=B),M&&E!==!1&&(V=O.match(/^([gs]et|is)(([A-Z])(.*))$/))&&(P[V[3].toLowerCase()+V[4]]=V[2]),(!N||M||!N.get||typeof N.get!="function"||!_.isPlainObject(N))&&(N={value:N,writable:!0}),(r(g,O)||{configurable:!0}).configurable&&(N.configurable=!0,N.enumerable=w??!V),s(g,O,N))}if(p){for(var v in p)p.hasOwnProperty(v)&&!n.test(v)&&x(v);for(var v in P){var m=P[v],S=g["set"+m],k=g["get"+m]||S&&g["is"+m];k&&(E===!0||k.length===0)&&x(v,{get:k,set:S})}}return g}function _(){for(var g=0,p=arguments.length;g<p;g++){var w=arguments[g];w&&h(this,w)}return this}return d(_,{inject:function(g){if(g){var p=g.statics===!0?g:g.statics,w=g.beans,E=g.preserve;p!==g&&d(this.prototype,g,g.enumerable,w,E),d(this,p,null,w,E)}for(var I=1,P=arguments.length;I<P;I++)this.inject(arguments[I]);return this},extend:function(){for(var g=this,p,w,E=0,I,P=arguments.length;E<P&&!(p&&w);E++)I=arguments[E],p=p||I.initialize,w=w||I.prototype;return p=p||function(){g.apply(this,arguments)},w=p.prototype=w||i(this.prototype),s(w,"constructor",{value:p,writable:!0,configurable:!0}),d(p,this),arguments.length&&this.inject.apply(p,arguments),p.base=g,p}}).inject({enumerable:!1,initialize:_,set:_,inject:function(){for(var g=0,p=arguments.length;g<p;g++){var w=arguments[g];w&&d(this,w,w.enumerable,w.beans,w.preserve)}return this},extend:function(){var g=i(this);return g.inject.apply(g,arguments)},each:function(g,p){return f(this,g,p)},clone:function(){return new this.constructor(this)},statics:{set:h,each:f,create:i,define:s,describe:r,clone:function(g){return h(new g.constructor,g)},isPlainObject:function(g){var p=g!=null&&g.constructor;return p&&(p===Object||p===_||p.name==="Object")},pick:function(g,p){return g!==y?g:p},slice:function(g,p,w){return e.call(g,p,w)}}})};u.exports=b,b.inject({enumerable:!1,toString:function(){return this._id!=null?(this._class||"Object")+(this._name?" '"+this._name+"'":" @"+this._id):"{ "+b.each(this,function(n,t){if(!/^_/.test(t)){var e=typeof n;this.push(t+": "+(e==="number"?Q.instance.number(n):e==="string"?"'"+n+"'":n))}},[]).join(", ")+" }"},getClassName:function(){return this._class||""},importJSON:function(n){return b.importJSON(n,this)},exportJSON:function(n){return b.exportJSON(this,n)},toJSON:function(){return b.serialize(this)},set:function(n,t){return n&&b.filter(this,n,t,this._prioritize),this}},{beans:!1,statics:{exports:{},extend:function n(){var t=n.base.apply(this,arguments),e=t.prototype._class;return e&&!b.exports[e]&&(b.exports[e]=t),t},equals:function(n,t){if(n===t)return!0;if(n&&n.equals)return n.equals(t);if(t&&t.equals)return t.equals(n);if(n&&t&&typeof n=="object"&&typeof t=="object"){if(Array.isArray(n)&&Array.isArray(t)){var e=n.length;if(e!==t.length)return!1;for(;e--;)if(!b.equals(n[e],t[e]))return!1}else{var i=Object.keys(n),e=i.length;if(e!==Object.keys(t).length)return!1;for(;e--;){var r=i[e];if(!(t.hasOwnProperty(r)&&b.equals(n[r],t[r])))return!1}}return!0}return!1},read:function(n,t,e,i){if(this===b){var r=this.peek(n,t);return n.__index++,r}var s=this.prototype,a=s._readIndex,l=t||a&&n.__index||0,h=n.length,f=n[l];if(i=i||h-l,f instanceof this||e&&e.readNull&&f==null&&i<=1)return a&&(n.__index=l+1),f&&e&&e.clone?f.clone():f;if(f=b.create(s),a&&(f.__read=!0),f=f.initialize.apply(f,l>0||l+i<h?b.slice(n,l,l+i):n)||f,a){n.__index=l+f.__read;var d=f.__filtered;d&&(n.__filtered=d,f.__filtered=y),f.__read=y}return f},peek:function(n,t){return n[n.__index=t||n.__index||0]},remain:function(n){return n.length-(n.__index||0)},readList:function(n,t,e,i){for(var r=[],s,a=t||0,l=i?a+i:n.length,h=a;h<l;h++)r.push(Array.isArray(s=n[h])?this.read(s,0,e):this.read(n,h,e,1));return r},readNamed:function(n,t,e,i,r){var s=this.getNamed(n,t),a=s!==y;if(a){var l=n.__filtered;if(!l){var h=this.getSource(n);l=n.__filtered=b.create(h),l.__unfiltered=h}l[t]=y}return this.read(a?[s]:n,e,i,r)},readSupported:function(n,t){var e=this.getSource(n),i=this,r=!1;return e&&Object.keys(e).forEach(function(s){if(s in t){var a=i.readNamed(n,s);a!==y&&(t[s]=a),r=!0}}),r},getSource:function(n){var t=n.__source;if(t===y){var e=n.length===1&&n[0];t=n.__source=e&&b.isPlainObject(e)?e:null}return t},getNamed:function(n,t){var e=this.getSource(n);if(e)return t?e[t]:n.__filtered||e},hasNamed:function(n,t){return!!this.getNamed(n,t)},filter:function(n,t,e,i){var r;function s(d){if(!(e&&d in e)&&!(r&&d in r)){var _=t[d];_!==y&&(n[d]=_)}}if(i){for(var a={},l=0,h,f=i.length;l<f;l++)(h=i[l])in t&&(s(h),a[h]=!0);r=a}return Object.keys(t.__unfiltered||t).forEach(s),n},isPlainValue:function(n,t){return b.isPlainObject(n)||Array.isArray(n)||t&&typeof n=="string"},serialize:function(n,t,e,i){t=t||{};var r=!i,s;if(r&&(t.formatter=new Q(t.precision),i={length:0,definitions:{},references:{},add:function(_,g){var p="#"+_._id,w=this.references[p];if(!w){this.length++;var E=g.call(_),I=_._class;I&&E[0]!==I&&E.unshift(I),this.definitions[p]=E,w=this.references[p]=[p]}return w}}),n&&n._serialize){s=n._serialize(t,i);var a=n._class;a&&!n._compactSerialize&&(r||!e)&&s[0]!==a&&s.unshift(a)}else if(Array.isArray(n)){s=[];for(var l=0,h=n.length;l<h;l++)s[l]=b.serialize(n[l],t,e,i)}else if(b.isPlainObject(n)){s={};for(var f=Object.keys(n),l=0,h=f.length;l<h;l++){var d=f[l];s[d]=b.serialize(n[d],t,e,i)}}else typeof n=="number"?s=t.formatter.number(n,t.precision):s=n;return r&&i.length>0?[["dictionary",i.definitions],s]:s},deserialize:function(n,t,e,i,r){var s=n,a=!e,l=a&&n&&n.length&&n[0][0]==="dictionary";if(e=e||{},Array.isArray(n)){var h=n[0],f=h==="dictionary";if(n.length==1&&/^#/.test(h))return e.dictionary[h];h=b.exports[h],s=[];for(var d=h?1:0,_=n.length;d<_;d++)s.push(b.deserialize(n[d],t,e,f,l));if(h){var g=s;t?s=t(h,g,a||r):s=new h(g)}}else if(b.isPlainObject(n)){s={},i&&(e.dictionary=s);for(var p in n)s[p]=b.deserialize(n[p],t,e)}return l?s[1]:s},exportJSON:function(n,t){var e=b.serialize(n,t);return t&&t.asString==!1?e:JSON.stringify(e)},importJSON:function(n,t){return b.deserialize(typeof n=="string"?JSON.parse(n):n,function(e,i,r){var s=r&&t&&t.constructor===e,a=s?t:b.create(e.prototype);if(i.length===1&&a instanceof D&&(s||!(a instanceof Ne))){var l=i[0];b.isPlainObject(l)&&(l.insert=!1,s&&(i=i.concat([D.INSERT])))}return(s?a.set:e).apply(a,i),s&&(t=null),a})},push:function(n,t){var e=t.length;if(e<4096)n.push.apply(n,t);else{var i=n.length;n.length+=e;for(var r=0;r<e;r++)n[i+r]=t[r]}return n},splice:function(n,t,e,i){var r=t&&t.length,s=e===y;e=s?n.length:e,e>n.length&&(e=n.length);for(var a=0;a<r;a++)t[a]._index=e+a;if(s)return b.push(n,t),[];var l=[e,i];t&&b.push(l,t);for(var h=n.splice.apply(n,l),a=0,f=h.length;a<f;a++)h[a]._index=y;for(var a=e+r,f=n.length;a<f;a++)n[a]._index=a;return h},capitalize:function(n){return n.replace(/\b[a-z]/g,function(t){return t.toUpperCase()})},camelize:function(n){return n.replace(/-(.)/g,function(t,e){return e.toUpperCase()})},hyphenate:function(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}});var W={on:function(n,t){if(typeof n!="string")b.each(n,function(s,a){this.on(a,s)},this);else{var e=this._eventTypes,i=e&&e[n],r=this._callbacks=this._callbacks||{};r=r[n]=r[n]||[],r.indexOf(t)===-1&&(r.push(t),i&&i.install&&r.length===1&&i.install.call(this,n))}return this},off:function(n,t){if(typeof n!="string"){b.each(n,function(a,l){this.off(l,a)},this);return}var e=this._eventTypes,i=e&&e[n],r=this._callbacks&&this._callbacks[n],s;return r&&(!t||(s=r.indexOf(t))!==-1&&r.length===1?(i&&i.uninstall&&i.uninstall.call(this,n),delete this._callbacks[n]):s!==-1&&r.splice(s,1)),this},once:function(n,t){return this.on(n,function e(){t.apply(this,arguments),this.off(n,e)})},emit:function(n,t){var e=this._callbacks&&this._callbacks[n];if(!e)return!1;var i=b.slice(arguments,1),r=t&&t.target&&!t.currentTarget;e=e.slice(),r&&(t.currentTarget=this);for(var s=0,a=e.length;s<a;s++)if(e[s].apply(this,i)==!1){t&&t.stop&&t.stop();break}return r&&delete t.currentTarget,!0},responds:function(n){return!!(this._callbacks&&this._callbacks[n])},attach:"#on",detach:"#off",fire:"#emit",_installEvents:function(n){var t=this._eventTypes,e=this._callbacks,i=n?"install":"uninstall";if(t){for(var r in e)if(e[r].length>0){var s=t[r],a=s&&s[i];a&&a.call(this,r)}}},statics:{inject:function n(t){var e=t._events;if(e){var i={};b.each(e,function(r,s){var a=typeof r=="string",l=a?r:s,h=b.capitalize(l),f=l.substring(2).toLowerCase();i[f]=a?{}:r,l="_"+l,t["get"+h]=function(){return this[l]},t["set"+h]=function(d){var _=this[l];_&&this.off(f,_),d&&this.on(f,d),this[l]=d}}),t._eventTypes=i}return n.base.apply(this,arguments)}}},Z=b.extend({_class:"PaperScope",initialize:function n(){Et=this,this.settings=new b({applyMatrix:!0,insertItems:!0,handleSize:4,hitTolerance:0}),this.project=null,this.projects=[],this.tools=[],this._id=n._id++,n._scopes[this._id]=this;var t=n.prototype;if(!this.support){var e=At.getContext(1,1)||{};t.support={nativeDash:"setLineDash"in e||"mozDash"in e,nativeBlendModes:kt.nativeModes},At.release(e)}if(!this.agent){var i=c.navigator.userAgent.toLowerCase(),r=(/(darwin|win|mac|linux|freebsd|sunos)/.exec(i)||[])[0],s=r==="darwin"?"mac":r,a=t.agent=t.browser={platform:s};s&&(a[s]=!0),i.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\/?\s*([.\d]+)(?:.*version\/([.\d]+))?(?:.*rv\:v?([.\d]+))?/g,function(l,h,f,d,_){if(!a.chrome){var g=h==="opera"?d:/^(node|trident)$/.test(h)?_:f;a.version=g,a.versionNumber=parseFloat(g),h={trident:"msie",jsdom:"node"}[h]||h,a.name=h,a[h]=!0}}),a.chrome&&delete a.webkit,a.atom&&delete a.chrome}},version:"0.12.18",getView:function(){var n=this.project;return n&&n._view},getPaper:function(){return this},execute:function(n,t){},install:function(n){var t=this;b.each(["project","view","tool"],function(i){b.define(n,i,{configurable:!0,get:function(){return t[i]}})});for(var e in this)!/^_/.test(e)&&this[e]&&(n[e]=this[e])},setup:function(n){return Et=this,this.project=new Xt(n),this},createCanvas:function(n,t){return At.getCanvas(n,t)},activate:function(){Et=this},clear:function(){for(var n=this.projects,t=this.tools,e=n.length-1;e>=0;e--)n[e].remove();for(var e=t.length-1;e>=0;e--)t[e].remove()},remove:function(){this.clear(),delete Z._scopes[this._id]},statics:new function(){function n(t){return t+="Attribute",function(e,i){return e[t](i)||e[t]("data-paper-"+i)}}return{_scopes:{},_id:0,get:function(t){return this._scopes[t]||null},getAttribute:n("get"),hasAttribute:n("has")}}}),K=b.extend(W,{initialize:function(n){this._scope=Et,this._index=this._scope[this._list].push(this)-1,(n||!this._scope[this._reference])&&this.activate()},activate:function(){if(!this._scope)return!1;var n=this._scope[this._reference];return n&&n!==this&&n.emit("deactivate"),this._scope[this._reference]=this,this.emit("activate",n),!0},isActive:function(){return this._scope[this._reference]===this},remove:function(){return this._index==null?!1:(b.splice(this._scope[this._list],null,this._index,1),this._scope[this._reference]==this&&(this._scope[this._reference]=null),this._scope=null,!0)},getView:function(){return this._scope.getView()}}),rt={findItemBoundsCollisions:function(n,t,e){function i(a){for(var l=new Array(a.length),h=0;h<a.length;h++){var f=a[h].getBounds();l[h]=[f.left,f.top,f.right,f.bottom]}return l}var r=i(n),s=!t||t===n?r:i(t);return this.findBoundsCollisions(r,s,e||0)},findCurveBoundsCollisions:function(n,t,e,i){function r(g){for(var p=Math.min,w=Math.max,E=new Array(g.length),I=0;I<g.length;I++){var P=g[I];E[I]=[p(P[0],P[2],P[4],P[6]),p(P[1],P[3],P[5],P[7]),w(P[0],P[2],P[4],P[6]),w(P[1],P[3],P[5],P[7])]}return E}var s=r(n),a=!t||t===n?s:r(t);if(i){for(var l=this.findBoundsCollisions(s,a,e||0,!1,!0),h=this.findBoundsCollisions(s,a,e||0,!0,!0),f=[],d=0,_=l.length;d<_;d++)f[d]={hor:l[d],ver:h[d]};return f}return this.findBoundsCollisions(s,a,e||0)},findBoundsCollisions:function(n,t,e,i,r){var s=!t||n===t,a=s?n:n.concat(t),l=n.length,h=a.length;function f(nt,ht,_t){for(var vt=0,st=nt.length;vt<st;){var ut=st+vt>>>1;a[nt[ut]][ht]<_t?vt=ut+1:st=ut}return vt-1}for(var d=i?1:0,_=d+2,g=i?0:1,p=g+2,w=new Array(h),E=0;E<h;E++)w[E]=E;w.sort(function(nt,ht){return a[nt][d]-a[ht][d]});for(var I=[],P=new Array(l),E=0;E<h;E++){var x=w[E],v=a[x],m=s?x:x-l,S=x<l,k=s||!S,O=S?[]:null;if(I.length){var A=f(I,_,v[d]-e)+1;if(I.splice(0,A),s&&r){O=O.concat(I);for(var M=0;M<I.length;M++){var N=I[M];P[N].push(m)}}else for(var B=v[p],V=v[g],M=0;M<I.length;M++){var N=I[M],z=a[N],q=N<l,U=s||N>=l;(r||(S&&U||k&&q)&&B>=z[g]-e&&V<=z[p]+e)&&(S&&U&&O.push(s?N:N-l),k&&q&&P[N].push(m))}}if(S&&(n===t&&O.push(x),P[x]=O),I.length){var j=v[_],G=f(I,_,j);I.splice(G+1,0,x)}else I.push(x)}for(var E=0;E<P.length;E++){var $=P[E];$&&$.sort(function(ht,_t){return ht-_t})}return P}},Q=b.extend({initialize:function(n){this.precision=b.pick(n,5),this.multiplier=Math.pow(10,this.precision)},number:function(n){return this.precision<16?Math.round(n*this.multiplier)/this.multiplier:n},pair:function(n,t,e){return this.number(n)+(e||",")+this.number(t)},point:function(n,t){return this.number(n.x)+(t||",")+this.number(n.y)},size:function(n,t){return this.number(n.width)+(t||",")+this.number(n.height)},rectangle:function(n,t){return this.point(n,t)+(t||",")+this.size(n,t)}});Q.instance=new Q;var Y=new function(){var n=[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],t=[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]],e=Math.abs,i=Math.sqrt,r=Math.pow,s=Math.log2||function(_){return Math.log(_)*Math.LOG2E},a=1e-12,l=112e-18;function h(_,g,p){return _<g?g:_>p?p:_}function f(_,g,p){function w(A){var M=A*134217729,N=A-M,B=N+M,V=A-B;return[B,V]}var E=g*g-_*p,I=g*g+_*p;if(e(E)*3<I){var P=w(_),x=w(g),v=w(p),m=g*g,S=x[0]*x[0]-m+2*x[0]*x[1]+x[1]*x[1],k=_*p,O=P[0]*v[0]-k+P[0]*v[1]+P[1]*v[0]+P[1]*v[1];E=m-k+(S-O)}return E}function d(){var _=Math.max.apply(Math,arguments);return _&&(_<1e-8||_>1e8)?r(2,-Math.round(s(_))):0}return{EPSILON:a,MACHINE_EPSILON:l,CURVETIME_EPSILON:1e-8,GEOMETRIC_EPSILON:1e-7,TRIGONOMETRIC_EPSILON:1e-8,ANGULAR_EPSILON:1e-5,KAPPA:4*(i(2)-1)/3,isZero:function(_){return _>=-a&&_<=a},isMachineZero:function(_){return _>=-l&&_<=l},clamp:h,integrate:function(_,g,p,w){for(var E=n[w-2],I=t[w-2],P=(p-g)*.5,x=P+g,v=0,m=w+1>>1,S=w&1?I[v++]*_(x):0;v<m;){var k=P*E[v];S+=I[v++]*(_(x+k)+_(x-k))}return P*S},findRoot:function(_,g,p,w,E,I,P){for(var x=0;x<I;x++){var v=_(p),m=v/g(p),S=p-m;if(e(m)<P){p=S;break}v>0?(E=p,p=S<=w?(w+E)*.5:S):(w=p,p=S>=E?(w+E)*.5:S)}return h(p,w,E)},solveQuadratic:function(_,g,p,w,E,I){var P,x=1/0;if(e(_)<a){if(e(g)<a)return e(p)<a?-1:0;P=-p/g}else{g*=-.5;var v=f(_,g,p);if(v&&e(v)<l){var m=d(e(_),e(g),e(p));m&&(_*=m,g*=m,p*=m,v=f(_,g,p))}if(v>=-l){var S=v<0?0:i(v),k=g+(g<0?-S:S);k===0?(P=p/_,x=-P):(P=k/_,x=p/k)}}var O=0,A=E==null,M=E-a,N=I+a;return isFinite(P)&&(A||P>M&&P<N)&&(w[O++]=A?P:h(P,E,I)),x!==P&&isFinite(x)&&(A||x>M&&x<N)&&(w[O++]=A?x:h(x,E,I)),O},solveCubic:function(_,g,p,w,E,I,P){var x=d(e(_),e(g),e(p),e(w)),v,m,S,k,O;x&&(_*=x,g*=x,p*=x,w*=x);function A(G){v=G;var $=_*v;m=$+g,S=m*v+p,k=($+m)*v+S,O=S*v+w}if(e(_)<a)_=g,m=p,S=w,v=1/0;else if(e(w)<a)m=g,S=p,v=0;else{A(-(g/_)/3);var M=O/_,N=r(e(M),1/3),B=M<0?-1:1,V=-k/_,z=V>0?1.324717957244746*Math.max(N,i(V)):N,q=v-B*z;if(q!==v){do A(q),q=k===0?v:v-O/k/(1+l);while(B*q>B*v);e(_)*v*v>e(w/v)&&(S=-w/v,m=(S-p)/v)}}var U=Y.solveQuadratic(_,m,S,E,I,P),j=I==null;return isFinite(v)&&(U===0||U>0&&v!==E[0]&&v!==E[1])&&(j||v>I-a&&v<P+a)&&(E[U++]=j?v:h(v,I,P)),U}}},lt={_id:1,_pools:{},get:function(n){if(n){var t=this._pools[n];return t||(t=this._pools[n]={_id:1}),t._id++}else return this._id++}},R=b.extend({_class:"Point",_readIndex:!0,initialize:function(t,e){var i=typeof t,r=this.__read,s=0;if(i==="number"){var a=typeof e=="number";this._set(t,a?e:t),r&&(s=a?2:1)}else if(i==="undefined"||t===null)this._set(0,0),r&&(s=t===null?1:0);else{var l=i==="string"?t.split(/[\s,]+/)||[]:t;s=1,Array.isArray(l)?this._set(+l[0],+(l.length>1?l[1]:l[0])):"x"in l?this._set(l.x||0,l.y||0):"width"in l?this._set(l.width||0,l.height||0):"angle"in l?(this._set(l.length||0,0),this.setAngle(l.angle||0)):(this._set(0,0),s=0)}return r&&(this.__read=s),this},set:"#initialize",_set:function(n,t){return this.x=n,this.y=t,this},equals:function(n){return this===n||n&&(this.x===n.x&&this.y===n.y||Array.isArray(n)&&this.x===n[0]&&this.y===n[1])||!1},clone:function(){return new R(this.x,this.y)},toString:function(){var n=Q.instance;return"{ x: "+n.number(this.x)+", y: "+n.number(this.y)+" }"},_serialize:function(n){var t=n.formatter;return[t.number(this.x),t.number(this.y)]},getLength:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},setLength:function(n){if(this.isZero()){var t=this._angle||0;this._set(Math.cos(t)*n,Math.sin(t)*n)}else{var e=n/this.getLength();Y.isZero(e)&&this.getAngle(),this._set(this.x*e,this.y*e)}},getAngle:function(){return this.getAngleInRadians.apply(this,arguments)*180/Math.PI},setAngle:function(n){this.setAngleInRadians.call(this,n*Math.PI/180)},getAngleInDegrees:"#getAngle",setAngleInDegrees:"#setAngle",getAngleInRadians:function(){if(arguments.length){var n=R.read(arguments),t=this.getLength()*n.getLength();if(Y.isZero(t))return NaN;var e=this.dot(n)/t;return Math.acos(e<-1?-1:e>1?1:e)}else return this.isZero()?this._angle||0:this._angle=Math.atan2(this.y,this.x)},setAngleInRadians:function(n){if(this._angle=n,!this.isZero()){var t=this.getLength();this._set(Math.cos(n)*t,Math.sin(n)*t)}},getQuadrant:function(){return this.x>=0?this.y>=0?1:4:this.y>=0?2:3}},{beans:!1,getDirectedAngle:function(){var n=R.read(arguments);return Math.atan2(this.cross(n),this.dot(n))*180/Math.PI},getDistance:function(){var n=arguments,t=R.read(n),e=t.x-this.x,i=t.y-this.y,r=e*e+i*i,s=b.read(n);return s?r:Math.sqrt(r)},normalize:function(n){n===y&&(n=1);var t=this.getLength(),e=t!==0?n/t:0,i=new R(this.x*e,this.y*e);return e>=0&&(i._angle=this._angle),i},rotate:function(n,t){if(n===0)return this.clone();n=n*Math.PI/180;var e=t?this.subtract(t):this,i=Math.sin(n),r=Math.cos(n);return e=new R(e.x*r-e.y*i,e.x*i+e.y*r),t?e.add(t):e},transform:function(n){return n?n._transformPoint(this):this},add:function(){var n=R.read(arguments);return new R(this.x+n.x,this.y+n.y)},subtract:function(){var n=R.read(arguments);return new R(this.x-n.x,this.y-n.y)},multiply:function(){var n=R.read(arguments);return new R(this.x*n.x,this.y*n.y)},divide:function(){var n=R.read(arguments);return new R(this.x/n.x,this.y/n.y)},modulo:function(){var n=R.read(arguments);return new R(this.x%n.x,this.y%n.y)},negate:function(){return new R(-this.x,-this.y)},isInside:function(){return ct.read(arguments).contains(this)},isClose:function(){var n=arguments,t=R.read(n),e=b.read(n);return this.getDistance(t)<=e},isCollinear:function(){var n=R.read(arguments);return R.isCollinear(this.x,this.y,n.x,n.y)},isColinear:"#isCollinear",isOrthogonal:function(){var n=R.read(arguments);return R.isOrthogonal(this.x,this.y,n.x,n.y)},isZero:function(){var n=Y.isZero;return n(this.x)&&n(this.y)},isNaN:function(){return isNaN(this.x)||isNaN(this.y)},isInQuadrant:function(n){return this.x*(n>1&&n<4?-1:1)>=0&&this.y*(n>2?-1:1)>=0},dot:function(){var n=R.read(arguments);return this.x*n.x+this.y*n.y},cross:function(){var n=R.read(arguments);return this.x*n.y-this.y*n.x},project:function(){var n=R.read(arguments),t=n.isZero()?0:this.dot(n)/n.dot(n);return new R(n.x*t,n.y*t)},statics:{min:function(){var n=arguments,t=R.read(n),e=R.read(n);return new R(Math.min(t.x,e.x),Math.min(t.y,e.y))},max:function(){var n=arguments,t=R.read(n),e=R.read(n);return new R(Math.max(t.x,e.x),Math.max(t.y,e.y))},random:function(){return new R(Math.random(),Math.random())},isCollinear:function(n,t,e,i){return Math.abs(n*i-t*e)<=Math.sqrt((n*n+t*t)*(e*e+i*i))*1e-8},isOrthogonal:function(n,t,e,i){return Math.abs(n*e+t*i)<=Math.sqrt((n*n+t*t)*(e*e+i*i))*1e-8}}},b.each(["round","ceil","floor","abs"],function(n){var t=Math[n];this[n]=function(){return new R(t(this.x),t(this.y))}},{})),Ft=R.extend({initialize:function(t,e,i,r){this._x=t,this._y=e,this._owner=i,this._setter=r},_set:function(n,t,e){return this._x=n,this._y=t,e||this._owner[this._setter](this),this},getX:function(){return this._x},setX:function(n){this._x=n,this._owner[this._setter](this)},getY:function(){return this._y},setY:function(n){this._y=n,this._owner[this._setter](this)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(n){this._owner._changeSelection(this._getSelection(),n)},_getSelection:function(){return this._setter==="setPosition"?4:0}}),ot=b.extend({_class:"Size",_readIndex:!0,initialize:function(t,e){var i=typeof t,r=this.__read,s=0;if(i==="number"){var a=typeof e=="number";this._set(t,a?e:t),r&&(s=a?2:1)}else if(i==="undefined"||t===null)this._set(0,0),r&&(s=t===null?1:0);else{var l=i==="string"?t.split(/[\s,]+/)||[]:t;s=1,Array.isArray(l)?this._set(+l[0],+(l.length>1?l[1]:l[0])):"width"in l?this._set(l.width||0,l.height||0):"x"in l?this._set(l.x||0,l.y||0):(this._set(0,0),s=0)}return r&&(this.__read=s),this},set:"#initialize",_set:function(n,t){return this.width=n,this.height=t,this},equals:function(n){return n===this||n&&(this.width===n.width&&this.height===n.height||Array.isArray(n)&&this.width===n[0]&&this.height===n[1])||!1},clone:function(){return new ot(this.width,this.height)},toString:function(){var n=Q.instance;return"{ width: "+n.number(this.width)+", height: "+n.number(this.height)+" }"},_serialize:function(n){var t=n.formatter;return[t.number(this.width),t.number(this.height)]},add:function(){var n=ot.read(arguments);return new ot(this.width+n.width,this.height+n.height)},subtract:function(){var n=ot.read(arguments);return new ot(this.width-n.width,this.height-n.height)},multiply:function(){var n=ot.read(arguments);return new ot(this.width*n.width,this.height*n.height)},divide:function(){var n=ot.read(arguments);return new ot(this.width/n.width,this.height/n.height)},modulo:function(){var n=ot.read(arguments);return new ot(this.width%n.width,this.height%n.height)},negate:function(){return new ot(-this.width,-this.height)},isZero:function(){var n=Y.isZero;return n(this.width)&&n(this.height)},isNaN:function(){return isNaN(this.width)||isNaN(this.height)},statics:{min:function(n,t){return new ot(Math.min(n.width,t.width),Math.min(n.height,t.height))},max:function(n,t){return new ot(Math.max(n.width,t.width),Math.max(n.height,t.height))},random:function(){return new ot(Math.random(),Math.random())}}},b.each(["round","ceil","floor","abs"],function(n){var t=Math[n];this[n]=function(){return new ot(t(this.width),t(this.height))}},{})),Vt=ot.extend({initialize:function(t,e,i,r){this._width=t,this._height=e,this._owner=i,this._setter=r},_set:function(n,t,e){return this._width=n,this._height=t,e||this._owner[this._setter](this),this},getWidth:function(){return this._width},setWidth:function(n){this._width=n,this._owner[this._setter](this)},getHeight:function(){return this._height},setHeight:function(n){this._height=n,this._owner[this._setter](this)}}),ct=b.extend({_class:"Rectangle",_readIndex:!0,beans:!0,initialize:function(t,e,i,r){var s=arguments,a=typeof t,l;if(a==="number"?(this._set(t,e,i,r),l=4):a==="undefined"||t===null?(this._set(0,0,0,0),l=t===null?1:0):s.length===1&&(Array.isArray(t)?(this._set.apply(this,t),l=1):t.x!==y||t.width!==y?(this._set(t.x||0,t.y||0,t.width||0,t.height||0),l=1):t.from===y&&t.to===y&&(this._set(0,0,0,0),b.readSupported(s,this)&&(l=1))),l===y){var h=R.readNamed(s,"from"),f=b.peek(s),d=h.x,_=h.y,g,p;if(f&&f.x!==y||b.hasNamed(s,"to")){var w=R.readNamed(s,"to");g=w.x-d,p=w.y-_,g<0&&(d=w.x,g=-g),p<0&&(_=w.y,p=-p)}else{var E=ot.read(s);g=E.width,p=E.height}this._set(d,_,g,p),l=s.__index}var I=s.__filtered;return I&&(this.__filtered=I),this.__read&&(this.__read=l),this},set:"#initialize",_set:function(n,t,e,i){return this.x=n,this.y=t,this.width=e,this.height=i,this},clone:function(){return new ct(this.x,this.y,this.width,this.height)},equals:function(n){var t=b.isPlainValue(n)?ct.read(arguments):n;return t===this||t&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height||!1},toString:function(){var n=Q.instance;return"{ x: "+n.number(this.x)+", y: "+n.number(this.y)+", width: "+n.number(this.width)+", height: "+n.number(this.height)+" }"},_serialize:function(n){var t=n.formatter;return[t.number(this.x),t.number(this.y),t.number(this.width),t.number(this.height)]},getPoint:function(n){var t=n?R:Ft;return new t(this.x,this.y,this,"setPoint")},setPoint:function(){var n=R.read(arguments);this.x=n.x,this.y=n.y},getSize:function(n){var t=n?ot:Vt;return new t(this.width,this.height,this,"setSize")},_fw:1,_fh:1,setSize:function(){var n=ot.read(arguments),t=this._sx,e=this._sy,i=n.width,r=n.height;t&&(this.x+=(this.width-i)*t),e&&(this.y+=(this.height-r)*e),this.width=i,this.height=r,this._fw=this._fh=1},getLeft:function(){return this.x},setLeft:function(n){if(!this._fw){var t=n-this.x;this.width-=this._sx===.5?t*2:t}this.x=n,this._sx=this._fw=0},getTop:function(){return this.y},setTop:function(n){if(!this._fh){var t=n-this.y;this.height-=this._sy===.5?t*2:t}this.y=n,this._sy=this._fh=0},getRight:function(){return this.x+this.width},setRight:function(n){if(!this._fw){var t=n-this.x;this.width=this._sx===.5?t*2:t}this.x=n-this.width,this._sx=1,this._fw=0},getBottom:function(){return this.y+this.height},setBottom:function(n){if(!this._fh){var t=n-this.y;this.height=this._sy===.5?t*2:t}this.y=n-this.height,this._sy=1,this._fh=0},getCenterX:function(){return this.x+this.width/2},setCenterX:function(n){this._fw||this._sx===.5?this.x=n-this.width/2:(this._sx&&(this.x+=(n-this.x)*2*this._sx),this.width=(n-this.x)*2),this._sx=.5,this._fw=0},getCenterY:function(){return this.y+this.height/2},setCenterY:function(n){this._fh||this._sy===.5?this.y=n-this.height/2:(this._sy&&(this.y+=(n-this.y)*2*this._sy),this.height=(n-this.y)*2),this._sy=.5,this._fh=0},getCenter:function(n){var t=n?R:Ft;return new t(this.getCenterX(),this.getCenterY(),this,"setCenter")},setCenter:function(){var n=R.read(arguments);return this.setCenterX(n.x),this.setCenterY(n.y),this},getArea:function(){return this.width*this.height},isEmpty:function(){return this.width===0||this.height===0},contains:function(n){return n&&n.width!==y||(Array.isArray(n)?n:arguments).length===4?this._containsRectangle(ct.read(arguments)):this._containsPoint(R.read(arguments))},_containsPoint:function(n){var t=n.x,e=n.y;return t>=this.x&&e>=this.y&&t<=this.x+this.width&&e<=this.y+this.height},_containsRectangle:function(n){var t=n.x,e=n.y;return t>=this.x&&e>=this.y&&t+n.width<=this.x+this.width&&e+n.height<=this.y+this.height},intersects:function(){var n=ct.read(arguments),t=b.read(arguments)||0;return n.x+n.width>this.x-t&&n.y+n.height>this.y-t&&n.x<this.x+this.width+t&&n.y<this.y+this.height+t},intersect:function(){var n=ct.read(arguments),t=Math.max(this.x,n.x),e=Math.max(this.y,n.y),i=Math.min(this.x+this.width,n.x+n.width),r=Math.min(this.y+this.height,n.y+n.height);return new ct(t,e,i-t,r-e)},unite:function(){var n=ct.read(arguments),t=Math.min(this.x,n.x),e=Math.min(this.y,n.y),i=Math.max(this.x+this.width,n.x+n.width),r=Math.max(this.y+this.height,n.y+n.height);return new ct(t,e,i-t,r-e)},include:function(){var n=R.read(arguments),t=Math.min(this.x,n.x),e=Math.min(this.y,n.y),i=Math.max(this.x+this.width,n.x),r=Math.max(this.y+this.height,n.y);return new ct(t,e,i-t,r-e)},expand:function(){var n=ot.read(arguments),t=n.width,e=n.height;return new ct(this.x-t/2,this.y-e/2,this.width+t,this.height+e)},scale:function(n,t){return this.expand(this.width*n-this.width,this.height*(t===y?n:t)-this.height)}},b.each([["Top","Left"],["Top","Right"],["Bottom","Left"],["Bottom","Right"],["Left","Center"],["Top","Center"],["Right","Center"],["Bottom","Center"]],function(n,t){var e=n.join(""),i=/^[RL]/.test(e);t>=4&&(n[1]+=i?"Y":"X");var r=n[i?0:1],s=n[i?1:0],a="get"+r,l="get"+s,h="set"+r,f="set"+s,d="get"+e,_="set"+e;this[d]=function(g){var p=g?R:Ft;return new p(this[a](),this[l](),this,_)},this[_]=function(){var g=R.read(arguments);this[h](g.x),this[f](g.y)}},{beans:!0})),Yt=ct.extend({initialize:function(t,e,i,r,s,a){this._set(t,e,i,r,!0),this._owner=s,this._setter=a},_set:function(n,t,e,i,r){return this._x=n,this._y=t,this._width=e,this._height=i,r||this._owner[this._setter](this),this}},new function(){var n=ct.prototype;return b.each(["x","y","width","height"],function(t){var e=b.capitalize(t),i="_"+t;this["get"+e]=function(){return this[i]},this["set"+e]=function(r){this[i]=r,this._dontNotify||this._owner[this._setter](this)}},b.each(["Point","Size","Center","Left","Top","Right","Bottom","CenterX","CenterY","TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],function(t){var e="set"+t;this[e]=function(){this._dontNotify=!0,n[e].apply(this,arguments),this._dontNotify=!1,this._owner[this._setter](this)}},{isSelected:function(){return!!(this._owner._selection&2)},setSelected:function(t){var e=this._owner;e._changeSelection&&e._changeSelection(2,t)}}))}),St=b.extend({_class:"Matrix",initialize:function n(t,e){var i=arguments,r=i.length,s=!0;if(r>=6?this._set.apply(this,i):r===1||r===2?t instanceof n?this._set(t._a,t._b,t._c,t._d,t._tx,t._ty,e):Array.isArray(t)?this._set.apply(this,e?t.concat([e]):t):s=!1:r?s=!1:this.reset(),!s)throw new Error("Unsupported matrix parameters");return this},set:"#initialize",_set:function(n,t,e,i,r,s,a){return this._a=n,this._b=t,this._c=e,this._d=i,this._tx=r,this._ty=s,a||this._changed(),this},_serialize:function(n,t){return b.serialize(this.getValues(),n,!0,t)},_changed:function(){var n=this._owner;n&&(n._applyMatrix?n.transform(null,!0):n._changed(25))},clone:function(){return new St(this._a,this._b,this._c,this._d,this._tx,this._ty)},equals:function(n){return n===this||n&&this._a===n._a&&this._b===n._b&&this._c===n._c&&this._d===n._d&&this._tx===n._tx&&this._ty===n._ty},toString:function(){var n=Q.instance;return"[["+[n.number(this._a),n.number(this._c),n.number(this._tx)].join(", ")+"], ["+[n.number(this._b),n.number(this._d),n.number(this._ty)].join(", ")+"]]"},reset:function(n){return this._a=this._d=1,this._b=this._c=this._tx=this._ty=0,n||this._changed(),this},apply:function(n,t){var e=this._owner;return e?(e.transform(null,b.pick(n,!0),t),this.isIdentity()):!1},translate:function(){var n=R.read(arguments),t=n.x,e=n.y;return this._tx+=t*this._a+e*this._c,this._ty+=t*this._b+e*this._d,this._changed(),this},scale:function(){var n=arguments,t=R.read(n),e=R.read(n,0,{readNull:!0});return e&&this.translate(e),this._a*=t.x,this._b*=t.x,this._c*=t.y,this._d*=t.y,e&&this.translate(e.negate()),this._changed(),this},rotate:function(n){n*=Math.PI/180;var t=R.read(arguments,1),e=t.x,i=t.y,r=Math.cos(n),s=Math.sin(n),a=e-e*r+i*s,l=i-e*s-i*r,h=this._a,f=this._b,d=this._c,_=this._d;return this._a=r*h+s*d,this._b=r*f+s*_,this._c=-s*h+r*d,this._d=-s*f+r*_,this._tx+=a*h+l*d,this._ty+=a*f+l*_,this._changed(),this},shear:function(){var n=arguments,t=R.read(n),e=R.read(n,0,{readNull:!0});e&&this.translate(e);var i=this._a,r=this._b;return this._a+=t.y*this._c,this._b+=t.y*this._d,this._c+=t.x*i,this._d+=t.x*r,e&&this.translate(e.negate()),this._changed(),this},skew:function(){var n=arguments,t=R.read(n),e=R.read(n,0,{readNull:!0}),i=Math.PI/180,r=new R(Math.tan(t.x*i),Math.tan(t.y*i));return this.shear(r,e)},append:function(n,t){if(n){var e=this._a,i=this._b,r=this._c,s=this._d,a=n._a,l=n._c,h=n._b,f=n._d,d=n._tx,_=n._ty;this._a=a*e+h*r,this._c=l*e+f*r,this._b=a*i+h*s,this._d=l*i+f*s,this._tx+=d*e+_*r,this._ty+=d*i+_*s,t||this._changed()}return this},prepend:function(n,t){if(n){var e=this._a,i=this._b,r=this._c,s=this._d,a=this._tx,l=this._ty,h=n._a,f=n._c,d=n._b,_=n._d,g=n._tx,p=n._ty;this._a=h*e+f*i,this._c=h*r+f*s,this._b=d*e+_*i,this._d=d*r+_*s,this._tx=h*a+f*l+g,this._ty=d*a+_*l+p,t||this._changed()}return this},appended:function(n){return this.clone().append(n)},prepended:function(n){return this.clone().prepend(n)},invert:function(){var n=this._a,t=this._b,e=this._c,i=this._d,r=this._tx,s=this._ty,a=n*i-t*e,l=null;return a&&!isNaN(a)&&isFinite(r)&&isFinite(s)&&(this._a=i/a,this._b=-t/a,this._c=-e/a,this._d=n/a,this._tx=(e*s-i*r)/a,this._ty=(t*r-n*s)/a,l=this),l},inverted:function(){return this.clone().invert()},concatenate:"#append",preConcatenate:"#prepend",chain:"#appended",_shiftless:function(){return new St(this._a,this._b,this._c,this._d,0,0)},_orNullIfIdentity:function(){return this.isIdentity()?null:this},isIdentity:function(){return this._a===1&&this._b===0&&this._c===0&&this._d===1&&this._tx===0&&this._ty===0},isInvertible:function(){var n=this._a*this._d-this._c*this._b;return n&&!isNaN(n)&&isFinite(this._tx)&&isFinite(this._ty)},isSingular:function(){return!this.isInvertible()},transform:function(n,t,e){return arguments.length<3?this._transformPoint(R.read(arguments)):this._transformCoordinates(n,t,e)},_transformPoint:function(n,t,e){var i=n.x,r=n.y;return t||(t=new R),t._set(i*this._a+r*this._c+this._tx,i*this._b+r*this._d+this._ty,e)},_transformCoordinates:function(n,t,e){for(var i=0,r=2*e;i<r;i+=2){var s=n[i],a=n[i+1];t[i]=s*this._a+a*this._c+this._tx,t[i+1]=s*this._b+a*this._d+this._ty}return t},_transformCorners:function(n){var t=n.x,e=n.y,i=t+n.width,r=e+n.height,s=[t,e,i,e,i,r,t,r];return this._transformCoordinates(s,s,4)},_transformBounds:function(n,t,e){for(var i=this._transformCorners(n),r=i.slice(0,2),s=r.slice(),a=2;a<8;a++){var l=i[a],h=a&1;l<r[h]?r[h]=l:l>s[h]&&(s[h]=l)}return t||(t=new ct),t._set(r[0],r[1],s[0]-r[0],s[1]-r[1],e)},inverseTransform:function(){return this._inverseTransform(R.read(arguments))},_inverseTransform:function(n,t,e){var i=this._a,r=this._b,s=this._c,a=this._d,l=this._tx,h=this._ty,f=i*a-r*s,d=null;if(f&&!isNaN(f)&&isFinite(l)&&isFinite(h)){var _=n.x-this._tx,g=n.y-this._ty;t||(t=new R),d=t._set((_*a-g*s)/f,(g*i-_*r)/f,e)}return d},decompose:function(){var n=this._a,t=this._b,e=this._c,i=this._d,r=n*i-t*e,s=Math.sqrt,a=Math.atan2,l=180/Math.PI,h,f,d;if(n!==0||t!==0){var _=s(n*n+t*t);h=Math.acos(n/_)*(t>0?1:-1),f=[_,r/_],d=[a(n*e+t*i,_*_),0]}else if(e!==0||i!==0){var g=s(e*e+i*i);h=Math.asin(e/g)*(i>0?1:-1),f=[r/g,g],d=[0,a(n*e+t*i,g*g)]}else h=0,d=f=[0,0];return{translation:this.getTranslation(),rotation:h*l,scaling:new R(f),skewing:new R(d[0]*l,d[1]*l)}},getValues:function(){return[this._a,this._b,this._c,this._d,this._tx,this._ty]},getTranslation:function(){return new R(this._tx,this._ty)},getScaling:function(){return this.decompose().scaling},getRotation:function(){return this.decompose().rotation},applyToContext:function(n){this.isIdentity()||n.transform(this._a,this._b,this._c,this._d,this._tx,this._ty)}},b.each(["a","b","c","d","tx","ty"],function(n){var t=b.capitalize(n),e="_"+n;this["get"+t]=function(){return this[e]},this["set"+t]=function(i){this[e]=i,this._changed()}},{})),Rt=b.extend({_class:"Line",initialize:function(t,e,i,r,s){var a=!1;arguments.length>=4?(this._px=t,this._py=e,this._vx=i,this._vy=r,a=s):(this._px=t.x,this._py=t.y,this._vx=e.x,this._vy=e.y,a=i),a||(this._vx-=this._px,this._vy-=this._py)},getPoint:function(){return new R(this._px,this._py)},getVector:function(){return new R(this._vx,this._vy)},getLength:function(){return this.getVector().getLength()},intersect:function(n,t){return Rt.intersect(this._px,this._py,this._vx,this._vy,n._px,n._py,n._vx,n._vy,!0,t)},getSide:function(n,t){return Rt.getSide(this._px,this._py,this._vx,this._vy,n.x,n.y,!0,t)},getDistance:function(n){return Math.abs(this.getSignedDistance(n))},getSignedDistance:function(n){return Rt.getSignedDistance(this._px,this._py,this._vx,this._vy,n.x,n.y,!0)},isCollinear:function(n){return R.isCollinear(this._vx,this._vy,n._vx,n._vy)},isOrthogonal:function(n){return R.isOrthogonal(this._vx,this._vy,n._vx,n._vy)},statics:{intersect:function(n,t,e,i,r,s,a,l,h,f){h||(e-=n,i-=t,a-=r,l-=s);var d=e*l-i*a;if(!Y.isMachineZero(d)){var _=n-r,g=t-s,p=(a*g-l*_)/d,w=(e*g-i*_)/d,E=1e-12,I=-E,P=1+E;if(f||I<p&&p<P&&I<w&&w<P)return f||(p=p<=0?0:p>=1?1:p),new R(n+p*e,t+p*i)}},getSide:function(n,t,e,i,r,s,a,l){a||(e-=n,i-=t);var h=r-n,f=s-t,d=h*i-f*e;return!l&&Y.isMachineZero(d)&&(d=(h*e+h*e)/(e*e+i*i),d>=0&&d<=1&&(d=0)),d<0?-1:d>0?1:0},getSignedDistance:function(n,t,e,i,r,s,a){return a||(e-=n,i-=t),e===0?i>0?r-n:n-r:i===0?e<0?s-t:t-s:((r-n)*i-(s-t)*e)/(i>e?i*Math.sqrt(1+e*e/(i*i)):e*Math.sqrt(1+i*i/(e*e)))},getDistance:function(n,t,e,i,r,s,a){return Math.abs(Rt.getSignedDistance(n,t,e,i,r,s,a))}}}),Xt=K.extend({_class:"Project",_list:"projects",_reference:"project",_compactSerialize:!0,initialize:function(t){K.call(this,!0),this._children=[],this._namedChildren={},this._activeLayer=null,this._currentStyle=new Kt(null,null,this),this._view=Gt.create(this,t||At.getCanvas(1,1)),this._selectionItems={},this._selectionCount=0,this._updateVersion=0},_serialize:function(n,t){return b.serialize(this._children,n,!0,t)},_changed:function(n,t){if(n&1){var e=this._view;e&&(e._needsUpdate=!0,!e._requested&&e._autoUpdate&&e.requestUpdate())}var i=this._changes;if(i&&t){var r=this._changesById,s=t._id,a=r[s];a?a.flags|=n:i.push(r[s]={item:t,flags:n})}},clear:function(){for(var n=this._children,t=n.length-1;t>=0;t--)n[t].remove()},isEmpty:function(){return!this._children.length},remove:function n(){return n.base.call(this)?(this._view&&this._view.remove(),!0):!1},getView:function(){return this._view},getCurrentStyle:function(){return this._currentStyle},setCurrentStyle:function(n){this._currentStyle.set(n)},getIndex:function(){return this._index},getOptions:function(){return this._scope.settings},getLayers:function(){return this._children},getActiveLayer:function(){return this._activeLayer||new Ne({project:this,insert:!0})},getSymbolDefinitions:function(){var n=[],t={};return this.getItems({class:Ue,match:function(e){var i=e._definition,r=i._id;return t[r]||(t[r]=!0,n.push(i)),!1}}),n},getSymbols:"getSymbolDefinitions",getSelectedItems:function(){var n=this._selectionItems,t=[];for(var e in n){var i=n[e],r=i._selection;r&1&&i.isInserted()?t.push(i):r||this._updateSelection(i)}return t},_updateSelection:function(n){var t=n._id,e=this._selectionItems;n._selection?e[t]!==n&&(this._selectionCount++,e[t]=n):e[t]===n&&(this._selectionCount--,delete e[t])},selectAll:function(){for(var n=this._children,t=0,e=n.length;t<e;t++)n[t].setFullySelected(!0)},deselectAll:function(){var n=this._selectionItems;for(var t in n)n[t].setFullySelected(!1)},addLayer:function(n){return this.insertLayer(y,n)},insertLayer:function(n,t){if(t instanceof Ne){t._remove(!1,!0),b.splice(this._children,[t],n,0),t._setProject(this,!0);var e=t._name;e&&t.setName(e),this._changes&&t._changed(5),this._activeLayer||(this._activeLayer=t)}else t=null;return t},_insertItem:function(n,t,e){return t=this.insertLayer(n,t)||(this._activeLayer||this._insertItem(y,new Ne(D.NO_INSERT),!0)).insertChild(n,t),e&&t.activate&&t.activate(),t},getItems:function(n){return D._getItems(this,n)},getItem:function(n){return D._getItems(this,n,null,null,!0)[0]||null},importJSON:function(n){this.activate();var t=this._activeLayer;return b.importJSON(n,t&&t.isEmpty()&&t)},removeOn:function(n){var t=this._removeSets;if(t){n==="mouseup"&&(t.mousedrag=null);var e=t[n];if(e){for(var i in e){var r=e[i];for(var s in t){var a=t[s];a&&a!=e&&delete a[r._id]}r.remove()}t[n]=null}}},draw:function(n,t,e){this._updateVersion++,n.save(),t.applyToContext(n);for(var i=this._children,r=new b({offset:new R(0,0),pixelRatio:e,viewMatrix:t.isIdentity()?null:t,matrices:[new St],updateMatrix:!0}),s=0,a=i.length;s<a;s++)i[s].draw(n,r);if(n.restore(),this._selectionCount>0){n.save(),n.strokeWidth=1;var l=this._selectionItems,h=this._scope.settings.handleSize,f=this._updateVersion;for(var d in l)l[d]._drawSelection(n,t,h,l,f);n.restore()}}}),D=b.extend(W,{statics:{extend:function n(t){return t._serializeFields&&(t._serializeFields=b.set({},this.prototype._serializeFields,t._serializeFields)),n.base.apply(this,arguments)},INSERT:{insert:!0},NO_INSERT:{insert:!1}},_class:"Item",_name:null,_applyMatrix:!0,_canApplyMatrix:!0,_canScaleStroke:!1,_pivot:null,_visible:!0,_blendMode:"normal",_opacity:1,_locked:!1,_guide:!1,_clipMask:!1,_selection:0,_selectBounds:!0,_selectChildren:!1,_serializeFields:{name:null,applyMatrix:null,matrix:new St,pivot:null,visible:!0,blendMode:"normal",opacity:1,locked:!1,guide:!1,clipMask:!1,selected:!1,data:{}},_prioritize:["applyMatrix"]},new function(){var n=["onMouseDown","onMouseUp","onMouseDrag","onClick","onDoubleClick","onMouseMove","onMouseEnter","onMouseLeave"];return b.each(n,function(t){this._events[t]={install:function(e){this.getView()._countItemEvent(e,1)},uninstall:function(e){this.getView()._countItemEvent(e,-1)}}},{_events:{onFrame:{install:function(){this.getView()._animateItem(this,!0)},uninstall:function(){this.getView()._animateItem(this,!1)}},onLoad:{},onError:{}},statics:{_itemHandlers:n}})},{initialize:function(){},_initialize:function(n,t){var e=n&&b.isPlainObject(n),i=e&&n.internal===!0,r=this._matrix=new St,s=e&&n.project||Et.project,a=Et.settings;return this._id=i?null:lt.get(),this._parent=this._index=null,this._applyMatrix=this._canApplyMatrix&&a.applyMatrix,t&&r.translate(t),r._owner=this,this._style=new Kt(s._currentStyle,this,s),i||e&&n.insert==!1||!a.insertItems&&!(e&&n.insert==!0)?this._setProject(s):(e&&n.parent||s)._insertItem(y,this,!0),e&&n!==D.NO_INSERT&&n!==D.INSERT&&this.set(n,{internal:!0,insert:!0,project:!0,parent:!0}),e},_serialize:function(n,t){var e={},i=this;function r(s){for(var a in s){var l=i[a];b.equals(l,a==="leading"?s.fontSize*1.2:s[a])||(e[a]=b.serialize(l,n,a!=="data",t))}}return r(this._serializeFields),this instanceof $t||r(this._style._defaults),[this._class,e]},_changed:function(n){var t=this._symbol,e=this._parent||t,i=this._project;n&8&&(this._bounds=this._position=this._decomposed=y),n&16&&(this._globalMatrix=y),e&&n&72&&D._clearBoundsCache(e),n&2&&D._clearBoundsCache(this),i&&i._changed(n,this),t&&t._changed(n)},getId:function(){return this._id},getName:function(){return this._name},setName:function(n){if(this._name&&this._removeNamed(),n===+n+"")throw new Error("Names consisting only of numbers are not supported.");var t=this._getOwner();if(n&&t){var e=t._children,i=t._namedChildren;(i[n]=i[n]||[]).push(this),n in e||(e[n]=this)}this._name=n||y,this._changed(256)},getStyle:function(){return this._style},setStyle:function(n){this.getStyle().set(n)}},b.each(["locked","visible","blendMode","opacity","guide"],function(n){var t=b.capitalize(n),e="_"+n,i={locked:256,visible:265};this["get"+t]=function(){return this[e]},this["set"+t]=function(r){r!=this[e]&&(this[e]=r,this._changed(i[n]||257))}},{}),{beans:!0,getSelection:function(){return this._selection},setSelection:function(n){if(n!==this._selection){this._selection=n;var t=this._project;t&&(t._updateSelection(this),this._changed(257))}},_changeSelection:function(n,t){var e=this._selection;this.setSelection(t?e|n:e&~n)},isSelected:function(){if(this._selectChildren){for(var n=this._children,t=0,e=n.length;t<e;t++)if(n[t].isSelected())return!0}return!!(this._selection&1)},setSelected:function(n){if(this._selectChildren)for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setSelected(n);this._changeSelection(1,n)},isFullySelected:function(){var n=this._children,t=!!(this._selection&1);if(n&&t){for(var e=0,i=n.length;e<i;e++)if(!n[e].isFullySelected())return!1;return!0}return t},setFullySelected:function(n){var t=this._children;if(t)for(var e=0,i=t.length;e<i;e++)t[e].setFullySelected(n);this._changeSelection(1,n)},isClipMask:function(){return this._clipMask},setClipMask:function(n){this._clipMask!=(n=!!n)&&(this._clipMask=n,n&&(this.setFillColor(null),this.setStrokeColor(null)),this._changed(257),this._parent&&this._parent._changed(2048))},getData:function(){return this._data||(this._data={}),this._data},setData:function(n){this._data=n},getPosition:function(n){var t=n?R:Ft,e=this._position||(this._position=this._getPositionFromBounds());return new t(e.x,e.y,this,"setPosition")},setPosition:function(){this.translate(R.read(arguments).subtract(this.getPosition(!0)))},_getPositionFromBounds:function(n){return this._pivot?this._matrix._transformPoint(this._pivot):(n||this.getBounds()).getCenter(!0)},getPivot:function(){var n=this._pivot;return n?new Ft(n.x,n.y,this,"setPivot"):null},setPivot:function(){this._pivot=R.read(arguments,0,{clone:!0,readNull:!0}),this._position=y}},b.each({getStrokeBounds:{stroke:!0},getHandleBounds:{handle:!0},getInternalBounds:{internal:!0}},function(n,t){this[t]=function(e){return this.getBounds(e,n)}},{beans:!0,getBounds:function(n,t){var e=t||n instanceof St,i=b.set({},e?t:n,this._boundsOptions);(!i.stroke||this.getStrokeScaling())&&(i.cacheItem=this);var r=this._getCachedBounds(e&&n,i).rect;return arguments.length?r:new Yt(r.x,r.y,r.width,r.height,this,"setBounds")},setBounds:function(){var n=ct.read(arguments),t=this.getBounds(),e=this._matrix,i=new St,r=n.getCenter();i.translate(r),(n.width!=t.width||n.height!=t.height)&&(e.isInvertible()||(e.set(e._backup||new St().translate(e.getTranslation())),t=this.getBounds()),i.scale(t.width!==0?n.width/t.width:0,t.height!==0?n.height/t.height:0)),r=t.getCenter(),i.translate(-r.x,-r.y),this.transform(i)},_getBounds:function(n,t){var e=this._children;return!e||!e.length?new ct:(D._updateBoundsCache(this,t.cacheItem),D._getBounds(e,n,t))},_getBoundsCacheKey:function(n,t){return[n.stroke?1:0,n.handle?1:0,t?1:0].join("")},_getCachedBounds:function(n,t,e){n=n&&n._orNullIfIdentity();var i=t.internal&&!e,r=t.cacheItem,s=i?null:this._matrix._orNullIfIdentity(),a=r&&(!n||n.equals(s))&&this._getBoundsCacheKey(t,i),l=this._bounds;if(D._updateBoundsCache(this._parent||this._symbol,r),a&&l&&a in l){var h=l[a];return{rect:h.rect.clone(),nonscaling:h.nonscaling}}var f=this._getBounds(n||s,t),d=f.rect||f,_=this._style,g=f.nonscaling||_.hasStroke()&&!_.getStrokeScaling();if(a){l||(this._bounds=l={});var h=l[a]={rect:d.clone(),nonscaling:g,internal:i}}return{rect:d,nonscaling:g}},_getStrokeMatrix:function(n,t){var e=this.getStrokeScaling()?null:t&&t.internal?this:this._parent||this._symbol&&this._symbol._item,i=e?e.getViewMatrix().invert():n;return i&&i._shiftless()},statics:{_updateBoundsCache:function(n,t){if(n&&t){var e=t._id,i=n._boundsCache=n._boundsCache||{ids:{},list:[]};i.ids[e]||(i.list.push(t),i.ids[e]=t)}},_clearBoundsCache:function(n){var t=n._boundsCache;if(t){n._bounds=n._position=n._boundsCache=y;for(var e=0,i=t.list,r=i.length;e<r;e++){var s=i[e];s!==n&&(s._bounds=s._position=y,s._boundsCache&&D._clearBoundsCache(s))}}},_getBounds:function(n,t,e){var i=1/0,r=-i,s=i,a=r,l=!1;e=e||{};for(var h=0,f=n.length;h<f;h++){var d=n[h];if(d._visible&&!d.isEmpty(!0)){var _=d._getCachedBounds(t&&t.appended(d._matrix),e,!0),g=_.rect;i=Math.min(g.x,i),s=Math.min(g.y,s),r=Math.max(g.x+g.width,r),a=Math.max(g.y+g.height,a),_.nonscaling&&(l=!0)}}return{rect:isFinite(i)?new ct(i,s,r-i,a-s):new ct,nonscaling:l}}}}),{beans:!0,_decompose:function(){return this._applyMatrix?null:this._decomposed||(this._decomposed=this._matrix.decompose())},getRotation:function(){var n=this._decompose();return n?n.rotation:0},setRotation:function(n){var t=this.getRotation();if(t!=null&&n!=null){var e=this._decomposed;this.rotate(n-t),e&&(e.rotation=n,this._decomposed=e)}},getScaling:function(){var n=this._decompose(),t=n&&n.scaling;return new Ft(t?t.x:1,t?t.y:1,this,"setScaling")},setScaling:function(){var n=this.getScaling(),t=R.read(arguments,0,{clone:!0,readNull:!0});if(n&&t&&!n.equals(t)){var e=this.getRotation(),i=this._decomposed,r=new St,s=Y.isZero;if(s(n.x)||s(n.y))r.translate(i.translation),e&&r.rotate(e),r.scale(t.x,t.y),this._matrix.set(r);else{var a=this.getPosition(!0);r.translate(a),e&&r.rotate(e),r.scale(t.x/n.x,t.y/n.y),e&&r.rotate(-e),r.translate(a.negate()),this.transform(r)}i&&(i.scaling=t,this._decomposed=i)}},getMatrix:function(){return this._matrix},setMatrix:function(){var n=this._matrix;n.set.apply(n,arguments)},getGlobalMatrix:function(n){var t=this._globalMatrix;if(t)for(var e=this._parent,i=[];e;){if(!e._globalMatrix){t=null;for(var r=0,s=i.length;r<s;r++)i[r]._globalMatrix=null;break}i.push(e),e=e._parent}if(!t){t=this._globalMatrix=this._matrix.clone();var e=this._parent;e&&t.prepend(e.getGlobalMatrix(!0))}return n?t:t.clone()},getViewMatrix:function(){return this.getGlobalMatrix().prepend(this.getView()._matrix)},getApplyMatrix:function(){return this._applyMatrix},setApplyMatrix:function(n){(this._applyMatrix=this._canApplyMatrix&&!!n)&&this.transform(null,!0)},getTransformContent:"#getApplyMatrix",setTransformContent:"#setApplyMatrix"},{getProject:function(){return this._project},_setProject:function(n,t){if(this._project!==n){this._project&&this._installEvents(!1),this._project=n;for(var e=this._children,i=0,r=e&&e.length;i<r;i++)e[i]._setProject(n);t=!0}t&&this._installEvents(!0)},getView:function(){return this._project._view},_installEvents:function n(t){n.base.call(this,t);for(var e=this._children,i=0,r=e&&e.length;i<r;i++)e[i]._installEvents(t)},getLayer:function(){for(var n=this;n=n._parent;)if(n instanceof Ne)return n;return null},getParent:function(){return this._parent},setParent:function(n){return n.addChild(this)},_getOwner:"#getParent",getChildren:function(){return this._children},setChildren:function(n){this.removeChildren(),this.addChildren(n)},getFirstChild:function(){return this._children&&this._children[0]||null},getLastChild:function(){return this._children&&this._children[this._children.length-1]||null},getNextSibling:function(){var n=this._getOwner();return n&&n._children[this._index+1]||null},getPreviousSibling:function(){var n=this._getOwner();return n&&n._children[this._index-1]||null},getIndex:function(){return this._index},setIndex:function(n){var t=this._parent,e=t&&t._children;e&&t.insertChildren(n in e?n:y,[this])},equals:function(n){return n===this||n&&this._class===n._class&&this._style.equals(n._style)&&this._matrix.equals(n._matrix)&&this._locked===n._locked&&this._visible===n._visible&&this._blendMode===n._blendMode&&this._opacity===n._opacity&&this._clipMask===n._clipMask&&this._guide===n._guide&&this._equals(n)||!1},_equals:function(n){return b.equals(this._children,n._children)},clone:function(n){var t=new this.constructor(D.NO_INSERT),e=this._children,i=b.pick(n?n.insert:y,n===y||n===!0),r=b.pick(n?n.deep:y,!0);e&&t.copyAttributes(this),(!e||r)&&t.copyContent(this),e||t.copyAttributes(this),i&&t.insertAbove(this);var s=this._name,a=this._parent;if(s&&a){for(var e=a._children,l=s,h=1;e[s];)s=l+" "+h++;s!==l&&t.setName(s)}return t},copyContent:function(n){for(var t=n._children,e=0,i=t&&t.length;e<i;e++)this.addChild(t[e].clone(!1),!0)},copyAttributes:function(n,t){this.setStyle(n._style);for(var e=["_locked","_visible","_blendMode","_opacity","_clipMask","_guide"],i=0,r=e.length;i<r;i++){var s=e[i];n.hasOwnProperty(s)&&(this[s]=n[s])}t||this._matrix.set(n._matrix,!0),this.setApplyMatrix(n._applyMatrix),this.setPivot(n._pivot),this.setSelection(n._selection);var a=n._data,l=n._name;this._data=a?b.clone(a):null,l&&this.setName(l)},rasterize:function(n,t){var e,i,r;b.isPlainObject(n)?(e=n.resolution,i=n.insert,r=n.raster):(e=n,i=t),r||(r=new Re(D.NO_INSERT));var s=this.getStrokeBounds(),a=(e||this.getView().getResolution())/72,l=s.getTopLeft().floor(),h=s.getBottomRight().ceil(),f=new ot(h.subtract(l)),d=f.multiply(a);if(r.setSize(d,!0),!d.isZero()){var _=r.getContext(!0),g=new St().scale(a).translate(l.negate());_.save(),g.applyToContext(_),this.draw(_,new b({matrices:[g]})),_.restore()}return r._matrix.set(new St().translate(l.add(f.divide(2))).scale(1/a)),(i===y||i)&&r.insertAbove(this),r},contains:function(){var n=this._matrix;return n.isInvertible()&&!!this._contains(n._inverseTransform(R.read(arguments)))},_contains:function(n){var t=this._children;if(t){for(var e=t.length-1;e>=0;e--)if(t[e].contains(n))return!0;return!1}return n.isInside(this.getInternalBounds())},isInside:function(){return ct.read(arguments).contains(this.getBounds())},_asPathItem:function(){return new qt.Rectangle({rectangle:this.getInternalBounds(),matrix:this._matrix,insert:!1})},intersects:function(n,t){return n instanceof D?this._asPathItem().getIntersections(n._asPathItem(),null,t,!0).length>0:!1}},new function(){function n(){var i=arguments;return this._hitTest(R.read(i),be.getOptions(i))}function t(){var i=arguments,r=R.read(i),s=be.getOptions(i),a=[];return this._hitTest(r,new b({all:a},s)),a}function e(i,r,s,a){var l=this._children;if(l)for(var h=l.length-1;h>=0;h--){var f=l[h],d=f!==a&&f._hitTest(i,r,s);if(d&&!r.all)return d}return null}return Xt.inject({hitTest:n,hitTestAll:t,_hitTest:e}),{hitTest:n,hitTestAll:t,_hitTestChildren:e}},{_hitTest:function(n,t,e){if(this._locked||!this._visible||this._guide&&!t.guides||this.isEmpty())return null;var i=this._matrix,r=e?e.appended(i):this.getGlobalMatrix().prepend(this.getView()._matrix),s=Math.max(t.tolerance,1e-12),a=t._tolerancePadding=new ot(qt._getStrokePadding(s,i._shiftless().invert()));if(n=i._inverseTransform(n),!n||!this._children&&!this.getBounds({internal:!0,stroke:!0,handle:!0}).expand(a.multiply(2))._containsPoint(n))return null;var l=!(t.guides&&!this._guide||t.selected&&!this.isSelected()||t.type&&t.type!==b.hyphenate(this._class)||t.class&&!(this instanceof t.class)),h=t.match,f=this,d,_;function g(v){return v&&h&&!h(v)&&(v=null),v&&t.all&&t.all.push(v),v}function p(v,m){var S=m?d["get"+m]():f.getPosition();if(n.subtract(S).divide(a).length<=1)return new be(v,f,{name:m?b.hyphenate(m):v,point:S})}var w=t.position,E=t.center,I=t.bounds;if(l&&this._parent&&(w||E||I)){if((E||I)&&(d=this.getInternalBounds()),_=w&&p("position")||E&&p("center","Center"),!_&&I)for(var P=["TopLeft","TopRight","BottomLeft","BottomRight","LeftCenter","TopCenter","RightCenter","BottomCenter"],x=0;x<8&&!_;x++)_=p("bounds",P[x]);_=g(_)}return _||(_=this._hitTestChildren(n,t,r)||l&&g(this._hitTestSelf(n,t,r,this.getStrokeScaling()?null:r._shiftless().invert()))||null),_&&_.point&&(_.point=i.transform(_.point)),_},_hitTestSelf:function(n,t){if(t.fill&&this.hasFill()&&this._contains(n))return new be("fill",this)},matches:function(n,t){function e(a,l){for(var h in a)if(a.hasOwnProperty(h)){var f=a[h],d=l[h];if(b.isPlainObject(f)&&b.isPlainObject(d)){if(!e(f,d))return!1}else if(!b.equals(f,d))return!1}return!0}var i=typeof n;if(i==="object"){for(var r in n)if(n.hasOwnProperty(r)&&!this.matches(r,n[r]))return!1;return!0}else{if(i==="function")return n(this);if(n==="match")return t(this);var s=/^(empty|editable)$/.test(n)?this["is"+b.capitalize(n)]():n==="type"?b.hyphenate(this._class):this[n];if(n==="class"){if(typeof t=="function")return this instanceof t;s=this._class}if(typeof t=="function")return!!t(s);if(t){if(t.test)return t.test(s);if(b.isPlainObject(t))return e(t,s)}return b.equals(s,t)}},getItems:function(n){return D._getItems(this,n,this._matrix)},getItem:function(n){return D._getItems(this,n,this._matrix,null,!0)[0]||null},statics:{_getItems:function n(t,e,i,r,s){if(!r){var a=typeof e=="object"&&e,l=a&&a.overlapping,h=a&&a.inside,f=l||h,g=f&&ct.read([f]);r={items:[],recursive:a&&a.recursive!==!1,inside:!!h,overlapping:!!l,rect:g,path:l&&new qt.Rectangle({rectangle:g,insert:!1})},a&&(e=b.filter({},e,{recursive:!0,inside:!0,overlapping:!0}))}var d=t._children,_=r.items,g=r.rect;i=g&&(i||new St);for(var p=0,w=d&&d.length;p<w;p++){var E=d[p],I=i&&i.appended(E._matrix),P=!0;if(g){var f=E.getBounds(I);if(!g.intersects(f))continue;g.contains(f)||r.overlapping&&(f.contains(g)||r.path.intersects(E,I))||(P=!1)}if(P&&E.matches(e)&&(_.push(E),s)||(r.recursive!==!1&&n(E,e,I,r,s),s&&_.length>0))break}return _}}},{importJSON:function(n){var t=b.importJSON(n,this);return t!==this?this.addChild(t):t},addChild:function(n){return this.insertChild(y,n)},insertChild:function(n,t){var e=t?this.insertChildren(n,[t]):null;return e&&e[0]},addChildren:function(n){return this.insertChildren(this._children.length,n)},insertChildren:function(n,t){var e=this._children;if(e&&t&&t.length>0){t=b.slice(t);for(var i={},r=t.length-1;r>=0;r--){var s=t[r],a=s&&s._id;!s||i[a]?t.splice(r,1):(s._remove(!1,!0),i[a]=!0)}b.splice(e,t,n,0);for(var l=this._project,h=l._changes,r=0,f=t.length;r<f;r++){var s=t[r],d=s._name;s._parent=this,s._setProject(l,!0),d&&s.setName(d),h&&s._changed(5)}this._changed(11)}else t=null;return t},_insertItem:"#insertChild",_insertAt:function(n,t){var e=n&&n._getOwner(),i=n!==this&&e?this:null;return i&&(i._remove(!1,!0),e._insertItem(n._index+t,i)),i},insertAbove:function(n){return this._insertAt(n,1)},insertBelow:function(n){return this._insertAt(n,0)},sendToBack:function(){var n=this._getOwner();return n?n._insertItem(0,this):null},bringToFront:function(){var n=this._getOwner();return n?n._insertItem(y,this):null},appendTop:"#addChild",appendBottom:function(n){return this.insertChild(0,n)},moveAbove:"#insertAbove",moveBelow:"#insertBelow",addTo:function(n){return n._insertItem(y,this)},copyTo:function(n){return this.clone(!1).addTo(n)},reduce:function(n){var t=this._children;if(t&&t.length===1){var e=t[0].reduce(n);return this._parent?(e.insertAbove(this),this.remove()):e.remove(),e}return this},_removeNamed:function(){var n=this._getOwner();if(n){var t=n._children,e=n._namedChildren,i=this._name,r=e[i],s=r?r.indexOf(this):-1;s!==-1&&(t[i]==this&&delete t[i],r.splice(s,1),r.length?t[i]=r[0]:delete e[i])}},_remove:function(n,t){var e=this._getOwner(),i=this._project,r=this._index;return this._style&&this._style._dispose(),e?(this._name&&this._removeNamed(),r!=null&&(i._activeLayer===this&&(i._activeLayer=this.getNextSibling()||this.getPreviousSibling()),b.splice(e._children,null,r,1)),this._installEvents(!1),n&&i._changes&&this._changed(5),t&&e._changed(11,this),this._parent=null,!0):!1},remove:function(){return this._remove(!0,!0)},replaceWith:function(n){var t=n&&n.insertBelow(this);return t&&this.remove(),t},removeChildren:function(n,t){if(!this._children)return null;n=n||0,t=b.pick(t,this._children.length);for(var e=b.splice(this._children,null,n,t-n),i=e.length-1;i>=0;i--)e[i]._remove(!0,!1);return e.length>0&&this._changed(11),e},clear:"#removeChildren",reverseChildren:function(){if(this._children){this._children.reverse();for(var n=0,t=this._children.length;n<t;n++)this._children[n]._index=n;this._changed(11)}},isEmpty:function(n){var t=this._children,e=t?t.length:0;if(n){for(var i=0;i<e;i++)if(!t[i].isEmpty(n))return!1;return!0}return!e},isEditable:function(){for(var n=this;n;){if(!n._visible||n._locked)return!1;n=n._parent}return!0},hasFill:function(){return this.getStyle().hasFill()},hasStroke:function(){return this.getStyle().hasStroke()},hasShadow:function(){return this.getStyle().hasShadow()},_getOrder:function(n){function t(a){var l=[];do l.unshift(a);while(a=a._parent);return l}for(var e=t(this),i=t(n),r=0,s=Math.min(e.length,i.length);r<s;r++)if(e[r]!=i[r])return e[r]._index<i[r]._index?1:-1;return 0},hasChildren:function(){return this._children&&this._children.length>0},isInserted:function(){return this._parent?this._parent.isInserted():!1},isAbove:function(n){return this._getOrder(n)===-1},isBelow:function(n){return this._getOrder(n)===1},isParent:function(n){return this._parent===n},isChild:function(n){return n&&n._parent===this},isDescendant:function(n){for(var t=this;t=t._parent;)if(t===n)return!0;return!1},isAncestor:function(n){return n?n.isDescendant(this):!1},isSibling:function(n){return this._parent===n._parent},isGroupedWith:function(n){for(var t=this._parent;t;){if(t._parent&&/^(Group|Layer|CompoundPath)$/.test(t._class)&&n.isDescendant(t))return!0;t=t._parent}return!1}},b.each(["rotate","scale","shear","skew"],function(n){var t=n==="rotate";this[n]=function(){var e=arguments,i=(t?b:R).read(e),r=R.read(e,0,{readNull:!0});return this.transform(new St()[n](i,r||this.getPosition(!0)))}},{translate:function(){var n=new St;return this.transform(n.translate.apply(n,arguments))},transform:function(n,t,e){var i=this._matrix,r=n&&!n.isIdentity(),s=e&&this._canApplyMatrix||this._applyMatrix&&(r||!i.isIdentity()||t&&this._children);if(!r&&!s)return this;if(r){!n.isInvertible()&&i.isInvertible()&&(i._backup=i.getValues()),i.prepend(n,!0);var a=this._style,l=a.getFillColor(!0),h=a.getStrokeColor(!0);l&&l.transform(n),h&&h.transform(n)}if(s&&(s=this._transformContent(i,t,e))){var f=this._pivot;f&&i._transformPoint(f,f,!0),i.reset(!0),e&&this._canApplyMatrix&&(this._applyMatrix=!0)}var d=this._bounds,_=this._position;(r||s)&&this._changed(25);var g=r&&d&&n.decompose();if(g&&g.skewing.isZero()&&g.rotation%90===0){for(var p in d){var w=d[p];if(w.nonscaling)delete d[p];else if(s||!w.internal){var E=w.rect;n._transformBounds(E,E)}}this._bounds=d;var I=d[this._getBoundsCacheKey(this._boundsOptions||{})];I&&(this._position=this._getPositionFromBounds(I.rect))}else r&&_&&this._pivot&&(this._position=n._transformPoint(_,_));return this},_transformContent:function(n,t,e){var i=this._children;if(i){for(var r=0,s=i.length;r<s;r++)i[r].transform(n,t,e);return!0}},globalToLocal:function(){return this.getGlobalMatrix(!0)._inverseTransform(R.read(arguments))},localToGlobal:function(){return this.getGlobalMatrix(!0)._transformPoint(R.read(arguments))},parentToLocal:function(){return this._matrix._inverseTransform(R.read(arguments))},localToParent:function(){return this._matrix._transformPoint(R.read(arguments))},fitBounds:function(n,t){n=ct.read(arguments);var e=this.getBounds(),i=e.height/e.width,r=n.height/n.width,s=(t?i>r:i<r)?n.width/e.width:n.height/e.height,a=new ct(new R,new ot(e.width*s,e.height*s));a.setCenter(n.getCenter()),this.setBounds(a)}}),{_setStyles:function(n,t,e){var i=this._style,r=this._matrix;if(i.hasFill()&&(n.fillStyle=i.getFillColor().toCanvasStyle(n,r)),i.hasStroke()){n.strokeStyle=i.getStrokeColor().toCanvasStyle(n,r),n.lineWidth=i.getStrokeWidth();var s=i.getStrokeJoin(),a=i.getStrokeCap(),l=i.getMiterLimit();if(s&&(n.lineJoin=s),a&&(n.lineCap=a),l&&(n.miterLimit=l),Et.support.nativeDash){var h=i.getDashArray(),f=i.getDashOffset();h&&h.length&&("setLineDash"in n?(n.setLineDash(h),n.lineDashOffset=f):(n.mozDash=h,n.mozDashOffset=f))}}if(i.hasShadow()){var d=t.pixelRatio||1,_=e._shiftless().prepend(new St().scale(d,d)),g=_.transform(new R(i.getShadowBlur(),0)),p=_.transform(this.getShadowOffset());n.shadowColor=i.getShadowColor().toCanvasStyle(n),n.shadowBlur=g.getLength(),n.shadowOffsetX=p.x,n.shadowOffsetY=p.y}},draw:function(n,t,e){if(this._updateVersion=this._project._updateVersion,!(!this._visible||this._opacity===0)){var i=t.matrices,r=t.viewMatrix,s=this._matrix,a=i[i.length-1].appended(s);if(a.isInvertible()){r=r?r.appended(a):a,i.push(a),t.updateMatrix&&(this._globalMatrix=a);var l=this._blendMode,h=Y.clamp(this._opacity,0,1),f=l==="normal",d=kt.nativeModes[l],_=f&&h===1||t.dontStart||t.clip||(d||f&&h<1)&&this._canComposite(),g=t.pixelRatio||1,p,w,E;if(!_){var I=this.getStrokeBounds(r);if(!I.width||!I.height){i.pop();return}E=t.offset,w=t.offset=I.getTopLeft().floor(),p=n,n=At.getContext(I.getSize().ceil().add(1).multiply(g)),g!==1&&n.scale(g,g)}n.save();var P=e?e.appended(s):this._canScaleStroke&&!this.getStrokeScaling(!0)&&r,x=!_&&t.clipItem,v=!P||x;if(_?(n.globalAlpha=h,d&&(n.globalCompositeOperation=l)):v&&n.translate(-w.x,-w.y),v&&(_?s:r).applyToContext(n),x&&t.clipItem.draw(n,t.extend({clip:!0})),P){n.setTransform(g,0,0,g,0,0);var m=t.offset;m&&n.translate(-m.x,-m.y)}this._draw(n,t,r,P),n.restore(),i.pop(),t.clip&&!t.dontFinish&&n.clip(this.getFillRule()),_||(kt.process(l,n,p,h,w.subtract(E).multiply(g)),At.release(n),t.offset=E)}}},_isUpdated:function(n){var t=this._parent;if(t instanceof pe)return t._isUpdated(n);var e=this._updateVersion===n;return!e&&t&&t._visible&&t._isUpdated(n)&&(this._updateVersion=n,e=!0),e},_drawSelection:function(n,t,e,i,r){var s=this._selection,a=s&1,l=s&2||a&&this._selectBounds,h=s&4;if(this._drawSelected||(a=!1),(a||l||h)&&this._isUpdated(r)){var f,d=this.getSelectedColor(!0)||(f=this.getLayer())&&f.getSelectedColor(!0),_=t.appended(this.getGlobalMatrix(!0)),g=e/2;if(n.strokeStyle=n.fillStyle=d?d.toCanvasStyle(n):"#009dec",a&&this._drawSelected(n,_,i),h){var p=this.getPosition(!0),w=this._parent,E=w?w.localToGlobal(p):p,I=E.x,P=E.y;n.beginPath(),n.arc(I,P,g,0,Math.PI*2,!0),n.stroke();for(var x=[[0,-1],[1,0],[0,1],[-1,0]],v=g,m=e+1,S=0;S<4;S++){var k=x[S],O=k[0],A=k[1];n.moveTo(I+O*v,P+A*v),n.lineTo(I+O*m,P+A*m),n.stroke()}}if(l){var M=_._transformCorners(this.getInternalBounds());n.beginPath();for(var S=0;S<8;S++)n[S?"lineTo":"moveTo"](M[S],M[++S]);n.closePath(),n.stroke();for(var S=0;S<8;S++)n.fillRect(M[S]-g,M[++S]-g,e,e)}}},_canComposite:function(){return!1}},b.each(["down","drag","up","move"],function(n){this["removeOn"+b.capitalize(n)]=function(){var t={};return t[n]=!0,this.removeOn(t)}},{removeOn:function(n){for(var t in n)if(n[t]){var e="mouse"+t,i=this._project,r=i._removeSets=i._removeSets||{};r[e]=r[e]||{},r[e][this._id]=this}return this}}),{tween:function(n,t,e){e||(e=t,t=n,n=null,e||(e=t,t=null));var i=e&&e.easing,r=e&&e.start,s=e!=null&&(typeof e=="number"?e:e.duration),a=new Lt(this,n,t,s,i,r);function l(h){a._handleFrame(h.time*1e3),a.running||this.off("frame",l)}return s&&this.on("frame",l),a},tweenTo:function(n,t){return this.tween(null,n,t)},tweenFrom:function(n,t){return this.tween(n,null,t)}}),$t=D.extend({_class:"Group",_selectBounds:!1,_selectChildren:!0,_serializeFields:{children:[]},initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||this.addChildren(Array.isArray(t)?t:arguments)},_changed:function n(t){n.base.call(this,t),t&2050&&(this._clipItem=y)},_getClipItem:function(){var n=this._clipItem;if(n===y){n=null;for(var t=this._children,e=0,i=t.length;e<i;e++)if(t[e]._clipMask){n=t[e];break}this._clipItem=n}return n},isClipped:function(){return!!this._getClipItem()},setClipped:function(n){var t=this.getFirstChild();t&&t.setClipMask(n)},_getBounds:function n(t,e){var i=this._getClipItem();return i?i._getCachedBounds(i._matrix.prepended(t),b.set({},e,{stroke:!1})):n.base.call(this,t,e)},_hitTestChildren:function n(t,e,i){var r=this._getClipItem();return(!r||r.contains(t))&&n.base.call(this,t,e,i,r)},_draw:function(n,t){var e=t.clip,i=!e&&this._getClipItem();t=t.extend({clipItem:i,clip:!1}),e?(n.beginPath(),t.dontStart=t.dontFinish=!0):i&&i.draw(n,t.extend({clip:!0}));for(var r=this._children,s=0,a=r.length;s<a;s++){var l=r[s];l!==i&&l.draw(n,t)}}}),Ne=$t.extend({_class:"Layer",initialize:function(){$t.apply(this,arguments)},_getOwner:function(){return this._parent||this._index!=null&&this._project},isInserted:function n(){return this._parent?n.base.call(this):this._index!=null},activate:function(){this._project._activeLayer=this},_hitTestSelf:function(){}}),ue=D.extend({_class:"Shape",_applyMatrix:!1,_canApplyMatrix:!1,_canScaleStroke:!0,_serializeFields:{type:null,size:null,radius:null},initialize:function(t,e){this._initialize(t,e)},_equals:function(n){return this._type===n._type&&this._size.equals(n._size)&&b.equals(this._radius,n._radius)},copyContent:function(n){this.setType(n._type),this.setSize(n._size),this.setRadius(n._radius)},getType:function(){return this._type},setType:function(n){this._type=n},getShape:"#getType",setShape:"#setType",getSize:function(){var n=this._size;return new Vt(n.width,n.height,this,"setSize")},setSize:function(){var n=ot.read(arguments);if(!this._size)this._size=n.clone();else if(!this._size.equals(n)){var t=this._type,e=n.width,i=n.height;t==="rectangle"?this._radius.set(ot.min(this._radius,n.divide(2).abs())):t==="circle"?(e=i=(e+i)/2,this._radius=e/2):t==="ellipse"&&this._radius._set(e/2,i/2),this._size._set(e,i),this._changed(9)}},getRadius:function(){var n=this._radius;return this._type==="circle"?n:new Vt(n.width,n.height,this,"setRadius")},setRadius:function(n){var t=this._type;if(t==="circle"){if(n===this._radius)return;var e=n*2;this._radius=n,this._size._set(e,e)}else if(n=ot.read(arguments),!this._radius)this._radius=n.clone();else{if(this._radius.equals(n))return;if(this._radius.set(n),t==="rectangle"){var e=ot.max(this._size,n.multiply(2));this._size.set(e)}else t==="ellipse"&&this._size._set(n.width*2,n.height*2)}this._changed(9)},isEmpty:function(){return!1},toPath:function(n){var t=new qt[b.capitalize(this._type)]({center:new R,size:this._size,radius:this._radius,insert:!1});return t.copyAttributes(this),Et.settings.applyMatrix&&t.setApplyMatrix(!0),(n===y||n)&&t.insertAbove(this),t},toShape:"#clone",_asPathItem:function(){return this.toPath(!1)},_draw:function(n,t,e,i){var r=this._style,s=r.hasFill(),a=r.hasStroke(),l=t.dontFinish||t.clip,h=!i;if(s||a||l){var f=this._type,d=this._radius,_=f==="circle";if(t.dontStart||n.beginPath(),h&&_)n.arc(0,0,d,0,Math.PI*2,!0);else{var g=_?d:d.width,p=_?d:d.height,w=this._size,E=w.width,I=w.height;if(h&&f==="rectangle"&&g===0&&p===0)n.rect(-E/2,-I/2,E,I);else{var P=E/2,x=I/2,v=1-.5522847498307936,m=g*v,S=p*v,k=[-P,-x+p,-P,-x+S,-P+m,-x,-P+g,-x,P-g,-x,P-m,-x,P,-x+S,P,-x+p,P,x-p,P,x-S,P-m,x,P-g,x,-P+g,x,-P+m,x,-P,x-S,-P,x-p];i&&i.transform(k,k,32),n.moveTo(k[0],k[1]),n.bezierCurveTo(k[2],k[3],k[4],k[5],k[6],k[7]),P!==g&&n.lineTo(k[8],k[9]),n.bezierCurveTo(k[10],k[11],k[12],k[13],k[14],k[15]),x!==p&&n.lineTo(k[16],k[17]),n.bezierCurveTo(k[18],k[19],k[20],k[21],k[22],k[23]),P!==g&&n.lineTo(k[24],k[25]),n.bezierCurveTo(k[26],k[27],k[28],k[29],k[30],k[31])}}n.closePath()}!l&&(s||a)&&(this._setStyles(n,t,e),s&&(n.fill(r.getFillRule()),n.shadowColor="rgba(0,0,0,0)"),a&&n.stroke())},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_getBounds:function(n,t){var e=new ct(this._size).setCenter(0,0),i=this._style,r=t.stroke&&i.hasStroke()&&i.getStrokeWidth();return n&&(e=n._transformBounds(e)),r?e.expand(qt._getStrokePadding(r,this._getStrokeMatrix(n,t))):e}},new function(){function n(e,i,r){var s=e._radius;if(!s.isZero())for(var a=e._size.divide(2),l=1;l<=4;l++){var h=new R(l>1&&l<4?-1:1,l>2?-1:1),f=h.multiply(a),d=f.subtract(h.multiply(s)),_=new ct(r?f.add(h.multiply(r)):f,d);if(_.contains(i))return{point:d,quadrant:l}}}function t(e,i,r,s){var a=e.divide(i);return(!s||a.isInQuadrant(s))&&a.subtract(a.normalize()).multiply(i).divide(r).length<=1}return{_contains:function e(i){if(this._type==="rectangle"){var r=n(this,i);return r?i.subtract(r.point).divide(this._radius).getLength()<=1:e.base.call(this,i)}else return i.divide(this.size).getLength()<=.5},_hitTestSelf:function e(i,r,s,a){var l=!1,h=this._style,f=r.stroke&&h.hasStroke(),d=r.fill&&h.hasFill();if(f||d){var _=this._type,g=this._radius,p=f?h.getStrokeWidth()/2:0,w=r._tolerancePadding.add(qt._getStrokePadding(p,!h.getStrokeScaling()&&a));if(_==="rectangle"){var E=w.multiply(2),I=n(this,i,E);if(I)l=t(i.subtract(I.point),g,w,I.quadrant);else{var P=new ct(this._size).setCenter(0,0),x=P.expand(E),v=P.expand(E.negate());l=x._containsPoint(i)&&!v._containsPoint(i)}}else l=t(i,g,w)}return l?new be(f?"stroke":"fill",this):e.base.apply(this,arguments)}}},{statics:new function(){function n(t,e,i,r,s){var a=b.create(ue.prototype);return a._type=t,a._size=i,a._radius=r,a._initialize(b.getNamed(s),e),a}return{Circle:function(){var t=arguments,e=R.readNamed(t,"center"),i=b.readNamed(t,"radius");return n("circle",e,new ot(i*2),i,t)},Rectangle:function(){var t=arguments,e=ct.readNamed(t,"rectangle"),i=ot.min(ot.readNamed(t,"radius"),e.getSize(!0).divide(2));return n("rectangle",e.getCenter(!0),e.getSize(!0),i,t)},Ellipse:function(){var t=arguments,e=ue._readEllipse(t),i=e.radius;return n("ellipse",e.center,i.multiply(2),i,t)},_readEllipse:function(t){var e,i;if(b.hasNamed(t,"radius"))e=R.readNamed(t,"center"),i=ot.readNamed(t,"radius");else{var r=ct.readNamed(t,"rectangle");e=r.getCenter(!0),i=r.getSize(!0).divide(2)}return{center:e,radius:i}}}}}),Re=D.extend({_class:"Raster",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!1,handle:!1},_serializeFields:{crossOrigin:null,source:null},_prioritize:["crossOrigin"],_smoothing:"low",beans:!0,initialize:function(t,e){if(!this._initialize(t,e!==y&&R.read(arguments))){var i,r=typeof t,s=r==="string"?L.getElementById(t):r==="object"?t:null;if(s&&s!==D.NO_INSERT){if(s.getContext||s.naturalHeight!=null)i=s;else if(s){var a=ot.read(arguments);a.isZero()||(i=At.getCanvas(a))}}i?this.setImage(i):this.setSource(t)}this._size||(this._size=new ot,this._loaded=!1)},_equals:function(n){return this.getSource()===n.getSource()},copyContent:function(n){var t=n._image,e=n._canvas;if(t)this._setImage(t);else if(e){var i=At.getCanvas(n._size);i.getContext("2d").drawImage(e,0,0),this._setImage(i)}this._crossOrigin=n._crossOrigin},getSize:function(){var n=this._size;return new Vt(n?n.width:0,n?n.height:0,this,"setSize")},setSize:function(n,t){var e=ot.read(arguments);if(e.equals(this._size))t&&this.clear();else if(e.width>0&&e.height>0){var i=!t&&this.getElement();this._setImage(At.getCanvas(e)),i&&this.getContext(!0).drawImage(i,0,0,e.width,e.height)}else this._canvas&&At.release(this._canvas),this._size=e.clone()},getWidth:function(){return this._size?this._size.width:0},setWidth:function(n){this.setSize(n,this.getHeight())},getHeight:function(){return this._size?this._size.height:0},setHeight:function(n){this.setSize(this.getWidth(),n)},getLoaded:function(){return this._loaded},isEmpty:function(){var n=this._size;return!n||n.width===0&&n.height===0},getResolution:function(){var n=this._matrix,t=new R(0,0).transform(n),e=new R(1,0).transform(n).subtract(t),i=new R(0,1).transform(n).subtract(t);return new ot(72/e.getLength(),72/i.getLength())},getPpi:"#getResolution",getImage:function(){return this._image},setImage:function(n){var t=this;function e(i){var r=t.getView(),s=i&&i.type||"load";r&&t.responds(s)&&(Et=r._scope,t.emit(s,new J(i)))}this._setImage(n),this._loaded?setTimeout(e,0):n&&Mt.add(n,{load:function(i){t._setImage(n),e(i)},error:e})},_setImage:function(n){this._canvas&&At.release(this._canvas),n&&n.getContext?(this._image=null,this._canvas=n,this._loaded=!0):(this._image=n,this._canvas=null,this._loaded=!!(n&&n.src&&n.complete)),this._size=new ot(n?n.naturalWidth||n.width:0,n?n.naturalHeight||n.height:0),this._context=null,this._changed(1033)},getCanvas:function(){if(!this._canvas){var n=At.getContext(this._size);try{this._image&&n.drawImage(this._image,0,0),this._canvas=n.canvas}catch{At.release(n)}}return this._canvas},setCanvas:"#setImage",getContext:function(n){return this._context||(this._context=this.getCanvas().getContext("2d")),n&&(this._image=null,this._changed(1025)),this._context},setContext:function(n){this._context=n},getSource:function(){var n=this._image;return n&&n.src||this.toDataURL()},setSource:function(n){var t=new c.Image,e=this._crossOrigin;e&&(t.crossOrigin=e),n&&(t.src=n),this.setImage(t)},getCrossOrigin:function(){var n=this._image;return n&&n.crossOrigin||this._crossOrigin||""},setCrossOrigin:function(n){this._crossOrigin=n;var t=this._image;t&&(t.crossOrigin=n)},getSmoothing:function(){return this._smoothing},setSmoothing:function(n){this._smoothing=typeof n=="string"?n:n?"low":"off",this._changed(257)},getElement:function(){return this._canvas||this._loaded&&this._image}},{beans:!1,getSubCanvas:function(){var n=ct.read(arguments),t=At.getContext(n.getSize());return t.drawImage(this.getCanvas(),n.x,n.y,n.width,n.height,0,0,n.width,n.height),t.canvas},getSubRaster:function(){var n=ct.read(arguments),t=new Re(D.NO_INSERT);return t._setImage(this.getSubCanvas(n)),t.translate(n.getCenter().subtract(this.getSize().divide(2))),t._matrix.prepend(this._matrix),t.insertAbove(this),t},toDataURL:function(){var n=this._image,t=n&&n.src;if(/^data:/.test(t))return t;var e=this.getCanvas();return e?e.toDataURL.apply(e,arguments):null},drawImage:function(n){var t=R.read(arguments,1);this.getContext(!0).drawImage(n,t.x,t.y)},getAverageColor:function(n){var t,e;if(n?n instanceof ae?(e=n,t=n.getBounds()):typeof n=="object"&&("width"in n?t=new ct(n):"x"in n&&(t=new ct(n.x-.5,n.y-.5,1,1))):t=this.getBounds(),!t)return null;var i=32,r=Math.min(t.width,i),s=Math.min(t.height,i),a=Re._sampleContext;a?a.clearRect(0,0,i+1,i+1):a=Re._sampleContext=At.getContext(new ot(i)),a.save();var l=new St().scale(r/t.width,s/t.height).translate(-t.x,-t.y);l.applyToContext(a),e&&e.draw(a,new b({clip:!0,matrices:[l]})),this._matrix.applyToContext(a);var h=this.getElement(),f=this._size;h&&a.drawImage(h,-f.width/2,-f.height/2),a.restore();for(var d=a.getImageData(.5,.5,Math.ceil(r),Math.ceil(s)).data,_=[0,0,0],g=0,p=0,w=d.length;p<w;p+=4){var E=d[p+3];g+=E,E/=255,_[0]+=d[p]*E,_[1]+=d[p+1]*E,_[2]+=d[p+2]*E}for(var p=0;p<3;p++)_[p]/=g;return g?ne.read(_):null},getPixel:function(){var n=R.read(arguments),t=this.getContext().getImageData(n.x,n.y,1,1).data;return new ne("rgb",[t[0]/255,t[1]/255,t[2]/255],t[3]/255)},setPixel:function(){var n=arguments,t=R.read(n),e=ne.read(n),i=e._convert("rgb"),r=e._alpha,s=this.getContext(!0),a=s.createImageData(1,1),l=a.data;l[0]=i[0]*255,l[1]=i[1]*255,l[2]=i[2]*255,l[3]=r!=null?r*255:255,s.putImageData(a,t.x,t.y)},clear:function(){var n=this._size;this.getContext(!0).clearRect(0,0,n.width+1,n.height+1)},createImageData:function(){var n=ot.read(arguments);return this.getContext().createImageData(n.width,n.height)},getImageData:function(){var n=ct.read(arguments);return n.isEmpty()&&(n=new ct(this._size)),this.getContext().getImageData(n.x,n.y,n.width,n.height)},putImageData:function(n){var t=R.read(arguments,1);this.getContext(!0).putImageData(n,t.x,t.y)},setImageData:function(n){this.setSize(n),this.getContext(!0).putImageData(n,0,0)},_getBounds:function(n,t){var e=new ct(this._size).setCenter(0,0);return n?n._transformBounds(e):e},_hitTestSelf:function(n){if(this._contains(n)){var t=this;return new be("pixel",t,{offset:n.add(t._size.divide(2)).round(),color:{get:function(){return t.getPixel(this.offset)}}})}},_draw:function(n,t,e){var i=this.getElement();if(i&&i.width>0&&i.height>0){n.globalAlpha=Y.clamp(this._opacity,0,1),this._setStyles(n,t,e);var r=this._smoothing,s=r==="off";bt.setPrefixed(n,s?"imageSmoothingEnabled":"imageSmoothingQuality",s?!1:r),n.drawImage(i,-this._size.width/2,-this._size.height/2)}},_canComposite:function(){return!0}}),Ue=D.extend({_class:"SymbolItem",_applyMatrix:!1,_canApplyMatrix:!1,_boundsOptions:{stroke:!0},_serializeFields:{symbol:null},initialize:function(t,e){this._initialize(t,e!==y&&R.read(arguments,1))||this.setDefinition(t instanceof _e?t:new _e(t))},_equals:function(n){return this._definition===n._definition},copyContent:function(n){this.setDefinition(n._definition)},getDefinition:function(){return this._definition},setDefinition:function(n){this._definition=n,this._changed(9)},getSymbol:"#getDefinition",setSymbol:"#setDefinition",isEmpty:function(){return this._definition._item.isEmpty()},_getBounds:function(n,t){var e=this._definition._item;return e._getCachedBounds(e._matrix.prepended(n),t)},_hitTestSelf:function(n,t,e){var i=t.extend({all:!1}),r=this._definition._item._hitTest(n,i,e);return r&&(r.item=this),r},_draw:function(n,t){this._definition._item.draw(n,t)}}),_e=b.extend({_class:"SymbolDefinition",initialize:function(t,e){this._id=lt.get(),this.project=Et.project,t&&this.setItem(t,e)},_serialize:function(n,t){return t.add(this,function(){return b.serialize([this._class,this._item],n,!1,t)})},_changed:function(n){n&8&&D._clearBoundsCache(this),n&1&&this.project._changed(n)},getItem:function(){return this._item},setItem:function(n,t){n._symbol&&(n=n.clone()),this._item&&(this._item._symbol=null),this._item=n,n.remove(),n.setSelected(!1),t||n.setPosition(new R),n._symbol=this,this._changed(9)},getDefinition:"#getItem",setDefinition:"#setItem",place:function(n){return new Ue(this,n)},clone:function(){return new _e(this._item.clone(!1))},equals:function(n){return n===this||n&&this._item.equals(n._item)||!1}}),be=b.extend({_class:"HitResult",initialize:function(t,e,i){this.type=t,this.item=e,i&&this.inject(i)},statics:{getOptions:function(n){var t=n&&b.read(n);return new b({type:null,tolerance:Et.settings.hitTolerance,fill:!t,stroke:!t,segments:!t,handles:!1,ends:!1,position:!1,center:!1,bounds:!1,guides:!1,selected:!1},t)}}}),It=b.extend({_class:"Segment",beans:!0,_selection:0,initialize:function(t,e,i,r,s,a){var l=arguments.length,h,f,d,_;l>0&&(t==null||typeof t=="object"?l===1&&t&&"point"in t?(h=t.point,f=t.handleIn,d=t.handleOut,_=t.selection):(h=t,f=e,d=i,_=r):(h=[t,e],f=i!==y?[i,r]:null,d=s!==y?[s,a]:null)),new ti(h,this,"_point"),new ti(f,this,"_handleIn"),new ti(d,this,"_handleOut"),_&&this.setSelection(_)},_serialize:function(n,t){var e=this._point,i=this._selection,r=i||this.hasHandles()?[e,this._handleIn,this._handleOut]:e;return i&&r.push(i),b.serialize(r,n,!0,t)},_changed:function(n){var t=this._path;if(t){var e=t._curves,i=this._index,r;e&&((!n||n===this._point||n===this._handleIn)&&(r=i>0?e[i-1]:t._closed?e[e.length-1]:null)&&r._changed(),(!n||n===this._point||n===this._handleOut)&&(r=e[i])&&r._changed()),t._changed(41)}},getPoint:function(){return this._point},setPoint:function(){this._point.set(R.read(arguments))},getHandleIn:function(){return this._handleIn},setHandleIn:function(){this._handleIn.set(R.read(arguments))},getHandleOut:function(){return this._handleOut},setHandleOut:function(){this._handleOut.set(R.read(arguments))},hasHandles:function(){return!this._handleIn.isZero()||!this._handleOut.isZero()},isSmooth:function(){var n=this._handleIn,t=this._handleOut;return!n.isZero()&&!t.isZero()&&n.isCollinear(t)},clearHandles:function(){this._handleIn._set(0,0),this._handleOut._set(0,0)},getSelection:function(){return this._selection},setSelection:function(n){var t=this._selection,e=this._path;this._selection=n=n||0,e&&n!==t&&(e._updateSelection(this,t,n),e._changed(257))},_changeSelection:function(n,t){var e=this._selection;this.setSelection(t?e|n:e&~n)},isSelected:function(){return!!(this._selection&7)},setSelected:function(n){this._changeSelection(7,n)},getIndex:function(){return this._index!==y?this._index:null},getPath:function(){return this._path||null},getCurve:function(){var n=this._path,t=this._index;return n?(t>0&&!n._closed&&t===n._segments.length-1&&t--,n.getCurves()[t]||null):null},getLocation:function(){var n=this.getCurve();return n?new te(n,this===n._segment1?0:1):null},getNext:function(){var n=this._path&&this._path._segments;return n&&(n[this._index+1]||this._path._closed&&n[0])||null},smooth:function(n,t,e){var i=n||{},r=i.type,s=i.factor,a=this.getPrevious(),l=this.getNext(),h=(a||this)._point,f=this._point,d=(l||this)._point,_=h.getDistance(f),g=f.getDistance(d);if(!r||r==="catmull-rom"){var p=s===y?.5:s,w=Math.pow(_,p),E=w*w,I=Math.pow(g,p),P=I*I;if(!t&&a){var x=2*P+3*I*w+E,v=3*I*(I+w);this.setHandleIn(v!==0?new R((P*h._x+x*f._x-E*d._x)/v-f._x,(P*h._y+x*f._y-E*d._y)/v-f._y):new R)}if(!e&&l){var x=2*E+3*w*I+P,v=3*w*(w+I);this.setHandleOut(v!==0?new R((E*d._x+x*f._x-P*h._x)/v-f._x,(E*d._y+x*f._y-P*h._y)/v-f._y):new R)}}else if(r==="geometric"){if(a&&l){var m=h.subtract(d),S=s===y?.4:s,k=S*_/(_+g);t||this.setHandleIn(m.multiply(k)),e||this.setHandleOut(m.multiply(k-S))}}else throw new Error("Smoothing method '"+r+"' not supported.")},getPrevious:function(){var n=this._path&&this._path._segments;return n&&(n[this._index-1]||this._path._closed&&n[n.length-1])||null},isFirst:function(){return!this._index},isLast:function(){var n=this._path;return n&&this._index===n._segments.length-1||!1},reverse:function(){var n=this._handleIn,t=this._handleOut,e=n.clone();n.set(t),t.set(e)},reversed:function(){return new It(this._point,this._handleOut,this._handleIn)},remove:function(){return this._path?!!this._path.removeSegment(this._index):!1},clone:function(){return new It(this._point,this._handleIn,this._handleOut)},equals:function(n){return n===this||n&&this._class===n._class&&this._point.equals(n._point)&&this._handleIn.equals(n._handleIn)&&this._handleOut.equals(n._handleOut)||!1},toString:function(){var n=["point: "+this._point];return this._handleIn.isZero()||n.push("handleIn: "+this._handleIn),this._handleOut.isZero()||n.push("handleOut: "+this._handleOut),"{ "+n.join(", ")+" }"},transform:function(n){this._transformCoordinates(n,new Array(6),!0),this._changed()},interpolate:function(n,t,e){var i=1-e,r=e,s=n._point,a=t._point,l=n._handleIn,h=t._handleIn,f=t._handleOut,d=n._handleOut;this._point._set(i*s._x+r*a._x,i*s._y+r*a._y,!0),this._handleIn._set(i*l._x+r*h._x,i*l._y+r*h._y,!0),this._handleOut._set(i*d._x+r*f._x,i*d._y+r*f._y,!0),this._changed()},_transformCoordinates:function(n,t,e){var i=this._point,r=!e||!this._handleIn.isZero()?this._handleIn:null,s=!e||!this._handleOut.isZero()?this._handleOut:null,a=i._x,l=i._y,h=2;return t[0]=a,t[1]=l,r&&(t[h++]=r._x+a,t[h++]=r._y+l),s&&(t[h++]=s._x+a,t[h++]=s._y+l),n&&(n._transformCoordinates(t,t,h/2),a=t[0],l=t[1],e?(i._x=a,i._y=l,h=2,r&&(r._x=t[h++]-a,r._y=t[h++]-l),s&&(s._x=t[h++]-a,s._y=t[h++]-l)):(r||(t[h++]=a,t[h++]=l),s||(t[h++]=a,t[h++]=l))),t}}),ti=R.extend({initialize:function(t,e,i){var r,s,a;if(!t)r=s=0;else if((r=t[0])!==y)s=t[1];else{var l=t;(r=l.x)===y&&(l=R.read(arguments),r=l.x),s=l.y,a=l.selected}this._x=r,this._y=s,this._owner=e,e[i]=this,a&&this.setSelected(!0)},_set:function(n,t){return this._x=n,this._y=t,this._owner._changed(this),this},getX:function(){return this._x},setX:function(n){this._x=n,this._owner._changed(this)},getY:function(){return this._y},setY:function(n){this._y=n,this._owner._changed(this)},isZero:function(){var n=Y.isZero;return n(this._x)&&n(this._y)},isSelected:function(){return!!(this._owner._selection&this._getSelection())},setSelected:function(n){this._owner._changeSelection(this._getSelection(),n)},_getSelection:function(){var n=this._owner;return this===n._point?1:this===n._handleIn?2:this===n._handleOut?4:0}}),at=b.extend({_class:"Curve",beans:!0,initialize:function(t,e,i,r,s,a,l,h){var f=arguments.length,d,_,g,p,w,E;f===3?(this._path=t,d=e,_=i):f?f===1?"segment1"in t?(d=new It(t.segment1),_=new It(t.segment2)):"point1"in t?(g=t.point1,w=t.handle1,E=t.handle2,p=t.point2):Array.isArray(t)&&(g=[t[0],t[1]],p=[t[6],t[7]],w=[t[2]-t[0],t[3]-t[1]],E=[t[4]-t[6],t[5]-t[7]]):f===2?(d=new It(t),_=new It(e)):f===4?(g=t,w=e,E=i,p=r):f===8&&(g=[t,e],p=[l,h],w=[i-t,r-e],E=[s-l,a-h]):(d=new It,_=new It),this._segment1=d||new It(g,null,w),this._segment2=_||new It(p,E,null)},_serialize:function(n,t){return b.serialize(this.hasHandles()?[this.getPoint1(),this.getHandle1(),this.getHandle2(),this.getPoint2()]:[this.getPoint1(),this.getPoint2()],n,!0,t)},_changed:function(){this._length=this._bounds=y},clone:function(){return new at(this._segment1,this._segment2)},toString:function(){var n=["point1: "+this._segment1._point];return this._segment1._handleOut.isZero()||n.push("handle1: "+this._segment1._handleOut),this._segment2._handleIn.isZero()||n.push("handle2: "+this._segment2._handleIn),n.push("point2: "+this._segment2._point),"{ "+n.join(", ")+" }"},classify:function(){return at.classify(this.getValues())},remove:function(){var n=!1;if(this._path){var t=this._segment2,e=t._handleOut;n=t.remove(),n&&this._segment1._handleOut.set(e)}return n},getPoint1:function(){return this._segment1._point},setPoint1:function(){this._segment1._point.set(R.read(arguments))},getPoint2:function(){return this._segment2._point},setPoint2:function(){this._segment2._point.set(R.read(arguments))},getHandle1:function(){return this._segment1._handleOut},setHandle1:function(){this._segment1._handleOut.set(R.read(arguments))},getHandle2:function(){return this._segment2._handleIn},setHandle2:function(){this._segment2._handleIn.set(R.read(arguments))},getSegment1:function(){return this._segment1},getSegment2:function(){return this._segment2},getPath:function(){return this._path},getIndex:function(){return this._segment1._index},getNext:function(){var n=this._path&&this._path._curves;return n&&(n[this._segment1._index+1]||this._path._closed&&n[0])||null},getPrevious:function(){var n=this._path&&this._path._curves;return n&&(n[this._segment1._index-1]||this._path._closed&&n[n.length-1])||null},isFirst:function(){return!this._segment1._index},isLast:function(){var n=this._path;return n&&this._segment1._index===n._curves.length-1||!1},isSelected:function(){return this.getPoint1().isSelected()&&this.getHandle1().isSelected()&&this.getHandle2().isSelected()&&this.getPoint2().isSelected()},setSelected:function(n){this.getPoint1().setSelected(n),this.getHandle1().setSelected(n),this.getHandle2().setSelected(n),this.getPoint2().setSelected(n)},getValues:function(n){return at.getValues(this._segment1,this._segment2,n)},getPoints:function(){for(var n=this.getValues(),t=[],e=0;e<8;e+=2)t.push(new R(n[e],n[e+1]));return t}},{getLength:function(){return this._length==null&&(this._length=at.getLength(this.getValues(),0,1)),this._length},getArea:function(){return at.getArea(this.getValues())},getLine:function(){return new Rt(this._segment1._point,this._segment2._point)},getPart:function(n,t){return new at(at.getPart(this.getValues(),n,t))},getPartLength:function(n,t){return at.getLength(this.getValues(),n,t)},divideAt:function(n){return this.divideAtTime(n&&n.curve===this?n.time:this.getTimeAt(n))},divideAtTime:function(n,t){var e=1e-8,i=1-e,r=null;if(n>=e&&n<=i){var s=at.subdivide(this.getValues(),n),a=s[0],l=s[1],h=t||this.hasHandles(),f=this._segment1,d=this._segment2,_=this._path;h&&(f._handleOut._set(a[2]-a[0],a[3]-a[1]),d._handleIn._set(l[4]-l[6],l[5]-l[7]));var g=a[6],p=a[7],w=new It(new R(g,p),h&&new R(a[4]-g,a[5]-p),h&&new R(l[2]-g,l[3]-p));_?(_.insert(f._index+1,w),r=this.getNext()):(this._segment2=w,this._changed(),r=new at(w,d))}return r},splitAt:function(n){var t=this._path;return t?t.splitAt(n):null},splitAtTime:function(n){return this.splitAt(this.getLocationAtTime(n))},divide:function(n,t){return this.divideAtTime(n===y?.5:t?n:this.getTimeAt(n))},split:function(n,t){return this.splitAtTime(n===y?.5:t?n:this.getTimeAt(n))},reversed:function(){return new at(this._segment2.reversed(),this._segment1.reversed())},clearHandles:function(){this._segment1._handleOut._set(0,0),this._segment2._handleIn._set(0,0)},statics:{getValues:function(n,t,e,i){var r=n._point,s=n._handleOut,a=t._handleIn,l=t._point,h=r.x,f=r.y,d=l.x,_=l.y,g=i?[h,f,h,f,d,_,d,_]:[h,f,h+s._x,f+s._y,d+a._x,_+a._y,d,_];return e&&e._transformCoordinates(g,g,4),g},subdivide:function(n,t){var e=n[0],i=n[1],r=n[2],s=n[3],a=n[4],l=n[5],h=n[6],f=n[7];t===y&&(t=.5);var d=1-t,_=d*e+t*r,g=d*i+t*s,p=d*r+t*a,w=d*s+t*l,E=d*a+t*h,I=d*l+t*f,P=d*_+t*p,x=d*g+t*w,v=d*p+t*E,m=d*w+t*I,S=d*P+t*v,k=d*x+t*m;return[[e,i,_,g,P,x,S,k],[S,k,v,m,E,I,h,f]]},getMonoCurves:function(n,t){var e=[],i=t?0:1,r=n[i+0],s=n[i+2],a=n[i+4],l=n[i+6];if(r>=s==s>=a&&s>=a==a>=l||at.isStraight(n))e.push(n);else{var h=3*(s-a)-r+l,f=2*(r+a)-4*s,d=s-r,_=1e-8,g=1-_,p=[],w=Y.solveQuadratic(h,f,d,p,_,g);if(!w)e.push(n);else{p.sort();var E=p[0],I=at.subdivide(n,E);e.push(I[0]),w>1&&(E=(p[1]-E)/(1-E),I=at.subdivide(I[1],E),e.push(I[0])),e.push(I[1])}}return e},solveCubic:function(n,t,e,i,r,s){var a=n[t],l=n[t+2],h=n[t+4],f=n[t+6],d=0;if(!(a<e&&f<e&&l<e&&h<e||a>e&&f>e&&l>e&&h>e)){var _=3*(l-a),g=3*(h-l)-_,p=f-a-_-g;d=Y.solveCubic(p,g,_,a-e,i,r,s)}return d},getTimeOf:function(n,t){var e=new R(n[0],n[1]),i=new R(n[6],n[7]),r=1e-12,s=1e-7,a=t.isClose(e,r)?0:t.isClose(i,r)?1:null;if(a===null)for(var l=[t.x,t.y],h=[],f=0;f<2;f++)for(var d=at.solveCubic(n,f,l[f],h,0,1),_=0;_<d;_++){var g=h[_];if(t.isClose(at.getPoint(n,g),s))return g}return t.isClose(e,s)?0:t.isClose(i,s)?1:null},getNearestTime:function(n,t){if(at.isStraight(n)){var e=n[0],i=n[1],r=n[6],s=n[7],a=r-e,l=s-i,h=a*a+l*l;if(h===0)return 0;var f=((t.x-e)*a+(t.y-i)*l)/h;return f<1e-12?0:f>.999999999999?1:at.getTimeOf(n,new R(e+f*a,i+f*l))}var d=100,_=1/0,g=0;function p(I){if(I>=0&&I<=1){var P=t.getDistance(at.getPoint(n,I),!0);if(P<_)return _=P,g=I,!0}}for(var w=0;w<=d;w++)p(w/d);for(var E=1/(d*2);E>1e-8;)!p(g-E)&&!p(g+E)&&(E/=2);return g},getPart:function(n,t,e){var i=t>e;if(i){var r=t;t=e,e=r}return t>0&&(n=at.subdivide(n,t)[1]),e<1&&(n=at.subdivide(n,(e-t)/(1-t))[0]),i?[n[6],n[7],n[4],n[5],n[2],n[3],n[0],n[1]]:n},isFlatEnough:function(n,t){var e=n[0],i=n[1],r=n[2],s=n[3],a=n[4],l=n[5],h=n[6],f=n[7],d=3*r-2*e-h,_=3*s-2*i-f,g=3*a-2*h-e,p=3*l-2*f-i;return Math.max(d*d,g*g)+Math.max(_*_,p*p)<=16*t*t},getArea:function(n){var t=n[0],e=n[1],i=n[2],r=n[3],s=n[4],a=n[5],l=n[6],h=n[7];return 3*((h-e)*(i+s)-(l-t)*(r+a)+r*(t-s)-i*(e-a)+h*(s+t/3)-l*(a+e/3))/20},getBounds:function(n){for(var t=n.slice(0,2),e=t.slice(),i=[0,0],r=0;r<2;r++)at._addBounds(n[r],n[r+2],n[r+4],n[r+6],r,0,t,e,i);return new ct(t[0],t[1],e[0]-t[0],e[1]-t[1])},_addBounds:function(n,t,e,i,r,s,a,l,h){function f(S,k){var O=S-k,A=S+k;O<a[r]&&(a[r]=O),A>l[r]&&(l[r]=A)}s/=2;var d=a[r]+s,_=l[r]-s;if(n<d||t<d||e<d||i<d||n>_||t>_||e>_||i>_)if(t<n!=t<i&&e<n!=e<i)f(n,0),f(i,0);else{var g=3*(t-e)-n+i,p=2*(n+e)-4*t,w=t-n,E=Y.solveQuadratic(g,p,w,h),I=1e-8,P=1-I;f(i,0);for(var x=0;x<E;x++){var v=h[x],m=1-v;I<=v&&v<=P&&f(m*m*m*n+3*m*m*v*t+3*m*v*v*e+v*v*v*i,s)}}}}},b.each(["getBounds","getStrokeBounds","getHandleBounds"],function(n){this[n]=function(){this._bounds||(this._bounds={});var t=this._bounds[n];return t||(t=this._bounds[n]=qt[n]([this._segment1,this._segment2],!1,this._path)),t.clone()}},{}),b.each({isStraight:function(n,t,e,i){if(t.isZero()&&e.isZero())return!0;var r=i.subtract(n);if(r.isZero())return!1;if(r.isCollinear(t)&&r.isCollinear(e)){var s=new Rt(n,i),a=1e-7;if(s.getDistance(n.add(t))<a&&s.getDistance(i.add(e))<a){var l=r.dot(r),h=r.dot(t)/l,f=r.dot(e)/l;return h>=0&&h<=1&&f<=0&&f>=-1}}return!1},isLinear:function(n,t,e,i){var r=i.subtract(n).divide(3);return t.equals(r)&&e.negate().equals(r)}},function(n,t){this[t]=function(e){var i=this._segment1,r=this._segment2;return n(i._point,i._handleOut,r._handleIn,r._point,e)},this.statics[t]=function(e,i){var r=e[0],s=e[1],a=e[6],l=e[7];return n(new R(r,s),new R(e[2]-r,e[3]-s),new R(e[4]-a,e[5]-l),new R(a,l),i)}},{statics:{},hasHandles:function(){return!this._segment1._handleOut.isZero()||!this._segment2._handleIn.isZero()},hasLength:function(n){return(!this.getPoint1().equals(this.getPoint2())||this.hasHandles())&&this.getLength()>(n||0)},isCollinear:function(n){return n&&this.isStraight()&&n.isStraight()&&this.getLine().isCollinear(n.getLine())},isHorizontal:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).y)<1e-8},isVertical:function(){return this.isStraight()&&Math.abs(this.getTangentAtTime(.5).x)<1e-8}}),{beans:!1,getLocationAt:function(n,t){return this.getLocationAtTime(t?n:this.getTimeAt(n))},getLocationAtTime:function(n){return n!=null&&n>=0&&n<=1?new te(this,n):null},getTimeAt:function(n,t){return at.getTimeAt(this.getValues(),n,t)},getParameterAt:"#getTimeAt",getTimesWithTangent:function(){var n=R.read(arguments);return n.isZero()?[]:at.getTimesWithTangent(this.getValues(),n)},getOffsetAtTime:function(n){return this.getPartLength(0,n)},getLocationOf:function(){return this.getLocationAtTime(this.getTimeOf(R.read(arguments)))},getOffsetOf:function(){var n=this.getLocationOf.apply(this,arguments);return n?n.getOffset():null},getTimeOf:function(){return at.getTimeOf(this.getValues(),R.read(arguments))},getParameterOf:"#getTimeOf",getNearestLocation:function(){var n=R.read(arguments),t=this.getValues(),e=at.getNearestTime(t,n),i=at.getPoint(t,e);return new te(this,e,i,null,n.getDistance(i))},getNearestPoint:function(){var n=this.getNearestLocation.apply(this,arguments);return n&&n.getPoint()}},new function(){var n=["getPoint","getTangent","getNormal","getWeightedTangent","getWeightedNormal","getCurvature"];return b.each(n,function(t){this[t+"At"]=function(e,i){var r=this.getValues();return at[t](r,i?e:at.getTimeAt(r,e))},this[t+"AtTime"]=function(e){return at[t](this.getValues(),e)}},{statics:{_evaluateMethods:n}})},new function(){function n(i){var r=i[0],s=i[1],a=i[2],l=i[3],h=i[4],f=i[5],d=i[6],_=i[7],g=9*(a-h)+3*(d-r),p=6*(r+h)-12*a,w=3*(a-r),E=9*(l-f)+3*(_-s),I=6*(s+f)-12*l,P=3*(l-s);return function(x){var v=(g*x+p)*x+w,m=(E*x+I)*x+P;return Math.sqrt(v*v+m*m)}}function t(i,r){return Math.max(2,Math.min(16,Math.ceil(Math.abs(r-i)*32)))}function e(i,r,s,a){if(r==null||r<0||r>1)return null;var l=i[0],h=i[1],f=i[2],d=i[3],_=i[4],g=i[5],p=i[6],w=i[7],E=Y.isZero;E(f-l)&&E(d-h)&&(f=l,d=h),E(_-p)&&E(g-w)&&(_=p,g=w);var I=3*(f-l),P=3*(_-f)-I,x=p-l-I-P,v=3*(d-h),m=3*(g-d)-v,S=w-h-v-m,k,O;if(s===0)k=r===0?l:r===1?p:((x*r+P)*r+I)*r+l,O=r===0?h:r===1?w:((S*r+m)*r+v)*r+h;else{var A=1e-8,M=1-A;if(r<A?(k=I,O=v):r>M?(k=3*(p-_),O=3*(w-g)):(k=(3*x*r+2*P)*r+I,O=(3*S*r+2*m)*r+v),a){k===0&&O===0&&(r<A||r>M)&&(k=_-f,O=g-d);var N=Math.sqrt(k*k+O*O);N&&(k/=N,O/=N)}if(s===3){var _=6*x*r+2*P,g=6*S*r+2*m,B=Math.pow(k*k+O*O,3/2);k=B!==0?(k*g-O*_)/B:0,O=0}}return s===2?new R(O,-k):new R(k,O)}return{statics:{classify:function(i){var r=i[0],s=i[1],a=i[2],l=i[3],h=i[4],f=i[5],d=i[6],_=i[7],g=r*(_-f)+s*(h-d)+d*f-_*h,p=a*(s-_)+l*(d-r)+r*_-s*d,w=h*(l-s)+f*(r-a)+a*s-l*r,E=3*w,I=E-p,P=I-p+g,x=Math.sqrt(P*P+I*I+E*E),v=x!==0?1/x:0,m=Y.isZero,S="serpentine";P*=v,I*=v,E*=v;function k(N,B,V){var z=B!==y,q=z&&B>0&&B<1,U=z&&V>0&&V<1;return z&&(!(q||U)||N==="loop"&&!(q&&U))&&(N="arch",q=U=!1),{type:N,roots:q||U?q&&U?B<V?[B,V]:[V,B]:[q?B:V]:null}}if(m(P))return m(I)?k(m(E)?"line":"quadratic"):k(S,E/(3*I));var O=3*I*I-4*P*E;if(m(O))return k("cusp",I/(2*P));var A=O>0?Math.sqrt(O/3):Math.sqrt(-O),M=2*P;return k(O>0?S:"loop",(I+A)/M,(I-A)/M)},getLength:function(i,r,s,a){if(r===y&&(r=0),s===y&&(s=1),at.isStraight(i)){var l=i;s<1&&(l=at.subdivide(l,s)[0],r/=s),r>0&&(l=at.subdivide(l,r)[1]);var h=l[6]-l[0],f=l[7]-l[1];return Math.sqrt(h*h+f*f)}return Y.integrate(a||n(i),r,s,t(r,s))},getTimeAt:function(i,r,s){if(s===y&&(s=r<0?1:0),r===0)return s;var a=Math.abs,l=1e-12,h=r>0,f=h?s:0,d=h?1:s,_=n(i),g=at.getLength(i,f,d,_),p=a(r)-g;if(a(p)<l)return h?d:f;if(p>l)return null;var w=r/g,E=0;function I(P){return E+=Y.integrate(_,s,P,t(s,P)),s=P,E-r}return Y.findRoot(I,_,s+w,f,d,32,1e-12)},getPoint:function(i,r){return e(i,r,0,!1)},getTangent:function(i,r){return e(i,r,1,!0)},getWeightedTangent:function(i,r){return e(i,r,1,!1)},getNormal:function(i,r){return e(i,r,2,!0)},getWeightedNormal:function(i,r){return e(i,r,2,!1)},getCurvature:function(i,r){return e(i,r,3,!1).x},getPeaks:function(i){var r=i[0],s=i[1],a=i[2],l=i[3],h=i[4],f=i[5],d=i[6],_=i[7],g=-r+3*a-3*h+d,p=3*r-6*a+3*h,w=-3*r+3*a,E=-s+3*l-3*f+_,I=3*s-6*l+3*f,P=-3*s+3*l,x=1e-8,v=1-x,m=[];return Y.solveCubic(9*(g*g+E*E),9*(g*p+I*E),2*(p*p+I*I)+3*(w*g+P*E),w*p+I*P,m,x,v),m.sort()}}}},new function(){function n(p,w,E,I,P,x,v){var m=!v&&E.getPrevious()===P,S=!v&&E!==P&&E.getNext()===P,k=1e-8,O=1-k;if(I!==null&&I>=(m?k:0)&&I<=(S?O:1)&&x!==null&&x>=(S?k:0)&&x<=(m?O:1)){var A=new te(E,I,null,v),M=new te(P,x,null,v);A._intersection=M,M._intersection=A,(!w||w(A))&&te.insert(p,A,!0)}}function t(p,w,E,I,P,x,v,m,S,k,O,A,M){if(++S>=4096||++m>=40)return S;var N=1e-9,B=w[0],V=w[1],z=w[6],q=w[7],U=Rt.getSignedDistance,j=U(B,V,z,q,w[2],w[3]),G=U(B,V,z,q,w[4],w[5]),$=j*G>0?3/4:4/9,nt=$*Math.min(0,j,G),ht=$*Math.max(0,j,G),_t=U(B,V,z,q,p[0],p[1]),vt=U(B,V,z,q,p[2],p[3]),st=U(B,V,z,q,p[4],p[5]),ut=U(B,V,z,q,p[6],p[7]),mt=e(_t,vt,st,ut),wt=mt[0],Tt=mt[1],zt,Bt;if(j===0&&G===0&&_t===0&&vt===0&&st===0&&ut===0||(zt=i(wt,Tt,nt,ht))==null||(Bt=i(wt.reverse(),Tt.reverse(),nt,ht))==null)return S;var Ht=k+(O-k)*zt,Ut=k+(O-k)*Bt;if(Math.max(M-A,Ut-Ht)<N){var Jt=(Ht+Ut)/2,ge=(A+M)/2;n(P,x,v?I:E,v?ge:Jt,v?E:I,v?Jt:ge)}else{p=at.getPart(p,zt,Bt);var ve=M-A;if(Bt-zt>.8)if(Ut-Ht>ve){var Nt=at.subdivide(p,.5),Jt=(Ht+Ut)/2;S=t(w,Nt[0],I,E,P,x,!v,m,S,A,M,Ht,Jt),S=t(w,Nt[1],I,E,P,x,!v,m,S,A,M,Jt,Ut)}else{var Nt=at.subdivide(w,.5),ge=(A+M)/2;S=t(Nt[0],p,I,E,P,x,!v,m,S,A,ge,Ht,Ut),S=t(Nt[1],p,I,E,P,x,!v,m,S,ge,M,Ht,Ut)}else ve===0||ve>=N?S=t(w,p,I,E,P,x,!v,m,S,A,M,Ht,Ut):S=t(p,w,E,I,P,x,v,m,S,Ht,Ut,A,M)}return S}function e(p,w,E,I){var P=[0,p],x=[1/3,w],v=[2/3,E],m=[1,I],S=w-(2*p+I)/3,k=E-(p+2*I)/3,O;if(S*k<0)O=[[P,x,m],[P,v,m]];else{var A=S/k;O=[A>=2?[P,x,m]:A<=.5?[P,v,m]:[P,x,v,m],[P,m]]}return(S||k)<0?O.reverse():O}function i(p,w,E,I){return p[0][1]<E?r(p,!0,E):w[0][1]>I?r(w,!1,I):p[0][0]}function r(p,w,E){for(var I=p[0][0],P=p[0][1],x=1,v=p.length;x<v;x++){var m=p[x][0],S=p[x][1];if(w?S>=E:S<=E)return S===E?m:I+(E-P)*(m-I)/(S-P);I=m,P=S}return null}function s(p,w,E,I,P){var x=Y.isZero;if(x(I)&&x(P)){var v=at.getTimeOf(p,new R(w,E));return v===null?[]:[v]}for(var m=Math.atan2(-P,I),S=Math.sin(m),k=Math.cos(m),O=[],A=[],M=0;M<8;M+=2){var N=p[M]-w,B=p[M+1]-E;O.push(N*k-B*S,N*S+B*k)}return at.solveCubic(O,1,0,A,0,1),A}function a(p,w,E,I,P,x,v){for(var m=w[0],S=w[1],k=w[6],O=w[7],A=s(p,m,S,k-m,O-S),M=0,N=A.length;M<N;M++){var B=A[M],V=at.getPoint(p,B),z=at.getTimeOf(w,V);z!==null&&n(P,x,v?I:E,v?z:B,v?E:I,v?B:z)}}function l(p,w,E,I,P,x){var v=Rt.intersect(p[0],p[1],p[6],p[7],w[0],w[1],w[6],w[7]);v&&n(P,x,E,at.getTimeOf(p,v),I,at.getTimeOf(w,v))}function h(p,w,E,I,P,x){var v=1e-12,m=Math.min,S=Math.max;if(S(p[0],p[2],p[4],p[6])+v>m(w[0],w[2],w[4],w[6])&&m(p[0],p[2],p[4],p[6])-v<S(w[0],w[2],w[4],w[6])&&S(p[1],p[3],p[5],p[7])+v>m(w[1],w[3],w[5],w[7])&&m(p[1],p[3],p[5],p[7])-v<S(w[1],w[3],w[5],w[7])){var k=_(p,w);if(k)for(var O=0;O<2;O++){var A=k[O];n(P,x,E,A[0],I,A[1],!0)}else{var M=at.isStraight(p),N=at.isStraight(w),B=M&&N,V=M&&!N,z=P.length;if((B?l:M||N?a:t)(V?w:p,V?p:w,V?I:E,V?E:I,P,x,V,0,0,0,1,0,1),!B||P.length===z)for(var O=0;O<4;O++){var q=O>>1,U=O&1,j=q*6,G=U*6,$=new R(p[j],p[j+1]),nt=new R(w[G],w[G+1]);$.isClose(nt,v)&&n(P,x,E,q,I,U)}}}return P}function f(p,w,E,I){var P=at.classify(p);if(P.type==="loop"){var x=P.roots;n(E,I,w,x[0],w,x[1])}return E}function d(p,w,E,I,P,x){var v=1e-7,m=!w;m&&(w=p);for(var S=p.length,k=w.length,O=new Array(S),A=m?O:new Array(k),M=[],N=0;N<S;N++)O[N]=p[N].getValues(I);if(!m)for(var N=0;N<k;N++)A[N]=w[N].getValues(P);for(var B=rt.findCurveBoundsCollisions(O,A,v),V=0;V<S;V++){var z=p[V],q=O[V];m&&f(q,z,M,E);var U=B[V];if(U)for(var j=0;j<U.length;j++){if(x&&M.length)return M;var G=U[j];if(!m||G>V){var $=w[G],nt=A[G];h(q,nt,z,$,M,E)}}}return M}function _(p,w){function E(ut){var mt=ut[6]-ut[0],wt=ut[7]-ut[1];return mt*mt+wt*wt}var I=Math.abs,P=Rt.getDistance,x=1e-8,v=1e-7,m=at.isStraight(p),S=at.isStraight(w),k=m&&S,O=E(p)<E(w),A=O?w:p,M=O?p:w,N=A[0],B=A[1],V=A[6]-N,z=A[7]-B;if(P(N,B,V,z,M[0],M[1],!0)<v&&P(N,B,V,z,M[6],M[7],!0)<v)!k&&P(N,B,V,z,A[2],A[3],!0)<v&&P(N,B,V,z,A[4],A[5],!0)<v&&P(N,B,V,z,M[2],M[3],!0)<v&&P(N,B,V,z,M[4],M[5],!0)<v&&(m=S=k=!0);else if(k)return null;if(m^S)return null;for(var q=[p,w],U=[],j=0;j<4&&U.length<2;j++){var G=j&1,$=G^1,nt=j>>1,ht=at.getTimeOf(q[G],new R(q[$][nt?6:0],q[$][nt?7:1]));if(ht!=null){var _t=G?[nt,ht]:[ht,nt];(!U.length||I(_t[0]-U[0][0])>x&&I(_t[1]-U[0][1])>x)&&U.push(_t)}if(j>2&&!U.length)break}if(U.length!==2)U=null;else if(!k){var vt=at.getPart(p,U[0][0],U[1][0]),st=at.getPart(w,U[0][1],U[1][1]);(I(st[2]-vt[2])>v||I(st[3]-vt[3])>v||I(st[4]-vt[4])>v||I(st[5]-vt[5])>v)&&(U=null)}return U}function g(p,w){var E=p[0],I=p[1],P=p[2],x=p[3],v=p[4],m=p[5],S=p[6],k=p[7],O=w.normalize(),A=O.x,M=O.y,N=3*S-9*v+9*P-3*E,B=3*k-9*m+9*x-3*I,V=6*v-12*P+6*E,z=6*m-12*x+6*I,q=3*P-3*E,U=3*x-3*I,j=2*N*M-2*B*A,G=[];if(Math.abs(j)<Y.CURVETIME_EPSILON){var $=N*U-B*q,j=N*z-B*V;if(j!=0){var nt=-$/j;nt>=0&&nt<=1&&G.push(nt)}}else{var ht=(V*V-4*N*q)*M*M+(-2*V*z+4*B*q+4*N*U)*A*M+(z*z-4*B*U)*A*A,_t=V*M-z*A;if(ht>=0&&j!=0){var vt=Math.sqrt(ht),st=-(_t+vt)/j,ut=(-_t+vt)/j;st>=0&&st<=1&&G.push(st),ut>=0&&ut<=1&&G.push(ut)}}return G}return{getIntersections:function(p){var w=this.getValues(),E=p&&p!==this&&p.getValues();return E?h(w,E,this,p,[]):f(w,this,[])},statics:{getOverlaps:_,getIntersections:d,getCurveLineIntersections:s,getTimesWithTangent:g}}}),te=b.extend({_class:"CurveLocation",initialize:function(t,e,i,r,s){if(e>=.99999999){var a=t.getNext();a&&(e=0,t=a)}this._setCurve(t),this._time=e,this._point=i||t.getPointAtTime(e),this._overlap=r,this._distance=s,this._intersection=this._next=this._previous=null},_setPath:function(n){this._path=n,this._version=n?n._version:0},_setCurve:function(n){this._setPath(n._path),this._curve=n,this._segment=null,this._segment1=n._segment1,this._segment2=n._segment2},_setSegment:function(n){var t=n.getCurve();t?this._setCurve(t):(this._setPath(n._path),this._segment1=n,this._segment2=null),this._segment=n,this._time=n===this._segment1?0:1,this._point=n._point.clone()},getSegment:function(){var n=this._segment;if(!n){var t=this.getCurve(),e=this.getTime();e===0?n=t._segment1:e===1?n=t._segment2:e!=null&&(n=t.getPartLength(0,e)<t.getPartLength(e,1)?t._segment1:t._segment2),this._segment=n}return n},getCurve:function(){var n=this._path,t=this;n&&n._version!==this._version&&(this._time=this._offset=this._curveOffset=this._curve=null);function e(i){var r=i&&i.getCurve();if(r&&(t._time=r.getTimeOf(t._point))!=null)return t._setCurve(r),r}return this._curve||e(this._segment)||e(this._segment1)||e(this._segment2.getPrevious())},getPath:function(){var n=this.getCurve();return n&&n._path},getIndex:function(){var n=this.getCurve();return n&&n.getIndex()},getTime:function(){var n=this.getCurve(),t=this._time;return n&&t==null?this._time=n.getTimeOf(this._point):t},getParameter:"#getTime",getPoint:function(){return this._point},getOffset:function(){var n=this._offset;if(n==null){n=0;var t=this.getPath(),e=this.getIndex();if(t&&e!=null)for(var i=t.getCurves(),r=0;r<e;r++)n+=i[r].getLength();this._offset=n+=this.getCurveOffset()}return n},getCurveOffset:function(){var n=this._curveOffset;if(n==null){var t=this.getCurve(),e=this.getTime();this._curveOffset=n=e!=null&&t&&t.getPartLength(0,e)}return n},getIntersection:function(){return this._intersection},getDistance:function(){return this._distance},divide:function(){var n=this.getCurve(),t=n&&n.divideAtTime(this.getTime());return t&&this._setSegment(t._segment1),t},split:function(){var n=this.getCurve(),t=n._path,e=n&&n.splitAtTime(this.getTime());return e&&this._setSegment(t.getLastSegment()),e},equals:function(n,t){var e=this===n;if(!e&&n instanceof te){var i=this.getCurve(),r=n.getCurve(),s=i._path,a=r._path;if(s===a){var l=Math.abs,h=1e-7,f=l(this.getOffset()-n.getOffset()),d=!t&&this._intersection,_=!t&&n._intersection;e=(f<h||s&&l(s.getLength()-f)<h)&&(!d&&!_||d&&_&&d.equals(_,!0))}}return e},toString:function(){var n=[],t=this.getPoint(),e=Q.instance;t&&n.push("point: "+t);var i=this.getIndex();i!=null&&n.push("index: "+i);var r=this.getTime();return r!=null&&n.push("time: "+e.number(r)),this._distance!=null&&n.push("distance: "+e.number(this._distance)),"{ "+n.join(", ")+" }"},isTouching:function(){var n=this._intersection;if(n&&this.getTangent().isCollinear(n.getTangent())){var t=this.getCurve(),e=n.getCurve();return!(t.isStraight()&&e.isStraight()&&t.getLine().intersect(e.getLine()))}return!1},isCrossing:function(){var n=this._intersection;if(!n)return!1;var t=this.getTime(),e=n.getTime(),i=1e-8,r=1-i,s=t>=i&&t<=r,a=e>=i&&e<=r;if(s&&a)return!this.isTouching();var l=this.getCurve(),h=l&&t<i?l.getPrevious():l,f=n.getCurve(),d=f&&e<i?f.getPrevious():f;if(t>r&&(l=l.getNext()),e>r&&(f=f.getNext()),!h||!l||!d||!f)return!1;var _=[];function g(A,M){var N=A.getValues(),B=at.classify(N).roots||at.getPeaks(N),V=B.length,z=at.getLength(N,M&&V?B[V-1]:0,!M&&V?B[0]:1);_.push(V?z:z/32)}function p(A,M,N){return M<N?A>M&&A<N:A>M||A<N}s||(g(h,!0),g(l,!1)),a||(g(d,!0),g(f,!1));var w=this.getPoint(),E=Math.min.apply(Math,_),I=s?l.getTangentAtTime(t):l.getPointAt(E).subtract(w),P=s?I.negate():h.getPointAt(-E).subtract(w),x=a?f.getTangentAtTime(e):f.getPointAt(E).subtract(w),v=a?x.negate():d.getPointAt(-E).subtract(w),m=P.getAngle(),S=I.getAngle(),k=v.getAngle(),O=x.getAngle();return!!(s?p(m,k,O)^p(S,k,O)&&p(m,O,k)^p(S,O,k):p(k,m,S)^p(O,m,S)&&p(k,S,m)^p(O,S,m))},hasOverlap:function(){return!!this._overlap}},b.each(at._evaluateMethods,function(n){var t=n+"At";this[n]=function(){var e=this.getCurve(),i=this.getTime();return i!=null&&e&&e[t](i,!0)}},{preserve:!0}),new function(){function n(t,e,i){var r=t.length,s=0,a=r-1;function l(w,E){for(var I=w+E;I>=-1&&I<=r;I+=E){var P=t[(I%r+r)%r];if(!e.getPoint().isClose(P.getPoint(),1e-7))break;if(e.equals(P))return P}return null}for(;s<=a;){var h=s+a>>>1,f=t[h],d;if(i&&(d=e.equals(f)?f:l(h,-1)||l(h,1)))return e._overlap&&(d._overlap=d._intersection._overlap=!0),d;var _=e.getPath(),g=f.getPath(),p=_!==g?_._id-g._id:e.getIndex()+e.getTime()-(f.getIndex()+f.getTime());p<0?a=h-1:s=h+1}return t.splice(s,0,e),e}return{statics:{insert:n,expand:function(t){for(var e=t.slice(),i=t.length-1;i>=0;i--)n(e,t[i]._intersection,!1);return e}}}}),ae=D.extend({_class:"PathItem",_selectBounds:!1,_canScaleStroke:!0,beans:!0,initialize:function(){},statics:{create:function(n){var t,e,i;if(b.isPlainObject(n)?(e=n.segments,t=n.pathData):Array.isArray(n)?e=n:typeof n=="string"&&(t=n),e){var r=e[0];i=r&&Array.isArray(r[0])}else t&&(i=(t.match(/m/gi)||[]).length>1||/z\s*\S+/i.test(t));var s=i?pe:qt;return new s(n)}},_asPathItem:function(){return this},isClockwise:function(){return this.getArea()>=0},setClockwise:function(n){this.isClockwise()!=(n=!!n)&&this.reverse()},setPathData:function(n){var t=n&&n.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),e,i=!1,r,s,a=new R,l=new R;function h(v,m){var S=+e[v];return i&&(S+=a[m]),S}function f(v){return new R(h(v,"x"),h(v+1,"y"))}this.clear();for(var d=0,_=t&&t.length;d<_;d++){var g=t[d],p=g[0],w=p.toLowerCase();e=g.match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g);var E=e&&e.length;switch(i=p===w,r==="z"&&!/[mz]/.test(w)&&this.moveTo(a),w){case"m":case"l":for(var I=w==="m",P=0;P<E;P+=2)this[I?"moveTo":"lineTo"](a=f(P)),I&&(l=a,I=!1);s=a;break;case"h":case"v":var x=w==="h"?"x":"y";a=a.clone();for(var P=0;P<E;P++)a[x]=h(P,x),this.lineTo(a);s=a;break;case"c":for(var P=0;P<E;P+=6)this.cubicCurveTo(f(P),s=f(P+2),a=f(P+4));break;case"s":for(var P=0;P<E;P+=4)this.cubicCurveTo(/[cs]/.test(r)?a.multiply(2).subtract(s):a,s=f(P),a=f(P+2)),r=w;break;case"q":for(var P=0;P<E;P+=4)this.quadraticCurveTo(s=f(P),a=f(P+2));break;case"t":for(var P=0;P<E;P+=2)this.quadraticCurveTo(s=/[qt]/.test(r)?a.multiply(2).subtract(s):a,a=f(P)),r=w;break;case"a":for(var P=0;P<E;P+=7)this.arcTo(a=f(P+5),new ot(+e[P],+e[P+1]),+e[P+2],+e[P+4],+e[P+3]);break;case"z":this.closePath(1e-12),a=l;break}r=w}},_canComposite:function(){return!(this.hasFill()&&this.hasStroke())},_contains:function(n){var t=n.isInside(this.getBounds({internal:!0,handle:!0}))?this._getWinding(n):{};return t.onPath||!!(this.getFillRule()==="evenodd"?t.windingL&1||t.windingR&1:t.winding)},getIntersections:function(n,t,e,i){var r=this===n||!n,s=this._matrix._orNullIfIdentity(),a=r?s:(e||n._matrix)._orNullIfIdentity();return r||this.getBounds(s).intersects(n.getBounds(a),1e-12)?at.getIntersections(this.getCurves(),!r&&n.getCurves(),t,s,a,i):[]},getCrossings:function(n){return this.getIntersections(n,function(t){return t.isCrossing()})},getNearestLocation:function(){for(var n=R.read(arguments),t=this.getCurves(),e=1/0,i=null,r=0,s=t.length;r<s;r++){var a=t[r].getNearestLocation(n);a._distance<e&&(e=a._distance,i=a)}return i},getNearestPoint:function(){var n=this.getNearestLocation.apply(this,arguments);return n&&n.getPoint()},interpolate:function(n,t,e){var i=!this._children,r=i?"_segments":"_children",s=n[r],a=t[r],l=this[r];if(!s||!a||s.length!==a.length)throw new Error("Invalid operands in interpolate() call: "+n+", "+t);var h=l.length,f=a.length;if(h<f)for(var d=i?It:qt,_=h;_<f;_++)this.add(new d);else h>f&&this[i?"removeSegments":"removeChildren"](f,h);for(var _=0;_<f;_++)l[_].interpolate(s[_],a[_],e);i&&(this.setClosed(n._closed),this._changed(9))},compare:function(n){var t=!1;if(n){var e=this._children||[this],i=n._children?n._children.slice():[n],r=e.length,s=i.length,a=[],l=0;t=!0;for(var h=rt.findItemBoundsCollisions(e,i,Y.GEOMETRIC_EPSILON),f=r-1;f>=0&&t;f--){var d=e[f];t=!1;var _=h[f];if(_)for(var g=_.length-1;g>=0&&!t;g--)d.compare(i[_[g]])&&(a[_[g]]||(a[_[g]]=!0,l++),t=!0)}t=t&&l===s}return t}}),qt=ae.extend({_class:"Path",_serializeFields:{segments:[],closed:!1},initialize:function(t){this._closed=!1,this._segments=[],this._version=0;var e=arguments,i=Array.isArray(t)?typeof t[0]=="object"?t:e:t&&t.size===y&&(t.x!==y||t.point!==y)?e:null;i&&i.length>0?this.setSegments(i):(this._curves=y,this._segmentSelection=0,!i&&typeof t=="string"&&(this.setPathData(t),t=null)),this._initialize(!i&&t)},_equals:function(n){return this._closed===n._closed&&b.equals(this._segments,n._segments)},copyContent:function(n){this.setSegments(n._segments),this._closed=n._closed},_changed:function n(t){if(n.base.call(this,t),t&8){if(this._length=this._area=y,t&32)this._version++;else if(this._curves)for(var e=0,i=this._curves.length;e<i;e++)this._curves[e]._changed()}else t&64&&(this._bounds=y)},getStyle:function(){var n=this._parent;return(n instanceof pe?n:this)._style},getSegments:function(){return this._segments},setSegments:function(n){var t=this.isFullySelected(),e=n&&n.length;if(this._segments.length=0,this._segmentSelection=0,this._curves=y,e){var i=n[e-1];typeof i=="boolean"&&(this.setClosed(i),e--),this._add(It.readList(n,0,{},e))}t&&this.setFullySelected(!0)},getFirstSegment:function(){return this._segments[0]},getLastSegment:function(){return this._segments[this._segments.length-1]},getCurves:function(){var n=this._curves,t=this._segments;if(!n){var e=this._countCurves();n=this._curves=new Array(e);for(var i=0;i<e;i++)n[i]=new at(this,t[i],t[i+1]||t[0])}return n},getFirstCurve:function(){return this.getCurves()[0]},getLastCurve:function(){var n=this.getCurves();return n[n.length-1]},isClosed:function(){return this._closed},setClosed:function(n){if(this._closed!=(n=!!n)){if(this._closed=n,this._curves){var t=this._curves.length=this._countCurves();n&&(this._curves[t-1]=new at(this,this._segments[t-1],this._segments[0]))}this._changed(41)}}},{beans:!0,getPathData:function(n,t){var e=this._segments,i=e.length,r=new Q(t),s=new Array(6),a=!0,l,h,f,d,_,g,p,w,E=[];function I(x,v){if(x._transformCoordinates(n,s),l=s[0],h=s[1],a)E.push("M"+r.pair(l,h)),a=!1;else if(_=s[2],g=s[3],_===l&&g===h&&p===f&&w===d){if(!v){var m=l-f,S=h-d;E.push(m===0?"v"+r.number(S):S===0?"h"+r.number(m):"l"+r.pair(m,S))}}else E.push("c"+r.pair(p-f,w-d)+" "+r.pair(_-f,g-d)+" "+r.pair(l-f,h-d));f=l,d=h,p=s[4],w=s[5]}if(!i)return"";for(var P=0;P<i;P++)I(e[P]);return this._closed&&i>0&&(I(e[0],!0),E.push("z")),E.join("")},isEmpty:function(){return!this._segments.length},_transformContent:function(n){for(var t=this._segments,e=new Array(6),i=0,r=t.length;i<r;i++)t[i]._transformCoordinates(n,e,!0);return!0},_add:function(n,a){for(var e=this._segments,i=this._curves,r=n.length,s=a==null,a=s?e.length:a,l=0;l<r;l++){var h=n[l];h._path&&(h=n[l]=h.clone()),h._path=this,h._index=a+l,h._selection&&this._updateSelection(h,0,h._selection)}if(s)b.push(e,n);else{e.splice.apply(e,[a,0].concat(n));for(var l=a+r,f=e.length;l<f;l++)e[l]._index=l}if(i){var d=this._countCurves(),_=a>0&&a+r-1===d?a-1:a,g=_,p=Math.min(_+r,d);n._curves&&(i.splice.apply(i,[_,0].concat(n._curves)),g+=n._curves.length);for(var l=g;l<p;l++)i.splice(l,0,new at(this,null,null));this._adjustCurves(_,p)}return this._changed(41),n},_adjustCurves:function(n,t){for(var e=this._segments,i=this._curves,r,s=n;s<t;s++)r=i[s],r._path=this,r._segment1=e[s],r._segment2=e[s+1]||e[0],r._changed();(r=i[this._closed&&!n?e.length-1:n-1])&&(r._segment2=e[n]||e[0],r._changed()),(r=i[t])&&(r._segment1=e[t],r._changed())},_countCurves:function(){var n=this._segments.length;return!this._closed&&n>0?n-1:n},add:function(n){var t=arguments;return t.length>1&&typeof n!="number"?this._add(It.readList(t)):this._add([It.read(t)])[0]},insert:function(n,t){var e=arguments;return e.length>2&&typeof t!="number"?this._add(It.readList(e,1),n):this._add([It.read(e,1)],n)[0]},addSegment:function(){return this._add([It.read(arguments)])[0]},insertSegment:function(n){return this._add([It.read(arguments,1)],n)[0]},addSegments:function(n){return this._add(It.readList(n))},insertSegments:function(n,t){return this._add(It.readList(t),n)},removeSegment:function(n){return this.removeSegments(n,n+1)[0]||null},removeSegments:function(n,t,e){n=n||0,t=b.pick(t,this._segments.length);var i=this._segments,r=this._curves,s=i.length,a=i.splice(n,t-n),l=a.length;if(!l)return a;for(var h=0;h<l;h++){var f=a[h];f._selection&&this._updateSelection(f,f._selection,0),f._index=f._path=null}for(var h=n,d=i.length;h<d;h++)i[h]._index=h;if(r){for(var _=n>0&&t===s+(this._closed?1:0)?n-1:n,r=r.splice(_,l),h=r.length-1;h>=0;h--)r[h]._path=null;e&&(a._curves=r.slice(1)),this._adjustCurves(_,_)}return this._changed(41),a},clear:"#removeSegments",hasHandles:function(){for(var n=this._segments,t=0,e=n.length;t<e;t++)if(n[t].hasHandles())return!0;return!1},clearHandles:function(){for(var n=this._segments,t=0,e=n.length;t<e;t++)n[t].clearHandles()},getLength:function(){if(this._length==null){for(var n=this.getCurves(),t=0,e=0,i=n.length;e<i;e++)t+=n[e].getLength();this._length=t}return this._length},getArea:function(){var n=this._area;if(n==null){var t=this._segments,e=this._closed;n=0;for(var i=0,r=t.length;i<r;i++){var s=i+1===r;n+=at.getArea(at.getValues(t[i],t[s?0:i+1],null,s&&!e))}this._area=n}return n},isFullySelected:function(){var n=this._segments.length;return this.isSelected()&&n>0&&this._segmentSelection===n*7},setFullySelected:function(n){n&&this._selectSegments(!0),this.setSelected(n)},setSelection:function n(t){t&1||this._selectSegments(!1),n.base.call(this,t)},_selectSegments:function(n){var t=this._segments,e=t.length,i=n?7:0;this._segmentSelection=i*e;for(var r=0;r<e;r++)t[r]._selection=i},_updateSelection:function(n,t,e){n._selection=e;var i=this._segmentSelection+=e-t;i>0&&this.setSelected(!0)},divideAt:function(n){var t=this.getLocationAt(n),e;return t&&(e=t.getCurve().divideAt(t.getCurveOffset()))?e._segment1:null},splitAt:function(n){var t=this.getLocationAt(n),e=t&&t.index,i=t&&t.time,r=1e-8,s=1-r;i>s&&(e++,i=0);var a=this.getCurves();if(e>=0&&e<a.length){i>=r&&a[e++].divideAtTime(i);var l=this.removeSegments(e,this._segments.length,!0),h;return this._closed?(this.setClosed(!1),h=this):(h=new qt(D.NO_INSERT),h.insertAbove(this),h.copyAttributes(this)),h._add(l,0),this.addSegment(l[0]),h}return null},split:function(n,t){var e,i=t===y?n:(e=this.getCurves()[n])&&e.getLocationAtTime(t);return i!=null?this.splitAt(i):null},join:function(n,t){var e=t||0;if(n&&n!==this){var i=n._segments,r=this.getLastSegment(),s=n.getLastSegment();if(!s)return this;r&&r._point.isClose(s._point,e)&&n.reverse();var a=n.getFirstSegment();if(r&&r._point.isClose(a._point,e))r.setHandleOut(a._handleOut),this._add(i.slice(1));else{var l=this.getFirstSegment();l&&l._point.isClose(a._point,e)&&n.reverse(),s=n.getLastSegment(),l&&l._point.isClose(s._point,e)?(l.setHandleIn(s._handleIn),this._add(i.slice(0,i.length-1),0)):this._add(i.slice())}n._closed&&this._add([i[0]]),n.remove()}var h=this.getFirstSegment(),f=this.getLastSegment();return h!==f&&h._point.isClose(f._point,e)&&(h.setHandleIn(f._handleIn),f.remove(),this.setClosed(!0)),this},reduce:function(n){for(var t=this.getCurves(),e=n&&n.simplify,i=e?1e-7:0,r=t.length-1;r>=0;r--){var s=t[r];!s.hasHandles()&&(!s.hasLength(i)||e&&s.isCollinear(s.getNext()))&&s.remove()}return this},reverse:function(){this._segments.reverse();for(var n=0,t=this._segments.length;n<t;n++){var e=this._segments[n],i=e._handleIn;e._handleIn=e._handleOut,e._handleOut=i,e._index=n}this._curves=null,this._changed(9)},flatten:function(n){for(var t=new Ze(this,n||.25,256,!0),e=t.parts,i=e.length,r=[],s=0;s<i;s++)r.push(new It(e[s].curve.slice(0,2)));!this._closed&&i>0&&r.push(new It(e[i-1].curve.slice(6))),this.setSegments(r)},simplify:function(n){var t=new ze(this).fit(n||2.5);return t&&this.setSegments(t),!!t},smooth:function(n){var t=this,e=n||{},i=e.type||"asymmetric",r=this._segments,s=r.length,a=this._closed;function l(wt,Tt){var zt=wt&&wt.index;if(zt!=null){var Bt=wt.path;if(Bt&&Bt!==t)throw new Error(wt._class+" "+zt+" of "+Bt+" is not part of "+t);Tt&&wt instanceof at&&zt++}else zt=typeof wt=="number"?wt:Tt;return Math.min(zt<0&&a?zt%s:zt<0?zt+s:zt,s-1)}var h=a&&e.from===y&&e.to===y,f=l(e.from,0),d=l(e.to,s-1);if(f>d)if(a)f-=s;else{var _=f;f=d,d=_}if(/^(?:asymmetric|continuous)$/.test(i)){var g=i==="asymmetric",p=Math.min,w=d-f+1,E=w-1,I=h?p(w,4):1,P=I,x=I,v=[];if(a||(P=p(1,f),x=p(1,s-d-1)),E+=P+x,E<=1)return;for(var m=0,S=f-P;m<=E;m++,S++)v[m]=r[(S<0?S+s:S)%s]._point;for(var k=v[0]._x+2*v[1]._x,O=v[0]._y+2*v[1]._y,A=2,M=E-1,N=[k],B=[O],V=[A],z=[],q=[],m=1;m<E;m++){var U=m<M,j=U||g?1:2,G=U?4:g?2:7,$=U?4:g?3:8,nt=U?2:g?0:1,ht=j/A;A=V[m]=G-ht,k=N[m]=$*v[m]._x+nt*v[m+1]._x-ht*k,O=B[m]=$*v[m]._y+nt*v[m+1]._y-ht*O}z[M]=N[M]/V[M],q[M]=B[M]/V[M];for(var m=E-2;m>=0;m--)z[m]=(N[m]-z[m+1])/V[m],q[m]=(B[m]-q[m+1])/V[m];z[E]=(3*v[E]._x-z[M])/2,q[E]=(3*v[E]._y-q[M])/2;for(var m=P,_t=E-x,S=f;m<=_t;m++,S++){var vt=r[S<0?S+s:S],st=vt._point,ut=z[m]-st._x,mt=q[m]-st._y;(h||m<_t)&&vt.setHandleOut(ut,mt),(h||m>P)&&vt.setHandleIn(-ut,-mt)}}else for(var m=f;m<=d;m++)r[m<0?m+s:m].smooth(e,!h&&m===f,!h&&m===d)},toShape:function(n){if(!this._closed)return null;var t=this._segments,e,i,r,s;function a(g,p){var w=t[g],E=w.getNext(),I=t[p],P=I.getNext();return w._handleOut.isZero()&&E._handleIn.isZero()&&I._handleOut.isZero()&&P._handleIn.isZero()&&E._point.subtract(w._point).isCollinear(P._point.subtract(I._point))}function l(g){var p=t[g],w=p.getPrevious(),E=p.getNext();return w._handleOut.isZero()&&p._handleIn.isZero()&&p._handleOut.isZero()&&E._handleIn.isZero()&&p._point.subtract(w._point).isOrthogonal(E._point.subtract(p._point))}function h(g){var p=t[g],w=p.getNext(),E=p._handleOut,I=w._handleIn,P=.5522847498307936;if(E.isOrthogonal(I)){var x=p._point,v=w._point,m=new Rt(x,E,!0).intersect(new Rt(v,I,!0),!0);return m&&Y.isZero(E.getLength()/m.subtract(x).getLength()-P)&&Y.isZero(I.getLength()/m.subtract(v).getLength()-P)}return!1}function f(g,p){return t[g]._point.getDistance(t[p]._point)}if(!this.hasHandles()&&t.length===4&&a(0,2)&&a(1,3)&&l(1)?(e=ue.Rectangle,i=new ot(f(0,3),f(0,1)),s=t[1]._point.add(t[2]._point).divide(2)):t.length===8&&h(0)&&h(2)&&h(4)&&h(6)&&a(1,5)&&a(3,7)?(e=ue.Rectangle,i=new ot(f(1,6),f(0,3)),r=i.subtract(new ot(f(0,7),f(1,2))).divide(2),s=t[3]._point.add(t[4]._point).divide(2)):t.length===4&&h(0)&&h(1)&&h(2)&&h(3)&&(Y.isZero(f(0,2)-f(1,3))?(e=ue.Circle,r=f(0,2)/2):(e=ue.Ellipse,r=new ot(f(2,0)/2,f(3,1)/2)),s=t[1]._point),e){var d=this.getPosition(!0),_=new e({center:d,size:i,radius:r,insert:!1});return _.copyAttributes(this,!0),_._matrix.prepend(this._matrix),_.rotate(s.subtract(d).getAngle()+90),(n===y||n)&&_.insertAbove(this),_}return null},toPath:"#clone",compare:function n(t){if(!t||t instanceof pe)return n.base.call(this,t);var e=this.getCurves(),i=t.getCurves(),r=e.length,s=i.length;if(!r||!s)return r==s;for(var a=e[0].getValues(),l=[],h=0,f,d=0,_,g=0;g<s;g++){var I=i[g].getValues();l.push(I);var p=at.getOverlaps(a,I);if(p){f=!g&&p[0][0]>0?s-1:g,_=p[0][1];break}}for(var w=Math.abs,E=1e-8,I=l[f],P;a&&I;){var p=at.getOverlaps(a,I);if(p){var x=p[0][0];if(w(x-d)<E){d=p[1][0],d===1&&(a=++h<r?e[h].getValues():null,d=0);var v=p[0][1];if(w(v-_)<E){if(P||(P=[f,v]),_=p[1][1],_===1&&(++f>=s&&(f=0),I=l[f]||i[f].getValues(),_=0),!a)return P[0]===f&&P[1]===_;continue}}}break}return!1},_hitTestSelf:function(n,t,e,i){var r=this,s=this.getStyle(),a=this._segments,l=a.length,h=this._closed,f=t._tolerancePadding,d=f,_,g,p,w,E,I,P=t.stroke&&s.hasStroke(),x=t.fill&&s.hasFill(),v=t.curves,m=P?s.getStrokeWidth()/2:x&&t.tolerance>0||v?0:null;m!==null&&(m>0?(_=s.getStrokeJoin(),g=s.getStrokeCap(),p=s.getMiterLimit(),d=d.add(qt._getStrokePadding(m,i))):_=g="round");function S(z,q){return n.subtract(z).divide(q).length<=1}function k(z,q,U){if(!t.selected||q.isSelected()){var j=z._point;if(q!==j&&(q=q.add(j)),S(q,d))return new be(U,r,{segment:z,point:q})}}function O(z,q){return(q||t.segments)&&k(z,z._point,"segment")||!q&&t.handles&&(k(z,z._handleIn,"handle-in")||k(z,z._handleOut,"handle-out"))}function A(z){w.add(z)}function M(z){var q=h||z._index>0&&z._index<l-1;if((q?_:g)==="round")return S(z._point,d);if(w=new qt({internal:!0,closed:!0}),q?z.isSmooth()||qt._addBevelJoin(z,_,m,p,null,i,A,!0):g==="square"&&qt._addSquareCap(z,g,m,null,i,A,!0),!w.isEmpty()){var U;return w.contains(n)||(U=w.getNearestLocation(n))&&S(U.getPoint(),f)}}if(t.ends&&!t.segments&&!h){if(I=O(a[0],!0)||O(a[l-1],!0))return I}else if(t.segments||t.handles){for(var N=0;N<l;N++)if(I=O(a[N]))return I}if(m!==null){if(E=this.getNearestLocation(n),E){var B=E.getTime();B===0||B===1&&l>1?M(E.getSegment())||(E=null):S(E.getPoint(),d)||(E=null)}if(!E&&_==="miter"&&l>1)for(var N=0;N<l;N++){var V=a[N];if(n.getDistance(V._point)<=p*m&&M(V)){E=V.getLocation();break}}}return!E&&x&&this._contains(n)||E&&!P&&!v?new be("fill",this):E?new be(P?"stroke":"curve",this,{location:E,point:E.getPoint()}):null}},b.each(at._evaluateMethods,function(n){this[n+"At"]=function(t){var e=this.getLocationAt(t);return e&&e[n]()}},{beans:!1,getLocationOf:function(){for(var n=R.read(arguments),t=this.getCurves(),e=0,i=t.length;e<i;e++){var r=t[e].getLocationOf(n);if(r)return r}return null},getOffsetOf:function(){var n=this.getLocationOf.apply(this,arguments);return n?n.getOffset():null},getLocationAt:function(n){if(typeof n=="number"){for(var t=this.getCurves(),e=0,i=0,r=t.length;i<r;i++){var s=e,a=t[i];if(e+=a.getLength(),e>n)return a.getLocationAt(n-s)}if(t.length>0&&n<=this.getLength())return new te(t[t.length-1],1)}else if(n&&n.getPath&&n.getPath()===this)return n;return null},getOffsetsWithTangent:function(){var n=R.read(arguments);if(n.isZero())return[];for(var t=[],e=0,i=this.getCurves(),r=0,s=i.length;r<s;r++){for(var a=i[r],l=a.getTimesWithTangent(n),h=0,f=l.length;h<f;h++){var d=e+a.getOffsetAtTime(l[h]);t.indexOf(d)<0&&t.push(d)}e+=a.length}return t}}),new function(){function n(e,i,r,s){if(s<=0)return;var a=s/2,l=s-2,h=a-1,f=new Array(6),d,_;function g(x){var v=f[x],m=f[x+1];(d!=v||_!=m)&&(e.beginPath(),e.moveTo(d,_),e.lineTo(v,m),e.stroke(),e.beginPath(),e.arc(v,m,a,0,Math.PI*2,!0),e.fill())}for(var p=0,w=i.length;p<w;p++){var E=i[p],I=E._selection;if(E._transformCoordinates(r,f),d=f[0],_=f[1],I&2&&g(2),I&4&&g(4),e.fillRect(d-a,_-a,s,s),l>0&&!(I&1)){var P=e.fillStyle;e.fillStyle="#ffffff",e.fillRect(d-h,_-h,l,l),e.fillStyle=P}}}function t(e,i,r){var s=i._segments,a=s.length,l=new Array(6),h=!0,f,d,_,g,p,w,E,I;function P(v){if(r)v._transformCoordinates(r,l),f=l[0],d=l[1];else{var m=v._point;f=m._x,d=m._y}if(h)e.moveTo(f,d),h=!1;else{if(r)p=l[2],w=l[3];else{var S=v._handleIn;p=f+S._x,w=d+S._y}p===f&&w===d&&E===_&&I===g?e.lineTo(f,d):e.bezierCurveTo(E,I,p,w,f,d)}if(_=f,g=d,r)E=l[4],I=l[5];else{var S=v._handleOut;E=_+S._x,I=g+S._y}}for(var x=0;x<a;x++)P(s[x]);i._closed&&a>0&&P(s[0])}return{_draw:function(e,i,r,s){var a=i.dontStart,l=i.dontFinish||i.clip,h=this.getStyle(),f=h.hasFill(),d=h.hasStroke(),_=h.getDashArray(),g=!Et.support.nativeDash&&d&&_&&_.length;a||e.beginPath(),(f||d&&!g||l)&&(t(e,this,s),this._closed&&e.closePath());function p(v){return _[(v%g+g)%g]}if(!l&&(f||d)&&(this._setStyles(e,i,r),f&&(e.fill(h.getFillRule()),e.shadowColor="rgba(0,0,0,0)"),d)){if(g){a||e.beginPath();for(var w=new Ze(this,.25,32,!1,s),E=w.length,I=-h.getDashOffset(),P,x=0;I>0;)I-=p(x--)+p(x--);for(;I<E;)P=I+p(x++),(I>0||P>0)&&w.drawPart(e,Math.max(I,0),Math.max(P,0)),I=P+p(x++)}e.stroke()}},_drawSelected:function(e,i){e.beginPath(),t(e,this,i),e.stroke(),n(e,this._segments,i,Et.settings.handleSize)}}},new function(){function n(t){var e=t._segments;if(!e.length)throw new Error("Use a moveTo() command first");return e[e.length-1]}return{moveTo:function(){var t=this._segments;t.length===1&&this.removeSegment(0),t.length||this._add([new It(R.read(arguments))])},moveBy:function(){throw new Error("moveBy() is unsupported on Path items.")},lineTo:function(){this._add([new It(R.read(arguments))])},cubicCurveTo:function(){var t=arguments,e=R.read(t),i=R.read(t),r=R.read(t),s=n(this);s.setHandleOut(e.subtract(s._point)),this._add([new It(r,i.subtract(r))])},quadraticCurveTo:function(){var t=arguments,e=R.read(t),i=R.read(t),r=n(this)._point;this.cubicCurveTo(e.add(r.subtract(e).multiply(1/3)),e.add(i.subtract(e).multiply(1/3)),i)},curveTo:function(){var t=arguments,e=R.read(t),i=R.read(t),r=b.pick(b.read(t),.5),s=1-r,a=n(this)._point,l=e.subtract(a.multiply(s*s)).subtract(i.multiply(r*r)).divide(2*r*s);if(l.isNaN())throw new Error("Cannot put a curve through points with parameter = "+r);this.quadraticCurveTo(l,i)},arcTo:function(){var t=arguments,e=Math.abs,i=Math.sqrt,r=n(this),s=r._point,a=R.read(t),l,h=b.peek(t),f=b.pick(h,!0),d,_,g,p;if(typeof f=="boolean")var w=s.add(a).divide(2),l=w.add(w.subtract(s).rotate(f?-90:90));else if(b.remain(t)<=2)l=a,a=R.read(t);else if(!s.equals(a)){var E=ot.read(t),I=Y.isZero;if(I(E.width)||I(E.height))return this.lineTo(a);var P=b.read(t),f=!!b.read(t),x=!!b.read(t),w=s.add(a).divide(2),v=s.subtract(w).rotate(-P),m=v.x,S=v.y,k=e(E.width),O=e(E.height),A=k*k,M=O*O,N=m*m,B=S*S,V=i(N/A+B/M);if(V>1&&(k*=V,O*=V,A=k*k,M=O*O),V=(A*M-A*B-M*N)/(A*B+M*N),e(V)<1e-12&&(V=0),V<0)throw new Error("Cannot create an arc with the given arguments");d=new R(k*S/O,-O*m/k).multiply((x===f?-1:1)*i(V)).rotate(P).add(w),p=new St().translate(d).rotate(P).scale(k,O),g=p._inverseTransform(s),_=g.getDirectedAngle(p._inverseTransform(a)),!f&&_>0?_-=360:f&&_<0&&(_+=360)}if(l){var z=new Rt(s.add(l).divide(2),l.subtract(s).rotate(90),!0),q=new Rt(l.add(a).divide(2),a.subtract(l).rotate(90),!0),U=new Rt(s,a),j=U.getSide(l);if(d=z.intersect(q,!0),!d){if(!j)return this.lineTo(a);throw new Error("Cannot create an arc with the given arguments")}g=s.subtract(d),_=g.getDirectedAngle(a.subtract(d));var G=U.getSide(d,!0);G===0?_=j*e(_):j===G&&(_+=_<0?360:-360)}if(_){for(var $=1e-5,nt=e(_),ht=nt>=360?4:Math.ceil((nt-$)/90),_t=_/ht,vt=_t*Math.PI/360,st=4/3*Math.sin(vt)/(1+Math.cos(vt)),ut=[],mt=0;mt<=ht;mt++){var v=a,wt=null;if(mt<ht&&(wt=g.rotate(90).multiply(st),p?(v=p._transformPoint(g),wt=p._transformPoint(g.add(wt)).subtract(v)):v=d.add(g)),!mt)r.setHandleOut(wt);else{var Tt=g.rotate(-90).multiply(st);p&&(Tt=p._transformPoint(g.add(Tt)).subtract(v)),ut.push(new It(v,Tt,wt))}g=g.rotate(_t)}this._add(ut)}},lineBy:function(){var t=R.read(arguments),e=n(this)._point;this.lineTo(e.add(t))},curveBy:function(){var t=arguments,e=R.read(t),i=R.read(t),r=b.read(t),s=n(this)._point;this.curveTo(s.add(e),s.add(i),r)},cubicCurveBy:function(){var t=arguments,e=R.read(t),i=R.read(t),r=R.read(t),s=n(this)._point;this.cubicCurveTo(s.add(e),s.add(i),s.add(r))},quadraticCurveBy:function(){var t=arguments,e=R.read(t),i=R.read(t),r=n(this)._point;this.quadraticCurveTo(r.add(e),r.add(i))},arcBy:function(){var t=arguments,e=n(this)._point,i=e.add(R.read(t)),r=b.pick(b.peek(t),!0);typeof r=="boolean"?this.arcTo(i,r):this.arcTo(i,e.add(R.read(t)))},closePath:function(t){this.setClosed(!0),this.join(this,t)}}},{_getBounds:function(n,t){var e=t.handle?"getHandleBounds":t.stroke?"getStrokeBounds":"getBounds";return qt[e](this._segments,this._closed,this,n,t)},statics:{getBounds:function(n,t,e,i,r,s){var a=n[0];if(!a)return new ct;var l=new Array(6),h=a._transformCoordinates(i,new Array(6)),f=h.slice(0,2),d=f.slice(),_=new Array(2);function g(E){E._transformCoordinates(i,l);for(var I=0;I<2;I++)at._addBounds(h[I],h[I+4],l[I+2],l[I],I,s?s[I]:0,f,d,_);var P=h;h=l,l=P}for(var p=1,w=n.length;p<w;p++)g(n[p]);return t&&g(a),new ct(f[0],f[1],d[0]-f[0],d[1]-f[1])},getStrokeBounds:function(n,t,e,i,r){var s=e.getStyle(),a=s.hasStroke(),l=s.getStrokeWidth(),h=a&&e._getStrokeMatrix(i,r),f=a&&qt._getStrokePadding(l,h),d=qt.getBounds(n,t,e,i,r,f);if(!a)return d;var _=l/2,g=s.getStrokeJoin(),p=s.getStrokeCap(),w=s.getMiterLimit(),E=new ct(new ot(f));function I(k){d=d.include(k)}function P(k){d=d.unite(E.setCenter(k._point.transform(i)))}function x(k,O){O==="round"||k.isSmooth()?P(k):qt._addBevelJoin(k,O,_,w,i,h,I)}function v(k,O){O==="round"?P(k):qt._addSquareCap(k,O,_,i,h,I)}var m=n.length-(t?0:1);if(m>0){for(var S=1;S<m;S++)x(n[S],g);t?x(n[0],g):(v(n[0],p),v(n[n.length-1],p))}return d},_getStrokePadding:function(n,t){if(!t)return[n,n];var e=new R(n,0).transform(t),i=new R(0,n).transform(t),r=e.getAngleInRadians(),s=e.getLength(),a=i.getLength(),l=Math.sin(r),h=Math.cos(r),f=Math.tan(r),d=Math.atan2(a*f,s),_=Math.atan2(a,f*s);return[Math.abs(s*Math.cos(d)*h+a*Math.sin(d)*l),Math.abs(a*Math.sin(_)*h+s*Math.cos(_)*l)]},_addBevelJoin:function(n,t,e,i,r,s,a,l){var h=n.getCurve(),f=h.getPrevious(),d=h.getPoint1().transform(r),_=f.getNormalAtTime(1).multiply(e).transform(s),g=h.getNormalAtTime(0).multiply(e).transform(s),p=_.getDirectedAngle(g);if((p<0||p>=180)&&(_=_.negate(),g=g.negate()),l&&a(d),a(d.add(_)),t==="miter"){var w=new Rt(d.add(_),new R(-_.y,_.x),!0).intersect(new Rt(d.add(g),new R(-g.y,g.x),!0),!0);w&&d.getDistance(w)<=i*e&&a(w)}a(d.add(g))},_addSquareCap:function(n,t,e,i,r,s,a){var l=n._point.transform(i),h=n.getLocation(),f=h.getNormal().multiply(h.getTime()===0?e:-e).transform(r);t==="square"&&(a&&(s(l.subtract(f)),s(l.add(f))),l=l.add(f.rotate(-90))),s(l.add(f)),s(l.subtract(f))},getHandleBounds:function(n,t,e,i,r){var s=e.getStyle(),a=r.stroke&&s.hasStroke(),l,h;if(a){var f=e._getStrokeMatrix(i,r),d=s.getStrokeWidth()/2,_=d;s.getStrokeJoin()==="miter"&&(_=d*s.getMiterLimit()),s.getStrokeCap()==="square"&&(_=Math.max(_,d*Math.SQRT2)),l=qt._getStrokePadding(d,f),h=qt._getStrokePadding(_,f)}for(var g=new Array(6),p=1/0,w=-p,E=p,I=w,P=0,x=n.length;P<x;P++){var v=n[P];v._transformCoordinates(i,g);for(var m=0;m<6;m+=2){var S=m?l:h,k=S?S[0]:0,O=S?S[1]:0,A=g[m],M=g[m+1],N=A-k,B=A+k,V=M-O,z=M+O;N<p&&(p=N),B>w&&(w=B),V<E&&(E=V),z>I&&(I=z)}}return new ct(p,E,w-p,I-E)}}});qt.inject({statics:new function(){var n=.5522847498307936,t=[new It([-1,0],[0,n],[0,-n]),new It([0,-1],[-n,0],[n,0]),new It([1,0],[0,-n],[0,n]),new It([0,1],[n,0],[-n,0])];function e(r,s,a){var l=b.getNamed(a),h=new qt(l&&(l.insert==!0?D.INSERT:l.insert==!1?D.NO_INSERT:null));return h._add(r),h._closed=s,h.set(l,D.INSERT)}function i(r,s,a){for(var l=new Array(4),h=0;h<4;h++){var f=t[h];l[h]=new It(f._point.multiply(s).add(r),f._handleIn.multiply(s),f._handleOut.multiply(s))}return e(l,!0,a)}return{Line:function(){var r=arguments;return e([new It(R.readNamed(r,"from")),new It(R.readNamed(r,"to"))],!1,r)},Circle:function(){var r=arguments,s=R.readNamed(r,"center"),a=b.readNamed(r,"radius");return i(s,new ot(a),r)},Rectangle:function(){var r=arguments,s=ct.readNamed(r,"rectangle"),a=ot.readNamed(r,"radius",0,{readNull:!0}),l=s.getBottomLeft(!0),h=s.getTopLeft(!0),f=s.getTopRight(!0),d=s.getBottomRight(!0),_;if(!a||a.isZero())_=[new It(l),new It(h),new It(f),new It(d)];else{a=ot.min(a,s.getSize(!0).divide(2));var g=a.width,p=a.height,w=g*n,E=p*n;_=[new It(l.add(g,0),null,[-w,0]),new It(l.subtract(0,p),[0,E]),new It(h.add(0,p),null,[0,-E]),new It(h.add(g,0),[-w,0],null),new It(f.subtract(g,0),null,[w,0]),new It(f.add(0,p),[0,-E],null),new It(d.subtract(0,p),null,[0,E]),new It(d.subtract(g,0),[w,0])]}return e(_,!0,r)},RoundRectangle:"#Rectangle",Ellipse:function(){var r=arguments,s=ue._readEllipse(r);return i(s.center,s.radius,r)},Oval:"#Ellipse",Arc:function(){var r=arguments,s=R.readNamed(r,"from"),a=R.readNamed(r,"through"),l=R.readNamed(r,"to"),h=b.getNamed(r),f=new qt(h&&h.insert==!1&&D.NO_INSERT);return f.moveTo(s),f.arcTo(a,l),f.set(h)},RegularPolygon:function(){for(var r=arguments,s=R.readNamed(r,"center"),a=b.readNamed(r,"sides"),l=b.readNamed(r,"radius"),h=360/a,f=a%3===0,d=new R(0,f?-l:l),_=f?-1:.5,g=new Array(a),p=0;p<a;p++)g[p]=new It(s.add(d.rotate((p+_)*h)));return e(g,!0,r)},Star:function(){for(var r=arguments,s=R.readNamed(r,"center"),a=b.readNamed(r,"points")*2,l=b.readNamed(r,"radius1"),h=b.readNamed(r,"radius2"),f=360/a,d=new R(0,-1),_=new Array(a),g=0;g<a;g++)_[g]=new It(s.add(d.rotate(f*g).multiply(g%2?h:l)));return e(_,!0,r)}}}});var pe=ae.extend({_class:"CompoundPath",_serializeFields:{children:[]},beans:!0,initialize:function(t){this._children=[],this._namedChildren={},this._initialize(t)||(typeof t=="string"?this.setPathData(t):this.addChildren(Array.isArray(t)?t:arguments))},insertChildren:function n(t,e){var i=e,r=i[0];r&&typeof r[0]=="number"&&(i=[i]);for(var s=e.length-1;s>=0;s--){var a=i[s];i===e&&!(a instanceof qt)&&(i=b.slice(i)),Array.isArray(a)?i[s]=new qt({segments:a,insert:!1}):a instanceof pe&&(i.splice.apply(i,[s,1].concat(a.removeChildren())),a.remove())}return n.base.call(this,t,i)},reduce:function n(t){for(var e=this._children,i=e.length-1;i>=0;i--){var r=e[i].reduce(t);r.isEmpty()&&r.remove()}if(!e.length){var r=new qt(D.NO_INSERT);return r.copyAttributes(this),r.insertAbove(this),this.remove(),r}return n.base.call(this)},isClosed:function(){for(var n=this._children,t=0,e=n.length;t<e;t++)if(!n[t]._closed)return!1;return!0},setClosed:function(n){for(var t=this._children,e=0,i=t.length;e<i;e++)t[e].setClosed(n)},getFirstSegment:function(){var n=this.getFirstChild();return n&&n.getFirstSegment()},getLastSegment:function(){var n=this.getLastChild();return n&&n.getLastSegment()},getCurves:function(){for(var n=this._children,t=[],e=0,i=n.length;e<i;e++)b.push(t,n[e].getCurves());return t},getFirstCurve:function(){var n=this.getFirstChild();return n&&n.getFirstCurve()},getLastCurve:function(){var n=this.getLastChild();return n&&n.getLastCurve()},getArea:function(){for(var n=this._children,t=0,e=0,i=n.length;e<i;e++)t+=n[e].getArea();return t},getLength:function(){for(var n=this._children,t=0,e=0,i=n.length;e<i;e++)t+=n[e].getLength();return t},getPathData:function(n,t){for(var e=this._children,i=[],r=0,s=e.length;r<s;r++){var a=e[r],l=a._matrix;i.push(a.getPathData(n&&!l.isIdentity()?n.appended(l):n,t))}return i.join("")},_hitTestChildren:function n(t,e,i){return n.base.call(this,t,e.class===qt||e.type==="path"?e:b.set({},e,{fill:!1}),i)},_draw:function(n,t,e,i){var r=this._children;if(r.length){t=t.extend({dontStart:!0,dontFinish:!0}),n.beginPath();for(var s=0,a=r.length;s<a;s++)r[s].draw(n,t,i);if(!t.clip){this._setStyles(n,t,e);var l=this._style;l.hasFill()&&(n.fill(l.getFillRule()),n.shadowColor="rgba(0,0,0,0)"),l.hasStroke()&&n.stroke()}}},_drawSelected:function(n,t,e){for(var i=this._children,r=0,s=i.length;r<s;r++){var a=i[r],l=a._matrix;e[a._id]||a._drawSelected(n,l.isIdentity()?t:t.appended(l))}}},new function(){function n(t,e){var i=t._children;if(e&&!i.length)throw new Error("Use a moveTo() command first");return i[i.length-1]}return b.each(["lineTo","cubicCurveTo","quadraticCurveTo","curveTo","arcTo","lineBy","cubicCurveBy","quadraticCurveBy","curveBy","arcBy"],function(t){this[t]=function(){var e=n(this,!0);e[t].apply(e,arguments)}},{moveTo:function(){var t=n(this),e=t&&t.isEmpty()?t:new qt(D.NO_INSERT);e!==t&&this.addChild(e),e.moveTo.apply(e,arguments)},moveBy:function(){var t=n(this,!0),e=t&&t.getLastSegment(),i=R.read(arguments);this.moveTo(e?i.add(e._point):i)},closePath:function(t){n(this,!0).closePath(t)}})},b.each(["reverse","flatten","simplify","smooth"],function(n){this[n]=function(t){for(var e=this._children,i,r=0,s=e.length;r<s;r++)i=e[r][n](t)||i;return i}},{}));ae.inject(new function(){var n=Math.min,t=Math.max,e=Math.abs,i={unite:{1:!0,2:!0},intersect:{2:!0},subtract:{1:!0},exclude:{1:!0,"-1":!0}};function r(P){return P._children||[P]}function s(P,x){var v=P.clone(!1).reduce({simplify:!0}).transform(null,!0,!0);if(x){for(var m=r(v),S=0,k=m.length;S<k;S++){var P=m[S];!P._closed&&!P.isEmpty()&&(P.closePath(1e-12),P.getFirstSegment().setHandleIn(0,0),P.getLastSegment().setHandleOut(0,0))}v=v.resolveCrossings().reorient(v.getFillRule()==="nonzero",!0)}return v}function a(P,x,v,m,S){var k=new pe(D.NO_INSERT);return k.addChildren(P,!0),k=k.reduce({simplify:x}),S&&S.insert==!1||k.insertAbove(m&&v.isSibling(m)&&v.getIndex()<m.getIndex()?m:v),k.copyAttributes(v,!0),k}function l(P){return P.hasOverlap()||P.isCrossing()}function h(P,x,v,m){if(m&&(m.trace==!1||m.stroke)&&/^(subtract|intersect)$/.test(v))return f(P,x,v);var S=s(P,!0),k=x&&P!==x&&s(x,!0),O=i[v];O[v]=!0,k&&(O.subtract||O.exclude)^(k.isClockwise()^S.isClockwise())&&k.reverse();var A=p(te.expand(S.getIntersections(k,l))),M=r(S),N=k&&r(k),B=[],V=[],z;function q(wt){for(var Tt=0,zt=wt.length;Tt<zt;Tt++){var Bt=wt[Tt];b.push(B,Bt._segments),b.push(V,Bt.getCurves()),Bt._overlapsOnly=!0}}function U(wt){for(var Tt=[],zt=0,Bt=wt&&wt.length;zt<Bt;zt++)Tt.push(V[wt[zt]]);return Tt}if(A.length){q(M),N&&q(N);for(var j=new Array(V.length),G=0,$=V.length;G<$;G++)j[G]=V[G].getValues();for(var nt=rt.findCurveBoundsCollisions(j,j,0,!0),ht={},G=0;G<V.length;G++){var _t=V[G],vt=_t._path._id,st=ht[vt]=ht[vt]||{};st[_t.getIndex()]={hor:U(nt[G].hor),ver:U(nt[G].ver)}}for(var G=0,$=A.length;G<$;G++)E(A[G]._segment,S,k,ht,O);for(var G=0,$=B.length;G<$;G++){var ut=B[G],mt=ut._intersection;ut._winding||E(ut,S,k,ht,O),mt&&mt._overlap||(ut._path._overlapsOnly=!1)}z=I(B,O)}else z=g(N?M.concat(N):M.slice(),function(wt){return!!O[wt]});return a(z,!0,P,x,m)}function f(P,x,v){var m=s(P),S=s(x),k=m.getIntersections(S,l),O=v==="subtract",A=v==="divide",M={},N=[];function B(q){if(!M[q._id]&&(A||S.contains(q.getPointAt(q.getLength()/2))^O))return N.unshift(q),M[q._id]=!0}for(var V=k.length-1;V>=0;V--){var z=k[V].split();z&&(B(z)&&z.getFirstSegment().setHandleIn(0,0),m.getLastSegment().setHandleOut(0,0))}return B(m),a(N,!1,P,x)}function d(P,x){for(var v=P;v;){if(v===x)return;v=v._previous}for(;P._next&&P._next!==x;)P=P._next;if(!P._next){for(;x._previous;)x=x._previous;P._next=x,x._previous=P}}function _(P){for(var x=P.length-1;x>=0;x--)P[x].clearHandles()}function g(P,x,v){var m=P&&P.length;if(m){var S=b.each(P,function(nt,ht){this[nt._id]={container:null,winding:nt.isClockwise()?1:-1,index:ht}},{}),k=P.slice().sort(function(nt,ht){return e(ht.getArea())-e(nt.getArea())}),O=k[0],A=rt.findItemBoundsCollisions(k,null,Y.GEOMETRIC_EPSILON);v==null&&(v=O.isClockwise());for(var M=0;M<m;M++){var N=k[M],B=S[N._id],V=0,z=A[M];if(z){for(var q=null,U=z.length-1;U>=0;U--)if(z[U]<M){q=q||N.getInteriorPoint();var j=k[z[U]];if(j.contains(q)){var G=S[j._id];V=G.winding,B.winding+=V,B.container=G.exclude?G.container:j;break}}}if(x(B.winding)===x(V))B.exclude=!0,P[B.index]=null;else{var $=B.container;N.setClockwise($?!$.isClockwise():v)}}}return P}function p(P,x,v){var m=x&&[],S=1e-8,k=1-S,O=!1,A=v||[],M=v&&{},N,B,V;function z(Tt){return Tt._path._id+"."+Tt._segment1._index}for(var q=(v&&v.length)-1;q>=0;q--){var U=v[q];U._path&&(M[z(U)]=!0)}for(var q=P.length-1;q>=0;q--){var j=P[q],G=j._time,$=G,nt=x&&!x(j),U=j._curve,ht;if(U&&(U!==B?(O=!U.hasHandles()||M&&M[z(U)],N=[],V=null,B=U):V>=S&&(G/=V)),nt){N&&N.push(j);continue}else x&&m.unshift(j);if(V=$,G<S)ht=U._segment1;else if(G>k)ht=U._segment2;else{var _t=U.divideAtTime(G,!0);O&&A.push(U,_t),ht=_t._segment1;for(var vt=N.length-1;vt>=0;vt--){var st=N[vt];st._time=(st._time-G)/(1-G)}}j._setSegment(ht);var ut=ht._intersection,mt=j._intersection;if(ut){d(ut,mt);for(var wt=ut;wt;)d(wt._intersection,ut),wt=wt._next}else ht._intersection=mt}return v||_(A),m||P}function w(P,x,v,m,S){var k=Array.isArray(x)?x:x[v?"hor":"ver"],O=v?1:0,A=O^1,M=[P.x,P.y],N=M[O],B=M[A],V=1e-9,z=1e-6,q=N-V,U=N+V,j=0,G=0,$=0,nt=0,ht=!1,_t=!1,vt=1,st=[],ut,mt;function wt(ee){var Qt=ee[A+0],me=ee[A+6];if(!(B<n(Qt,me)||B>t(Qt,me))){var we=ee[O+0],Ee=ee[O+2],je=ee[O+4],We=ee[O+6];if(Qt===me){(we<U&&We>q||We<U&&we>q)&&(ht=!0);return}var De=B===Qt?0:B===me||q>t(we,Ee,je,We)||U<n(we,Ee,je,We)?1:at.solveCubic(ee,A,B,st,0,1)>0?st[0]:1,Me=De===0?we:De===1?We:at.getPoint(ee,De)[v?"y":"x"],ye=Qt>me?1:-1,Ce=ut[A]>ut[A+6]?1:-1,Ke=ut[O+6];return B!==Qt?(Me<q?$+=ye:Me>U?nt+=ye:ht=!0,Me>N-z&&Me<N+z&&(vt/=2)):(ye!==Ce?we<q?$+=ye:we>U&&(nt+=ye):we!=Ke&&(Ke<U&&Me>U?(nt+=ye,ht=!0):Ke>q&&Me<q&&($+=ye,ht=!0)),vt/=4),ut=ee,!S&&Me>q&&Me<U&&at.getTangent(ee,De)[v?"x":"y"]===0&&w(P,x,!v,m,!0)}}function Tt(ee){var Qt=ee[A+0],me=ee[A+2],we=ee[A+4],Ee=ee[A+6];if(B<=t(Qt,me,we,Ee)&&B>=n(Qt,me,we,Ee)){for(var je=ee[O+0],We=ee[O+2],De=ee[O+4],Me=ee[O+6],ye=q>t(je,We,De,Me)||U<n(je,We,De,Me)?[ee]:at.getMonoCurves(ee,v),Ce,Ke=0,ei=ye.length;Ke<ei;Ke++)if(Ce=wt(ye[Ke]))return Ce}}for(var zt=0,Bt=k.length;zt<Bt;zt++){var Ht=k[zt],Ut=Ht._path,Jt=Ht.getValues(),ge;if((!zt||k[zt-1]._path!==Ut)&&(ut=null,Ut._closed||(mt=at.getValues(Ut.getLastCurve().getSegment2(),Ht.getSegment1(),null,!m),mt[A]!==mt[A+6]&&(ut=mt)),!ut)){ut=Jt;for(var ve=Ut.getLastCurve();ve&&ve!==Ht;){var Nt=ve.getValues();if(Nt[A]!==Nt[A+6]){ut=Nt;break}ve=ve.getPrevious()}}if(ge=Tt(Jt))return ge;if(zt+1===Bt||k[zt+1]._path!==Ut){if(mt&&(ge=Tt(mt)))return ge;ht&&!$&&!nt&&($=nt=Ut.isClockwise(m)^v?1:-1),j+=$,G+=nt,$=nt=0,ht&&(_t=!0,ht=!1),mt=null}}return j=e(j),G=e(G),{winding:t(j,G),windingL:j,windingR:G,quality:vt,onPath:_t}}function E(P,x,v,m,S){var k=[],O=P,A=0,V;do{var M=P.getCurve();if(M){var N=M.getLength();k.push({segment:P,curve:M,length:N}),A+=N}P=P.getNext()}while(P&&!P._intersection&&P!==O);for(var B=[.5,.25,.75],V={winding:0,quality:-1},z=.001,q=1-z,U=0;U<B.length&&V.quality<.5;U++)for(var N=A*B[U],j=0,G=k.length;j<G;j++){var $=k[j],nt=$.length;if(N<=nt){var M=$.curve,ht=M._path,_t=ht._parent,vt=_t instanceof pe?_t:ht,st=Y.clamp(M.getTimeAt(N),z,q),ut=M.getPointAtTime(st),mt=e(M.getTangentAtTime(st).y)<Math.SQRT1_2,wt=null;if(S.subtract&&v){var Tt=vt===x?v:x,zt=Tt._getWinding(ut,mt,!0);if(vt===x&&zt.winding||vt===v&&!zt.winding){if(zt.quality<1)continue;wt={winding:0,quality:1}}}wt=wt||w(ut,m[ht._id][M.getIndex()],mt,!0),wt.quality>V.quality&&(V=wt);break}N-=nt}for(var j=k.length-1;j>=0;j--)k[j].segment._winding=V}function I(P,x){var v=[],m;function S(Bt){var Ht;return!!(Bt&&!Bt._visited&&(!x||x[(Ht=Bt._winding||{}).winding]&&!(x.unite&&Ht.winding===2&&Ht.windingL&&Ht.windingR)))}function k(Bt){if(Bt){for(var Ht=0,Ut=m.length;Ht<Ut;Ht++)if(Bt===m[Ht])return!0}return!1}function O(Bt){for(var Ht=Bt._segments,Ut=0,Jt=Ht.length;Ut<Jt;Ut++)Ht[Ut]._visited=!0}function A(Bt,Ht){var Ut=Bt._intersection,Jt=Ut,ge=[];Ht&&(m=[Bt]);function ve(Nt,ee){for(;Nt&&Nt!==ee;){var Qt=Nt._segment,me=Qt&&Qt._path;if(me){var we=Qt.getNext()||me.getFirstSegment(),Ee=we._intersection;Qt!==Bt&&(k(Qt)||k(we)||we&&S(Qt)&&(S(we)||Ee&&S(Ee._segment)))&&ge.push(Qt),Ht&&m.push(Qt)}Nt=Nt._next}}if(Ut){for(ve(Ut);Ut&&Ut._previous;)Ut=Ut._previous;ve(Ut,Jt)}return ge}P.sort(function(Bt,Ht){var Ut=Bt._intersection,Jt=Ht._intersection,ge=!!(Ut&&Ut._overlap),ve=!!(Jt&&Jt._overlap),Nt=Bt._path,ee=Ht._path;return ge^ve?ge?1:-1:!Ut^!Jt?Ut?1:-1:Nt!==ee?Nt._id-ee._id:Bt._index-Ht._index});for(var M=0,N=P.length;M<N;M++){var B=P[M],V=S(B),z=null,q=!1,U=!0,j=[],G,$,nt;if(V&&B._path._overlapsOnly){var ht=B._path,_t=B._intersection._segment._path;ht.compare(_t)&&(ht.getArea()&&v.push(ht.clone(!1)),O(ht),O(_t),V=!1)}for(;V;){var vt=!z,st=A(B,vt),ut=st.shift(),q=!vt&&(k(B)||k(ut)),mt=!q&&ut;if(vt&&(z=new qt(D.NO_INSERT),G=null),q){(B.isFirst()||B.isLast())&&(U=B._path._closed),B._visited=!0;break}if(mt&&G&&(j.push(G),G=null),G||(mt&&st.push(B),G={start:z._segments.length,crossings:st,visited:$=[],handleIn:nt}),mt&&(B=ut),!S(B)){z.removeSegments(G.start);for(var wt=0,Tt=$.length;wt<Tt;wt++)$[wt]._visited=!1;$.length=0;do B=G&&G.crossings.shift(),(!B||!B._path)&&(B=null,G=j.pop(),G&&($=G.visited,nt=G.handleIn));while(G&&!S(B));if(!B)break}var zt=B.getNext();z.add(new It(B._point,nt,zt&&B._handleOut)),B._visited=!0,$.push(B),B=zt||B._path.getFirstSegment(),nt=zt&&zt._handleIn}q&&(U&&(z.getFirstSegment().setHandleIn(nt),z.setClosed(U)),z.getArea()!==0&&v.push(z))}return v}return{_getWinding:function(P,x,v){return w(P,this.getCurves(),x,v)},unite:function(P,x){return h(this,P,"unite",x)},intersect:function(P,x){return h(this,P,"intersect",x)},subtract:function(P,x){return h(this,P,"subtract",x)},exclude:function(P,x){return h(this,P,"exclude",x)},divide:function(P,x){return x&&(x.trace==!1||x.stroke)?f(this,P,"divide"):a([this.subtract(P,x),this.intersect(P,x)],!0,this,P,x)},resolveCrossings:function(){var P=this._children,x=P||[this];function v(G,$){var nt=G&&G._intersection;return nt&&nt._overlap&&nt._path===$}var m=!1,S=!1,k=this.getIntersections(null,function(G){return G.hasOverlap()&&(m=!0)||G.isCrossing()&&(S=!0)}),O=m&&S&&[];if(k=te.expand(k),m)for(var A=p(k,function(G){return G.hasOverlap()},O),M=A.length-1;M>=0;M--){var N=A[M],B=N._path,V=N._segment,z=V.getPrevious(),q=V.getNext();v(z,B)&&v(q,B)&&(V.remove(),z._handleOut._set(0,0),q._handleIn._set(0,0),z!==V&&!z.getCurve().hasLength()&&(q._handleIn.set(z._handleIn),z.remove()))}S&&(p(k,m&&function(G){var $=G.getCurve(),nt=G.getSegment(),ht=G._intersection,_t=ht._curve,vt=ht._segment;if($&&_t&&$._path&&_t._path)return!0;nt&&(nt._intersection=null),vt&&(vt._intersection=null)},O),O&&_(O),x=I(b.each(x,function(G){b.push(this,G._segments)},[])));var U=x.length,j;return U>1&&P?(x!==P&&this.setChildren(x),j=this):U===1&&!P&&(x[0]!==this&&this.setSegments(x[0].removeSegments()),j=this),j||(j=new pe(D.NO_INSERT),j.addChildren(x),j=j.reduce(),j.copyAttributes(this),this.replaceWith(j)),j},reorient:function(P,x){var v=this._children;return v&&v.length?this.setChildren(g(this.removeChildren(),function(m){return!!(P?m:m&1)},x)):x!==y&&this.setClockwise(x),this},getInteriorPoint:function(){var P=this.getBounds(),x=P.getCenter(!0);if(!this.contains(x)){for(var v=this.getCurves(),m=x.y,S=[],k=[],O=0,A=v.length;O<A;O++){var M=v[O].getValues(),N=M[1],B=M[3],V=M[5],z=M[7];if(m>=n(N,B,V,z)&&m<=t(N,B,V,z))for(var q=at.getMonoCurves(M),U=0,j=q.length;U<j;U++){var G=q[U],$=G[1],nt=G[7];if($!==nt&&(m>=$&&m<=nt||m>=nt&&m<=$)){var ht=m===$?G[0]:m===nt?G[6]:at.solveCubic(G,1,m,k,0,1)===1?at.getPoint(G,k[0]).x:(G[0]+G[6])/2;S.push(ht)}}}S.length>1&&(S.sort(function(_t,vt){return _t-vt}),x.x=(S[0]+S[1])/2)}return x}}});var Ze=b.extend({_class:"PathFlattener",initialize:function(n,t,e,i,r){var s=[],a=[],l=0,h=1/(e||32),f=n._segments,d=f[0],_;function g(I,P){var x=at.getValues(I,P,r);s.push(x),p(x,I._index,0,1)}function p(I,P,x,v){if(v-x>h&&!(i&&at.isStraight(I))&&!at.isFlatEnough(I,t||.25)){var m=at.subdivide(I,.5),S=(x+v)/2;p(m[0],P,x,S),p(m[1],P,S,v)}else{var k=I[6]-I[0],O=I[7]-I[1],A=Math.sqrt(k*k+O*O);A>0&&(l+=A,a.push({offset:l,curve:I,index:P,time:v}))}}for(var w=1,E=f.length;w<E;w++)_=f[w],g(d,_),d=_;n._closed&&g(_||d,f[0]),this.curves=s,this.parts=a,this.length=l,this.index=0},_get:function(n){for(var t=this.parts,e=t.length,i,r=this.index;i=r,!(!r||t[--r].offset<n););for(;i<e;i++){var s=t[i];if(s.offset>=n){this.index=i;var a=t[i-1],l=a&&a.index===s.index?a.time:0,h=a?a.offset:0;return{index:s.index,time:l+(s.time-l)*(n-h)/(s.offset-h)}}}return{index:t[e-1].index,time:1}},drawPart:function(n,t,e){for(var i=this._get(t),r=this._get(e),s=i.index,a=r.index;s<=a;s++){var l=at.getPart(this.curves[s],s===i.index?i.time:0,s===r.index?r.time:1);s===i.index&&n.moveTo(l[0],l[1]),n.bezierCurveTo.apply(n,l.slice(2))}}},b.each(at._evaluateMethods,function(n){this[n+"At"]=function(t){var e=this._get(t);return at[n](this.curves[e.index],e.time)}},{})),ze=b.extend({initialize:function(n){for(var t=this.points=[],e=n._segments,i=n._closed,r=0,s,a=e.length;r<a;r++){var l=e[r].point;(!s||!s.equals(l))&&t.push(s=l.clone())}i&&(t.unshift(t[t.length-1]),t.push(t[1])),this.closed=i},fit:function(n){var t=this.points,e=t.length,i=null;return e>0&&(i=[new It(t[0])],e>1&&(this.fitCubic(i,n,0,e-1,t[1].subtract(t[0]),t[e-2].subtract(t[e-1])),this.closed&&(i.shift(),i.pop()))),i},fitCubic:function(n,t,e,i,r,s){var a=this.points;if(i-e===1){var l=a[e],h=a[i],f=l.getDistance(h)/3;this.addCurve(n,[l,l.add(r.normalize(f)),h.add(s.normalize(f)),h]);return}for(var d=this.chordLengthParameterize(e,i),_=Math.max(t,t*t),g,p=!0,w=0;w<=4;w++){var E=this.generateBezier(e,i,d,r,s),I=this.findMaxError(e,i,E,d);if(I.error<t&&p){this.addCurve(n,E);return}if(g=I.index,I.error>=_)break;p=this.reparameterize(e,i,d,E),_=I.error}var P=a[g-1].subtract(a[g+1]);this.fitCubic(n,t,e,g,r,P),this.fitCubic(n,t,g,i,P.negate(),s)},addCurve:function(n,t){var e=n[n.length-1];e.setHandleOut(t[1].subtract(t[0])),n.push(new It(t[3],t[2].subtract(t[3])))},generateBezier:function(n,t,e,i,r){for(var s=1e-12,a=Math.abs,l=this.points,h=l[n],f=l[t],d=[[0,0],[0,0]],_=[0,0],g=0,p=t-n+1;g<p;g++){var w=e[g],E=1-w,I=3*w*E,P=E*E*E,x=I*E,v=I*w,m=w*w*w,S=i.normalize(x),k=r.normalize(v),O=l[n+g].subtract(h.multiply(P+x)).subtract(f.multiply(v+m));d[0][0]+=S.dot(S),d[0][1]+=S.dot(k),d[1][0]=d[0][1],d[1][1]+=k.dot(k),_[0]+=S.dot(O),_[1]+=k.dot(O)}var A=d[0][0]*d[1][1]-d[1][0]*d[0][1],M,N;if(a(A)>s){var B=d[0][0]*_[1]-d[1][0]*_[0],V=_[0]*d[1][1]-_[1]*d[0][1];M=V/A,N=B/A}else{var z=d[0][0]+d[0][1],q=d[1][0]+d[1][1];M=N=a(z)>s?_[0]/z:a(q)>s?_[1]/q:0}var U=f.getDistance(h),j=s*U,G,$;if(M<j||N<j)M=N=U/3;else{var nt=f.subtract(h);G=i.normalize(M),$=r.normalize(N),G.dot(nt)-$.dot(nt)>U*U&&(M=N=U/3,G=$=null)}return[h,h.add(G||i.normalize(M)),f.add($||r.normalize(N)),f]},reparameterize:function(n,t,e,i){for(var r=n;r<=t;r++)e[r-n]=this.findRoot(i,this.points[r],e[r-n]);for(var r=1,s=e.length;r<s;r++)if(e[r]<=e[r-1])return!1;return!0},findRoot:function(n,t,e){for(var i=[],r=[],s=0;s<=2;s++)i[s]=n[s+1].subtract(n[s]).multiply(3);for(var s=0;s<=1;s++)r[s]=i[s+1].subtract(i[s]).multiply(2);var a=this.evaluate(3,n,e),l=this.evaluate(2,i,e),h=this.evaluate(1,r,e),f=a.subtract(t),d=l.dot(l)+f.dot(h);return Y.isMachineZero(d)?e:e-f.dot(l)/d},evaluate:function(n,t,e){for(var i=t.slice(),r=1;r<=n;r++)for(var s=0;s<=n-r;s++)i[s]=i[s].multiply(1-e).add(i[s+1].multiply(e));return i[0]},chordLengthParameterize:function(n,t){for(var e=[0],i=n+1;i<=t;i++)e[i-n]=e[i-n-1]+this.points[i].getDistance(this.points[i-1]);for(var i=1,r=t-n;i<=r;i++)e[i]/=e[r];return e},findMaxError:function(n,t,e,i){for(var r=Math.floor((t-n+1)/2),s=0,a=n+1;a<t;a++){var l=this.evaluate(3,e,i[a-n]),h=l.subtract(this.points[a]),f=h.x*h.x+h.y*h.y;f>=s&&(s=f,r=a)}return{error:s,index:r}}}),Ve=D.extend({_class:"TextItem",_applyMatrix:!1,_canApplyMatrix:!1,_serializeFields:{content:null},_boundsOptions:{stroke:!1,handle:!1},initialize:function(t){this._content="",this._lines=[];var e=t&&b.isPlainObject(t)&&t.x===y&&t.y===y;this._initialize(e&&t,!e&&R.read(arguments))},_equals:function(n){return this._content===n._content},copyContent:function(n){this.setContent(n._content)},getContent:function(){return this._content},setContent:function(n){this._content=""+n,this._lines=this._content.split(/\r\n|\n|\r/mg),this._changed(521)},isEmpty:function(){return!this._content},getCharacterStyle:"#getStyle",setCharacterStyle:"#setStyle",getParagraphStyle:"#getStyle",setParagraphStyle:"#setStyle"}),li=Ve.extend({_class:"PointText",initialize:function(){Ve.apply(this,arguments)},getPoint:function(){var n=this._matrix.getTranslation();return new Ft(n.x,n.y,this,"setPoint")},setPoint:function(){var n=R.read(arguments);this.translate(n.subtract(this._matrix.getTranslation()))},_draw:function(n,t,e){if(this._content){this._setStyles(n,t,e);var i=this._lines,r=this._style,s=r.hasFill(),a=r.hasStroke(),l=r.getLeading(),h=n.shadowColor;n.font=r.getFontStyle(),n.textAlign=r.getJustification();for(var f=0,d=i.length;f<d;f++){n.shadowColor=h;var _=i[f];s&&(n.fillText(_,0,0),n.shadowColor="rgba(0,0,0,0)"),a&&n.strokeText(_,0,0),n.translate(0,l)}}},_getBounds:function(n,t){var e=this._style,i=this._lines,r=i.length,s=e.getJustification(),a=e.getLeading(),l=this.getView().getTextWidth(e.getFontStyle(),i),h=0;s!=="left"&&(h-=l/(s==="center"?2:1));var f=new ct(h,r?-.75*a:0,l,r*a);return n?n._transformBounds(f,f):f}}),ne=b.extend(new function(){var n={gray:["gray"],rgb:["red","green","blue"],hsb:["hue","saturation","brightness"],hsl:["hue","saturation","lightness"],gradient:["gradient","origin","destination","highlight"]},t={},e={transparent:[0,0,0,0]},i;function r(l){var h=l.match(/^#([\da-f]{2})([\da-f]{2})([\da-f]{2})([\da-f]{2})?$/i)||l.match(/^#([\da-f])([\da-f])([\da-f])([\da-f])?$/i),f="rgb",d;if(h){var _=h[4]?4:3;d=new Array(_);for(var g=0;g<_;g++){var p=h[g+1];d[g]=parseInt(p.length==1?p+p:p,16)/255}}else if(h=l.match(/^(rgb|hsl)a?\((.*)\)$/)){f=h[1],d=h[2].trim().split(/[,\s]+/g);for(var w=f==="hsl",g=0,E=Math.min(d.length,4);g<E;g++){var I=d[g],p=parseFloat(I);if(w)if(g===0){var P=I.match(/([a-z]*)$/)[1];p*={turn:360,rad:180/Math.PI,grad:.9}[P]||1}else g<3&&(p/=100);else g<3&&(p/=/%$/.test(I)?100:255);d[g]=p}}else{var x=e[l];if(!x)if(T){i||(i=At.getContext(1,1,{willReadFrequently:!0}),i.globalCompositeOperation="copy"),i.fillStyle="rgba(0,0,0,0)",i.fillStyle=l,i.fillRect(0,0,1,1);var v=i.getImageData(0,0,1,1).data;x=e[l]=[v[0]/255,v[1]/255,v[2]/255]}else x=[0,0,0];d=x.slice()}return[f,d]}var s=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]],a={"rgb-hsb":function(l,h,f){var d=Math.max(l,h,f),_=Math.min(l,h,f),g=d-_,p=g===0?0:(d==l?(h-f)/g+(h<f?6:0):d==h?(f-l)/g+2:(l-h)/g+4)*60;return[p,d===0?0:g/d,d]},"hsb-rgb":function(l,h,f){l=(l/60%6+6)%6;var _=Math.floor(l),d=l-_,_=s[_],g=[f,f*(1-h),f*(1-h*d),f*(1-h*(1-d))];return[g[_[0]],g[_[1]],g[_[2]]]},"rgb-hsl":function(l,h,f){var d=Math.max(l,h,f),_=Math.min(l,h,f),g=d-_,p=g===0,w=p?0:(d==l?(h-f)/g+(h<f?6:0):d==h?(f-l)/g+2:(l-h)/g+4)*60,E=(d+_)/2,I=p?0:E<.5?g/(d+_):g/(2-d-_);return[w,I,E]},"hsl-rgb":function(l,h,f){if(l=(l/360%1+1)%1,h===0)return[f,f,f];for(var d=[l+1/3,l,l-1/3],_=f<.5?f*(1+h):f+h-f*h,g=2*f-_,p=[],w=0;w<3;w++){var E=d[w];E<0&&(E+=1),E>1&&(E-=1),p[w]=6*E<1?g+(_-g)*6*E:2*E<1?_:3*E<2?g+(_-g)*(2/3-E)*6:g}return p},"rgb-gray":function(l,h,f){return[l*.2989+h*.587+f*.114]},"gray-rgb":function(l){return[l,l,l]},"gray-hsb":function(l){return[0,0,l]},"gray-hsl":function(l){return[0,0,l]},"gradient-rgb":function(){return[]},"rgb-gradient":function(){return[]}};return b.each(n,function(l,h){t[h]=[],b.each(l,function(f,d){var _=b.capitalize(f),g=/^(hue|saturation)$/.test(f),p=t[h][d]=h==="gradient"?f==="gradient"?function(w){var E=this._components[0];return w=Fe.read(Array.isArray(w)?w:arguments,0,{readNull:!0}),E!==w&&(E&&E._removeOwner(this),w&&w._addOwner(this)),w}:function(){return R.read(arguments,0,{readNull:f==="highlight",clone:!0})}:function(w){return w==null||isNaN(w)?0:+w};this["get"+_]=function(){return this._type===h||g&&/^hs[bl]$/.test(this._type)?this._components[d]:this._convert(h)[d]},this["set"+_]=function(w){this._type!==h&&!(g&&/^hs[bl]$/.test(this._type))&&(this._components=this._convert(h),this._properties=n[h],this._type=h),this._components[d]=p.call(this,w),this._changed()}},this)},{_class:"Color",_readIndex:!0,initialize:function l(h){var f=arguments,d=this.__read,_=0,g,p,w,E;Array.isArray(h)&&(f=h,h=f[0]);var I=h!=null&&typeof h;if(I==="string"&&h in n&&(g=h,h=f[1],Array.isArray(h)?(p=h,w=f[2]):(d&&(_=1),f=b.slice(f,1),I=typeof h)),!p){if(E=I==="number"?f:I==="object"&&h.length!=null?h:null,E){g||(g=E.length>=3?"rgb":"gray");var P=n[g].length;w=E[P],d&&(_+=E===arguments?P+(w!=null?1:0):1),E.length>P&&(E=b.slice(E,0,P))}else if(I==="string"){var x=r(h);g=x[0],p=x[1],p.length===4&&(w=p[3],p.length--)}else if(I==="object")if(h.constructor===l){if(g=h._type,p=h._components.slice(),w=h._alpha,g==="gradient")for(var v=1,m=p.length;v<m;v++){var S=p[v];S&&(p[v]=S.clone())}}else if(h.constructor===Fe)g="gradient",E=f;else{g="hue"in h?"lightness"in h?"hsl":"hsb":"gradient"in h||"stops"in h||"radial"in h?"gradient":"gray"in h?"gray":"rgb";var k=n[g],O=t[g];this._components=p=[];for(var v=0,m=k.length;v<m;v++){var A=h[k[v]];A==null&&!v&&g==="gradient"&&"stops"in h&&(A={stops:h.stops,radial:h.radial}),A=O[v].call(this,A),A!=null&&(p[v]=A)}w=h.alpha}d&&g&&(_=1)}if(this._type=g||"rgb",!p){this._components=p=[];for(var O=t[this._type],v=0,m=O.length;v<m;v++){var A=O[v].call(this,E&&E[v]);A!=null&&(p[v]=A)}}return this._components=p,this._properties=n[this._type],this._alpha=w,d&&(this.__read=_),this},set:"#initialize",_serialize:function(l,h){var f=this.getComponents();return b.serialize(/^(gray|rgb)$/.test(this._type)?f:[this._type].concat(f),l,!0,h)},_changed:function(){this._canvasStyle=null,this._owner&&(this._setter?this._owner[this._setter](this):this._owner._changed(129))},_convert:function(l){var h;return this._type===l?this._components.slice():(h=a[this._type+"-"+l])?h.apply(this,this._components):a["rgb-"+l].apply(this,a[this._type+"-rgb"].apply(this,this._components))},convert:function(l){return new ne(l,this._convert(l),this._alpha)},getType:function(){return this._type},setType:function(l){this._components=this._convert(l),this._properties=n[l],this._type=l},getComponents:function(){var l=this._components.slice();return this._alpha!=null&&l.push(this._alpha),l},getAlpha:function(){return this._alpha!=null?this._alpha:1},setAlpha:function(l){this._alpha=l==null?null:Math.min(Math.max(l,0),1),this._changed()},hasAlpha:function(){return this._alpha!=null},equals:function(l){var h=b.isPlainValue(l,!0)?ne.read(arguments):l;return h===this||h&&this._class===h._class&&this._type===h._type&&this.getAlpha()===h.getAlpha()&&b.equals(this._components,h._components)||!1},toString:function(){for(var l=this._properties,h=[],f=this._type==="gradient",d=Q.instance,_=0,g=l.length;_<g;_++){var p=this._components[_];p!=null&&h.push(l[_]+": "+(f?p:d.number(p)))}return this._alpha!=null&&h.push("alpha: "+d.number(this._alpha)),"{ "+h.join(", ")+" }"},toCSS:function(l){var h=this._convert("rgb"),f=l||this._alpha==null?1:this._alpha;function d(_){return Math.round((_<0?0:_>1?1:_)*255)}return h=[d(h[0]),d(h[1]),d(h[2])],f<1&&h.push(f<0?0:f),l?"#"+((1<<24)+(h[0]<<16)+(h[1]<<8)+h[2]).toString(16).slice(1):(h.length==4?"rgba(":"rgb(")+h.join(",")+")"},toCanvasStyle:function(l,h){if(this._canvasStyle)return this._canvasStyle;if(this._type!=="gradient")return this._canvasStyle=this.toCSS();var f=this._components,d=f[0],_=d._stops,g=f[1],p=f[2],w=f[3],E=h&&h.inverted(),I;if(E&&(g=E._transformPoint(g),p=E._transformPoint(p),w&&(w=E._transformPoint(w))),d._radial){var P=p.getDistance(g);if(w){var x=w.subtract(g);x.getLength()>P&&(w=g.add(x.normalize(P-.1)))}var v=w||g;I=l.createRadialGradient(v.x,v.y,0,g.x,g.y,P)}else I=l.createLinearGradient(g.x,g.y,p.x,p.y);for(var m=0,S=_.length;m<S;m++){var k=_[m],O=k._offset;I.addColorStop(O??m/(S-1),k._color.toCanvasStyle())}return this._canvasStyle=I},transform:function(l){if(this._type==="gradient"){for(var h=this._components,f=1,d=h.length;f<d;f++){var _=h[f];l._transformPoint(_,_,!0)}this._changed()}},statics:{_types:n,random:function(){var l=Math.random;return new ne(l(),l(),l())},_setOwner:function(l,h,f){return l&&(l._owner&&h&&l._owner!==h&&(l=l.clone()),!l._owner^!h&&(l._owner=h||null,l._setter=f||null)),l}}})},new function(){var n={add:function(t,e){return t+e},subtract:function(t,e){return t-e},multiply:function(t,e){return t*e},divide:function(t,e){return t/e}};return b.each(n,function(t,e){this[e]=function(i){i=ne.read(arguments);for(var r=this._type,s=this._components,a=i._convert(r),l=0,h=s.length;l<h;l++)a[l]=t(s[l],a[l]);return new ne(r,a,this._alpha!=null?t(this._alpha,i.getAlpha()):null)}},{})}),Fe=b.extend({_class:"Gradient",initialize:function(t,e){this._id=lt.get(),t&&b.isPlainObject(t)&&(this.set(t),t=e=null),this._stops==null&&this.setStops(t||["white","black"]),this._radial==null&&this.setRadial(typeof e=="string"&&e==="radial"||e||!1)},_serialize:function(n,t){return t.add(this,function(){return b.serialize([this._stops,this._radial],n,!0,t)})},_changed:function(){for(var n=0,t=this._owners&&this._owners.length;n<t;n++)this._owners[n]._changed()},_addOwner:function(n){this._owners||(this._owners=[]),this._owners.push(n)},_removeOwner:function(n){var t=this._owners?this._owners.indexOf(n):-1;t!=-1&&(this._owners.splice(t,1),this._owners.length||(this._owners=y))},clone:function(){for(var n=[],t=0,e=this._stops.length;t<e;t++)n[t]=this._stops[t].clone();return new Fe(n,this._radial)},getStops:function(){return this._stops},setStops:function(n){if(n.length<2)throw new Error("Gradient stop list needs to contain at least two stops.");var t=this._stops;if(t)for(var e=0,i=t.length;e<i;e++)t[e]._owner=y;t=this._stops=Ct.readList(n,0,{clone:!0});for(var e=0,i=t.length;e<i;e++)t[e]._owner=this;this._changed()},getRadial:function(){return this._radial},setRadial:function(n){this._radial=n,this._changed()},equals:function(n){if(n===this)return!0;if(n&&this._class===n._class){var t=this._stops,e=n._stops,i=t.length;if(i===e.length){for(var r=0;r<i;r++)if(!t[r].equals(e[r]))return!1;return!0}}return!1}}),Ct=b.extend({_class:"GradientStop",initialize:function(t,e){var i=t,r=e;typeof t=="object"&&e===y&&(Array.isArray(t)&&typeof t[0]!="number"?(i=t[0],r=t[1]):("color"in t||"offset"in t||"rampPoint"in t)&&(i=t.color,r=t.offset||t.rampPoint||0)),this.setColor(i),this.setOffset(r)},clone:function(){return new Ct(this._color.clone(),this._offset)},_serialize:function(n,t){var e=this._color,i=this._offset;return b.serialize(i==null?[e]:[e,i],n,!0,t)},_changed:function(){this._owner&&this._owner._changed(129)},getOffset:function(){return this._offset},setOffset:function(n){this._offset=n,this._changed()},getRampPoint:"#getOffset",setRampPoint:"#setOffset",getColor:function(){return this._color},setColor:function(){ne._setOwner(this._color,null),this._color=ne._setOwner(ne.read(arguments,0),this,"setColor"),this._changed()},equals:function(n){return n===this||n&&this._class===n._class&&this._color.equals(n._color)&&this._offset==n._offset||!1}}),Kt=b.extend(new function(){var n={fillColor:null,fillRule:"nonzero",strokeColor:null,strokeWidth:1,strokeCap:"butt",strokeJoin:"miter",strokeScaling:!0,miterLimit:10,dashOffset:0,dashArray:[],shadowColor:null,shadowBlur:0,shadowOffset:new R,selectedColor:null},t=b.set({},n,{fontFamily:"sans-serif",fontWeight:"normal",fontSize:12,leading:null,justification:"left"}),e=b.set({},t,{fillColor:new ne}),i={strokeWidth:193,strokeCap:193,strokeJoin:193,strokeScaling:201,miterLimit:193,fontFamily:9,fontWeight:9,fontSize:9,font:9,leading:9,justification:9},r={beans:!0},s={_class:"Style",beans:!0,initialize:function(l,h,f){this._values={},this._owner=h,this._project=h&&h._project||f||Et.project,this._defaults=!h||h instanceof $t?t:h instanceof Ve?e:n,l&&this.set(l)}};return b.each(t,function(a,l){var h=/Color$/.test(l),f=l==="shadowOffset",d=b.capitalize(l),_=i[l],g="set"+d,p="get"+d;s[g]=function(w){var E=this._owner,I=E&&E._children,P=I&&I.length>0&&!(E instanceof pe);if(P)for(var x=0,v=I.length;x<v;x++)I[x]._style[g](w);if((l==="selectedColor"||!P)&&l in this._defaults){var m=this._values[l];m!==w&&(h&&(m&&(ne._setOwner(m,null),m._canvasStyle=null),w&&w.constructor===ne&&(w=ne._setOwner(w,E,P&&g))),this._values[l]=w,E&&E._changed(_||129))}},s[p]=function(w){var E=this._owner,I=E&&E._children,P=I&&I.length>0&&!(E instanceof pe),x;if(P&&!w)for(var v=0,m=I.length;v<m;v++){var S=I[v]._style[p]();if(!v)x=S;else if(!b.equals(x,S))return y}else if(l in this._defaults){var x=this._values[l];if(x===y)x=this._defaults[l],x&&x.clone&&(x=x.clone());else{var k=h?ne:f?R:null;k&&!(x&&x.constructor===k)&&(this._values[l]=x=k.read([x],0,{readNull:!0,clone:!0}))}}return x&&h&&(x=ne._setOwner(x,E,P&&g)),x},r[p]=function(w){return this._style[p](w)},r[g]=function(w){this._style[g](w)}}),b.each({Font:"FontFamily",WindingRule:"FillRule"},function(a,l){var h="get"+l,f="set"+l;s[h]=r[h]="#get"+a,s[f]=r[f]="#set"+a}),D.inject(r),s},{set:function(n){var t=n instanceof Kt,e=t?n._values:n;if(e){for(var i in e)if(i in this._defaults){var r=e[i];this[i]=r&&t&&r.clone?r.clone():r}}},equals:function(n){function t(e,i,r){var s=e._values,a=i._values,l=i._defaults;for(var h in s){var f=s[h],d=a[h];if(!(r&&h in a)&&!b.equals(f,d===y?l[h]:d))return!1}return!0}return n===this||n&&this._class===n._class&&t(this,n)&&t(n,this,!0)||!1},_dispose:function(){var n;n=this.getFillColor(),n&&(n._canvasStyle=null),n=this.getStrokeColor(),n&&(n._canvasStyle=null),n=this.getShadowColor(),n&&(n._canvasStyle=null)},hasFill:function(){var n=this.getFillColor();return!!n&&n.alpha>0},hasStroke:function(){var n=this.getStrokeColor();return!!n&&n.alpha>0&&this.getStrokeWidth()>0},hasShadow:function(){var n=this.getShadowColor();return!!n&&n.alpha>0&&(this.getShadowBlur()>0||!this.getShadowOffset().isZero())},getView:function(){return this._project._view},getFontStyle:function(){var n=this.getFontSize();return this.getFontWeight()+" "+n+(/[a-z]/i.test(n+"")?" ":"px ")+this.getFontFamily()},getFont:"#getFontFamily",setFont:"#setFontFamily",getLeading:function n(){var t=n.base.call(this),e=this.getFontSize();return/pt|em|%|px/.test(e)&&(e=this.getView().getPixelSize(e)),t??e*1.2}}),bt=new function(){function n(t,e,i,r){for(var s=["","webkit","moz","Moz","ms","o"],a=e[0].toUpperCase()+e.substring(1),l=0;l<6;l++){var h=s[l],f=h?h+a:e;if(f in t){if(i)t[f]=r;else return t[f];break}}}return{getStyles:function(t){var e=t&&t.nodeType!==9?t.ownerDocument:t,i=e&&e.defaultView;return i&&i.getComputedStyle(t,"")},getBounds:function(t,e){var i=t.ownerDocument,r=i.body,s=i.documentElement,a;try{a=t.getBoundingClientRect()}catch{a={left:0,top:0,width:0,height:0}}var l=a.left-(s.clientLeft||r.clientLeft||0),h=a.top-(s.clientTop||r.clientTop||0);if(!e){var f=i.defaultView;l+=f.pageXOffset||s.scrollLeft||r.scrollLeft,h+=f.pageYOffset||s.scrollTop||r.scrollTop}return new ct(l,h,a.width,a.height)},getViewportBounds:function(t){var e=t.ownerDocument,i=e.defaultView,r=e.documentElement;return new ct(0,0,i.innerWidth||r.clientWidth,i.innerHeight||r.clientHeight)},getOffset:function(t,e){return bt.getBounds(t,e).getPoint()},getSize:function(t){return bt.getBounds(t,!0).getSize()},isInvisible:function(t){return bt.getSize(t).equals(new ot(0,0))},isInView:function(t){return!bt.isInvisible(t)&&bt.getViewportBounds(t).intersects(bt.getBounds(t,!0))},isInserted:function(t){return L.body.contains(t)},getPrefixed:function(t,e){return t&&n(t,e)},setPrefixed:function(t,e,i){if(typeof e=="object")for(var r in e)n(t,r,!0,e[r]);else n(t,e,!0,i)}}},Mt={add:function(n,t){if(n)for(var e in t)for(var i=t[e],r=e.split(/[\s,]+/g),s=0,a=r.length;s<a;s++){var l=r[s],h=n===L&&(l==="touchstart"||l==="touchmove")?{passive:!1}:!1;n.addEventListener(l,i,h)}},remove:function(n,t){if(n)for(var e in t)for(var i=t[e],r=e.split(/[\s,]+/g),s=0,a=r.length;s<a;s++)n.removeEventListener(r[s],i,!1)},getPoint:function(n){var t=n.targetTouches?n.targetTouches.length?n.targetTouches[0]:n.changedTouches[0]:n;return new R(t.pageX||t.clientX+L.documentElement.scrollLeft,t.pageY||t.clientY+L.documentElement.scrollTop)},getTarget:function(n){return n.target||n.srcElement},getRelatedTarget:function(n){return n.relatedTarget||n.toElement},getOffset:function(n,t){return Mt.getPoint(n).subtract(bt.getOffset(t||Mt.getTarget(n)))}};Mt.requestAnimationFrame=new function(){var n=bt.getPrefixed(T,"requestAnimationFrame"),t=!1,e=[],i;function r(){var s=e;e=[];for(var a=0,l=s.length;a<l;a++)s[a]();t=n&&e.length,t&&n(r)}return function(s){e.push(s),n?t||(n(r),t=!0):i||(i=setInterval(r,1e3/60))}};var Gt=b.extend(W,{_class:"View",initialize:function n(t,e){function i(_){return e[_]||parseInt(e.getAttribute(_),10)}function r(){var _=bt.getSize(e);return _.isNaN()||_.isZero()?new ot(i("width"),i("height")):_}var s;if(T&&e){this._id=e.getAttribute("id"),this._id==null&&e.setAttribute("id",this._id="paper-view-"+n._id++),Mt.add(e,this._viewEvents);var a="none";if(bt.setPrefixed(e.style,{userDrag:a,userSelect:a,touchCallout:a,contentZooming:a,tapHighlightColor:"rgba(0,0,0,0)"}),Z.hasAttribute(e,"resize")){var l=this;Mt.add(T,this._windowEvents={resize:function(){l.setViewSize(r())}})}if(s=r(),Z.hasAttribute(e,"stats")&&typeof Stats<"u"){this._stats=new Stats;var h=this._stats.domElement,f=h.style,d=bt.getOffset(e);f.position="absolute",f.left=d.x+"px",f.top=d.y+"px",L.body.appendChild(h)}}else s=new ot(e),e=null;this._project=t,this._scope=t._scope,this._element=e,this._pixelRatio||(this._pixelRatio=T&&T.devicePixelRatio||1),this._setElementSize(s.width,s.height),this._viewSize=s,n._views.push(this),n._viewsById[this._id]=this,(this._matrix=new St)._owner=this,n._focused||(n._focused=this),this._frameItems={},this._frameItemCount=0,this._itemEvents={native:{},virtual:{}},this._autoUpdate=!Et.agent.node,this._needsUpdate=!1},remove:function(){if(!this._project)return!1;Gt._focused===this&&(Gt._focused=null),Gt._views.splice(Gt._views.indexOf(this),1),delete Gt._viewsById[this._id];var n=this._project;return n._view===this&&(n._view=null),Mt.remove(this._element,this._viewEvents),Mt.remove(T,this._windowEvents),this._element=this._project=null,this.off("frame"),this._animate=!1,this._frameItems={},!0},_events:b.each(D._itemHandlers.concat(["onResize","onKeyDown","onKeyUp"]),function(n){this[n]={}},{onFrame:{install:function(){this.play()},uninstall:function(){this.pause()}}}),_animate:!1,_time:0,_count:0,getAutoUpdate:function(){return this._autoUpdate},setAutoUpdate:function(n){this._autoUpdate=n,n&&this.requestUpdate()},update:function(){},draw:function(){this.update()},requestUpdate:function(){if(!this._requested){var n=this;Mt.requestAnimationFrame(function(){if(n._requested=!1,n._animate){n.requestUpdate();var t=n._element;(!bt.getPrefixed(L,"hidden")||Z.getAttribute(t,"keepalive")==="true")&&bt.isInView(t)&&n._handleFrame()}n._autoUpdate&&n.update()}),this._requested=!0}},play:function(){this._animate=!0,this.requestUpdate()},pause:function(){this._animate=!1},_handleFrame:function(){Et=this._scope;var n=Date.now()/1e3,t=this._last?n-this._last:0;this._last=n,this.emit("frame",new b({delta:t,time:this._time+=t,count:this._count++})),this._stats&&this._stats.update()},_animateItem:function(n,t){var e=this._frameItems;t?(e[n._id]={item:n,time:0,count:0},++this._frameItemCount===1&&this.on("frame",this._handleFrameItems)):(delete e[n._id],--this._frameItemCount===0&&this.off("frame",this._handleFrameItems))},_handleFrameItems:function(n){for(var t in this._frameItems){var e=this._frameItems[t];e.item.emit("frame",new b(n,{time:e.time+=n.delta,count:e.count++}))}},_changed:function(){this._project._changed(4097),this._bounds=this._decomposed=y},getElement:function(){return this._element},getPixelRatio:function(){return this._pixelRatio},getResolution:function(){return this._pixelRatio*72},getViewSize:function(){var n=this._viewSize;return new Vt(n.width,n.height,this,"setViewSize")},setViewSize:function(){var n=ot.read(arguments),t=n.subtract(this._viewSize);t.isZero()||(this._setElementSize(n.width,n.height),this._viewSize.set(n),this._changed(),this.emit("resize",{size:n,delta:t}),this._autoUpdate&&this.update())},_setElementSize:function(n,t){var e=this._element;e&&(e.width!==n&&(e.width=n),e.height!==t&&(e.height=t))},getBounds:function(){return this._bounds||(this._bounds=this._matrix.inverted()._transformBounds(new ct(new R,this._viewSize))),this._bounds},getSize:function(){return this.getBounds().getSize()},isVisible:function(){return bt.isInView(this._element)},isInserted:function(){return bt.isInserted(this._element)},getPixelSize:function(n){var t=this._element,e;if(t){var i=t.parentNode,r=L.createElement("div");r.style.fontSize=n,i.appendChild(r),e=parseFloat(bt.getStyles(r).fontSize),i.removeChild(r)}else e=parseFloat(e);return e},getTextWidth:function(n,t){return 0}},b.each(["rotate","scale","shear","skew"],function(n){var t=n==="rotate";this[n]=function(){var e=arguments,i=(t?b:R).read(e),r=R.read(e,0,{readNull:!0});return this.transform(new St()[n](i,r||this.getCenter(!0)))}},{_decompose:function(){return this._decomposed||(this._decomposed=this._matrix.decompose())},translate:function(){var n=new St;return this.transform(n.translate.apply(n,arguments))},getCenter:function(){return this.getBounds().getCenter()},setCenter:function(){var n=R.read(arguments);this.translate(this.getCenter().subtract(n))},getZoom:function(){var n=this._decompose().scaling;return(n.x+n.y)/2},setZoom:function(n){this.transform(new St().scale(n/this.getZoom(),this.getCenter()))},getRotation:function(){return this._decompose().rotation},setRotation:function(n){var t=this.getRotation();t!=null&&n!=null&&this.rotate(n-t)},getScaling:function(){var n=this._decompose().scaling;return new Ft(n.x,n.y,this,"setScaling")},setScaling:function(){var n=this.getScaling(),t=R.read(arguments,0,{clone:!0,readNull:!0});n&&t&&this.scale(t.x/n.x,t.y/n.y)},getMatrix:function(){return this._matrix},setMatrix:function(){var n=this._matrix;n.set.apply(n,arguments)},transform:function(n){this._matrix.append(n)},scrollBy:function(){this.translate(R.read(arguments).negate())}}),{projectToView:function(){return this._matrix._transformPoint(R.read(arguments))},viewToProject:function(){return this._matrix._inverseTransform(R.read(arguments))},getEventPoint:function(n){return this.viewToProject(Mt.getOffset(n,this._element))}},{statics:{_views:[],_viewsById:{},_id:0,create:function(n,t){L&&typeof t=="string"&&(t=L.getElementById(t));var e=T?Ie:Gt;return new e(n,t)}}},new function(){if(!T)return;var n,t,e=!1,i=!1;function r(V){var z=Mt.getTarget(V);return z.getAttribute&&Gt._viewsById[z.getAttribute("id")]}function s(){var V=Gt._focused;if(!V||!V.isVisible()){for(var z=0,q=Gt._views.length;z<q;z++)if((V=Gt._views[z]).isVisible()){Gt._focused=t=V;break}}}function a(V,z,q){V._handleMouseEvent("mousemove",z,q)}var l=T.navigator,h,f,d;l.pointerEnabled||l.msPointerEnabled?(h="pointerdown MSPointerDown",f="pointermove MSPointerMove",d="pointerup pointercancel MSPointerUp MSPointerCancel"):(h="touchstart",f="touchmove",d="touchend touchcancel","ontouchstart"in T&&l.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i)||(h+=" mousedown",f+=" mousemove",d+=" mouseup"));var _={},g={mouseout:function(V){var z=Gt._focused,q=Mt.getRelatedTarget(V);if(z&&(!q||q.nodeName==="HTML")){var U=Mt.getOffset(V,z._element),j=U.x,G=Math.abs,$=G(j),nt=1<<25,ht=$-nt;U.x=G(ht)<$?ht*(j<0?-1:1):j,a(z,V,z.viewToProject(U))}},scroll:s};_[h]=function(V){var z=Gt._focused=r(V);e||(e=!0,z._handleMouseEvent("mousedown",V))},g[f]=function(V){var z=Gt._focused;if(!i){var q=r(V);q?z!==q&&(z&&a(z,V),n||(n=z),z=Gt._focused=t=q):t&&t===z&&(n&&!n.isInserted()&&(n=null),z=Gt._focused=n,n=null,s())}z&&a(z,V)},g[h]=function(){i=!0},g[d]=function(V){var z=Gt._focused;z&&e&&z._handleMouseEvent("mouseup",V),i=e=!1},Mt.add(L,g),Mt.add(T,{load:s});var p=!1,w=!1,E={doubleclick:"click",mousedrag:"mousemove"},I=!1,P,x,v,m,S,k,O,A;function M(V,z,q,U,j,G,$){var nt=!1,ht;function _t(vt,st){if(vt.responds(st)){if(ht||(ht=new Ot(st,U,j,z||vt,G?j.subtract(G):null)),vt.emit(st,ht)&&(p=!0,ht.prevented&&(w=!0),ht.stopped))return nt=!0}else{var ut=E[st];if(ut)return _t(vt,ut)}}for(;V&&V!==$&&!_t(V,q);)V=V._parent;return nt}function N(V,z,q,U,j,G){return V._project.removeOn(q),w=p=!1,S&&M(S,null,q,U,j,G)||z&&z!==S&&!z.isDescendant(S)&&M(z,null,q==="mousedrag"?"mousemove":q,U,j,G,S)||M(V,S||z||V,q,U,j,G)}var B={mousedown:{mousedown:1,mousedrag:1,click:1,doubleclick:1},mouseup:{mouseup:1,mousedrag:1,click:1,doubleclick:1},mousemove:{mousedrag:1,mousemove:1,mouseenter:1,mouseleave:1}};return{_viewEvents:_,_handleMouseEvent:function(V,z,q){var U=this._itemEvents,j=U.native[V],G=V==="mousemove",$=this._scope.tool,nt=this;function ht(Tt){return U.virtual[Tt]||nt.responds(Tt)||$&&$.responds(Tt)}G&&e&&ht("mousedrag")&&(V="mousedrag"),q||(q=this.getEventPoint(z));var _t=this.getBounds().contains(q),vt=j&&_t&&nt._project.hitTest(q,{tolerance:0,fill:!0,stroke:!0}),st=vt&&vt.item||null,ut=!1,mt={};if(mt[V.substr(5)]=!0,j&&st!==m&&(m&&M(m,null,"mouseleave",z,q),st&&M(st,null,"mouseenter",z,q),m=st),I^_t&&(M(this,null,_t?"mouseenter":"mouseleave",z,q),ut=!0),(_t||mt.drag)&&!q.equals(x)&&(N(this,st,G?V:"mousemove",z,q,x),ut=!0),I=_t,mt.down&&_t||mt.up&&P){if(N(this,st,V,z,q,P),mt.down){if(A=st===k&&Date.now()-O<300,v=k=st,!w&&st){for(var wt=st;wt&&!wt.responds("mousedrag");)wt=wt._parent;wt&&(S=st)}P=q}else mt.up&&(!w&&st===v&&(O=Date.now(),N(this,st,A?"doubleclick":"click",z,q,P),A=!1),v=S=null);I=!1,ut=!0}x=q,ut&&$&&(p=$._handleMouseEvent(V,z,q,mt)||p),z.cancelable!==!1&&(p&&!mt.move||mt.down&&ht("mouseup"))&&z.preventDefault()},_handleKeyEvent:function(V,z,q,U){var j=this._scope,G=j.tool,$;function nt(ht){ht.responds(V)&&(Et=j,ht.emit(V,$=$||new et(V,z,q,U)))}this.isVisible()&&(nt(this),G&&G.responds(V)&&nt(G))},_countItemEvent:function(V,z){var q=this._itemEvents,U=q.native,j=q.virtual;for(var G in B)U[G]=(U[G]||0)+(B[G][V]||0)*z;j[V]=(j[V]||0)+z},statics:{updateFocus:s,_resetState:function(){e=i=p=I=!1,n=t=P=x=v=m=S=k=O=A=null}}}}),Ie=Gt.extend({_class:"CanvasView",initialize:function(t,e){if(!(e instanceof T.HTMLCanvasElement)){var i=ot.read(arguments,1);if(i.isZero())throw new Error("Cannot create CanvasView with the provided argument: "+b.slice(arguments,1));e=At.getCanvas(i)}var r=this._context=e.getContext("2d");if(r.save(),this._pixelRatio=1,!/^off|false$/.test(Z.getAttribute(e,"hidpi"))){var s=T.devicePixelRatio||1,a=bt.getPrefixed(r,"backingStorePixelRatio")||1;this._pixelRatio=s/a}Gt.call(this,t,e),this._needsUpdate=!0},remove:function n(){return this._context.restore(),n.base.call(this)},_setElementSize:function n(t,e){var i=this._pixelRatio;if(n.base.call(this,t*i,e*i),i!==1){var r=this._element,s=this._context;if(!Z.hasAttribute(r,"resize")){var a=r.style;a.width=t+"px",a.height=e+"px"}s.restore(),s.save(),s.scale(i,i)}},getContext:function(){return this._context},getPixelSize:function n(t){var e=Et.agent,i;if(e&&e.firefox)i=n.base.call(this,t);else{var r=this._context,s=r.font;r.font=t+" serif",i=parseFloat(r.font),r.font=s}return i},getTextWidth:function(n,t){var e=this._context,i=e.font,r=0;e.font=n;for(var s=0,a=t.length;s<a;s++)r=Math.max(r,e.measureText(t[s]).width);return e.font=i,r},update:function(){if(!this._needsUpdate)return!1;var n=this._project,t=this._context,e=this._viewSize;return t.clearRect(0,0,e.width+1,e.height+1),n&&n.draw(t,this._matrix,this._pixelRatio),this._needsUpdate=!1,!0}}),J=b.extend({_class:"Event",initialize:function(t){this.event=t,this.type=t&&t.type},prevented:!1,stopped:!1,preventDefault:function(){this.prevented=!0,this.event.preventDefault()},stopPropagation:function(){this.stopped=!0,this.event.stopPropagation()},stop:function(){this.stopPropagation(),this.preventDefault()},getTimeStamp:function(){return this.event.timeStamp},getModifiers:function(){return dt.modifiers}}),et=J.extend({_class:"KeyEvent",initialize:function(t,e,i,r){this.type=t,this.event=e,this.key=i,this.character=r},toString:function(){return"{ type: '"+this.type+"', key: '"+this.key+"', character: '"+this.character+"', modifiers: "+this.getModifiers()+" }"}}),dt=new function(){var n={"	":"tab"," ":"space","\b":"backspace","":"delete",Spacebar:"space",Del:"delete",Win:"meta",Esc:"escape"},t={tab:"	",space:" ",enter:"\r"},e={},i={},r,s,a=new b({shift:!1,control:!1,alt:!1,meta:!1,capsLock:!1,space:!1}).inject({option:{get:function(){return this.alt}},command:{get:function(){var f=Et&&Et.agent;return f&&f.mac?this.meta:this.control}}});function l(f){var d=f.key||f.keyIdentifier;return d=/^U\+/.test(d)?String.fromCharCode(parseInt(d.substr(2),16)):/^Arrow[A-Z]/.test(d)?d.substr(5):d==="Unidentified"||d===y?String.fromCharCode(f.keyCode):d,n[d]||(d.length>1?b.hyphenate(d):d.toLowerCase())}function h(f,d,_,g){var p=Gt._focused,w;if(e[d]=f,f?i[d]=_:delete i[d],d.length>1&&(w=b.camelize(d))in a){a[w]=f;var E=Et&&Et.agent;if(w==="meta"&&E&&E.mac)if(f)r={};else{for(var I in r)I in i&&h(!1,I,r[I],g);r=null}}else f&&r&&(r[d]=_);p&&p._handleKeyEvent(f?"keydown":"keyup",g,d,_)}return Mt.add(L,{keydown:function(f){var d=l(f),_=Et&&Et.agent;d.length>1||_&&_.chrome&&(f.altKey||_.mac&&f.metaKey||!_.mac&&f.ctrlKey)?h(!0,d,t[d]||(d.length>1?"":d),f):s=d},keypress:function(f){if(s){var d=l(f),_=f.charCode,g=_>=32?String.fromCharCode(_):d.length>1?"":d;d!==s&&(d=g.toLowerCase()),h(!0,d,g,f),s=null}},keyup:function(f){var d=l(f);d in i&&h(!1,d,i[d],f)}}),Mt.add(T,{blur:function(f){for(var d in i)h(!1,d,i[d],f)}}),{modifiers:a,isDown:function(f){return!!e[f]}}},Ot=J.extend({_class:"MouseEvent",initialize:function(t,e,i,r,s){this.type=t,this.event=e,this.point=i,this.target=r,this.delta=s},toString:function(){return"{ type: '"+this.type+"', point: "+this.point+", target: "+this.target+(this.delta?", delta: "+this.delta:"")+", modifiers: "+this.getModifiers()+" }"}}),xt=J.extend({_class:"ToolEvent",_item:null,initialize:function(t,e,i){this.tool=t,this.type=e,this.event=i},_choosePoint:function(n,t){return n||(t?t.clone():null)},getPoint:function(){return this._choosePoint(this._point,this.tool._point)},setPoint:function(n){this._point=n},getLastPoint:function(){return this._choosePoint(this._lastPoint,this.tool._lastPoint)},setLastPoint:function(n){this._lastPoint=n},getDownPoint:function(){return this._choosePoint(this._downPoint,this.tool._downPoint)},setDownPoint:function(n){this._downPoint=n},getMiddlePoint:function(){return!this._middlePoint&&this.tool._lastPoint?this.tool._point.add(this.tool._lastPoint).divide(2):this._middlePoint},setMiddlePoint:function(n){this._middlePoint=n},getDelta:function(){return!this._delta&&this.tool._lastPoint?this.tool._point.subtract(this.tool._lastPoint):this._delta},setDelta:function(n){this._delta=n},getCount:function(){return this.tool[/^mouse(down|up)$/.test(this.type)?"_downCount":"_moveCount"]},setCount:function(n){this.tool[/^mouse(down|up)$/.test(this.type)?"downCount":"count"]=n},getItem:function(){if(!this._item){var n=this.tool._scope.project.hitTest(this.getPoint());if(n){for(var t=n.item,e=t._parent;/^(Group|CompoundPath)$/.test(e._class);)t=e,e=e._parent;this._item=t}}return this._item},setItem:function(n){this._item=n},toString:function(){return"{ type: "+this.type+", point: "+this.getPoint()+", count: "+this.getCount()+", modifiers: "+this.getModifiers()+" }"}});K.extend({_class:"Tool",_list:"tools",_reference:"tool",_events:["onMouseDown","onMouseUp","onMouseDrag","onMouseMove","onActivate","onDeactivate","onEditOptions","onKeyDown","onKeyUp"],initialize:function(t){K.call(this),this._moveCount=-1,this._downCount=-1,this.set(t)},getMinDistance:function(){return this._minDistance},setMinDistance:function(n){this._minDistance=n,n!=null&&this._maxDistance!=null&&n>this._maxDistance&&(this._maxDistance=n)},getMaxDistance:function(){return this._maxDistance},setMaxDistance:function(n){this._maxDistance=n,this._minDistance!=null&&n!=null&&n<this._minDistance&&(this._minDistance=n)},getFixedDistance:function(){return this._minDistance==this._maxDistance?this._minDistance:null},setFixedDistance:function(n){this._minDistance=this._maxDistance=n},_handleMouseEvent:function(n,t,e,i){Et=this._scope,i.drag&&!this.responds(n)&&(n="mousemove");var r=i.move||i.drag,s=this.responds(n),a=!1,l=this;function h(d,_){var g=e,p=r?l._point:l._downPoint||g;if(r){if(l._moveCount>=0&&g.equals(p))return!1;if(p&&(d!=null||_!=null)){var w=g.subtract(p),E=w.getLength();if(E<(d||0))return!1;_&&(g=p.add(w.normalize(Math.min(E,_))))}l._moveCount++}return l._point=g,l._lastPoint=p||g,i.down&&(l._moveCount=-1,l._downPoint=g,l._downCount++),!0}function f(){s&&(a=l.emit(n,new xt(l,n,t))||a)}if(i.down)h(),f();else if(i.up)h(null,this._maxDistance),f();else if(s)for(;h(this._minDistance,this._maxDistance);)f();return a}});var Lt=b.extend(W,{_class:"Tween",statics:{easings:new b({linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return n*(2-n)},easeInOutQuad:function(n){return n<.5?2*n*n:-1+2*(2-n)*n},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return--n*n*n+1},easeInOutCubic:function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return 1- --n*n*n*n},easeInOutQuart:function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},easeInQuint:function(n){return n*n*n*n*n},easeOutQuint:function(n){return 1+--n*n*n*n*n},easeInOutQuint:function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n}})},initialize:function n(t,e,i,r,s,a){this.object=t;var l=typeof s,h=l==="function";this.type=h?l:l==="string"?s:"linear",this.easing=h?s:n.easings[this.type],this.duration=r,this.running=!1,this._then=null,this._startTime=null;var f=e||i;this._keys=f?Object.keys(f):[],this._parsedKeys=this._parseKeys(this._keys),this._from=f&&this._getState(e),this._to=f&&this._getState(i),a!==!1&&this.start()},then:function(n){return this._then=n,this},start:function(){return this._startTime=null,this.running=!0,this},stop:function(){return this.running=!1,this},update:function(n){if(this.running){n>=1&&(n=1,this.running=!1);for(var t=this.easing(n),e=this._keys,i=function(d){return typeof d=="function"?d(t,n):d},r=0,s=e&&e.length;r<s;r++){var a=e[r],l=i(this._from[a]),h=i(this._to[a]),f=l&&h&&l.__add&&h.__add?h.__subtract(l).__multiply(t).__add(l):(h-l)*t+l;this._setProperty(this._parsedKeys[a],f)}this.responds("update")&&this.emit("update",new b({progress:n,factor:t})),!this.running&&this._then&&this._then(this.object)}return this},_events:{onUpdate:{}},_handleFrame:function(n){var t=this._startTime,e=t?(n-t)/this.duration:0;t||(this._startTime=n),this.update(e)},_getState:function(n){for(var t=this._keys,e={},i=0,r=t.length;i<r;i++){var s=t[i],a=this._parsedKeys[s],l=this._getProperty(a),h;if(n){var f=this._resolveValue(l,n[s]);this._setProperty(a,f),h=this._getProperty(a),h=h&&h.clone?h.clone():h,this._setProperty(a,l)}else h=l&&l.clone?l.clone():l;e[s]=h}return e},_resolveValue:function(n,t){if(t){if(Array.isArray(t)&&t.length===2){var e=t[0];return e&&e.match&&e.match(/^[+\-\*\/]=/)?this._calculate(n,e[0],t[1]):t}else if(typeof t=="string"){var i=t.match(/^[+\-*/]=(.*)/);if(i){var r=JSON.parse(i[1].replace(/(['"])?([a-zA-Z0-9_]+)(['"])?:/g,'"$2": '));return this._calculate(n,t[0],r)}}}return t},_calculate:function(n,t,e){return Et.PaperScript.calculateBinary(n,t,e)},_parseKeys:function(n){for(var t={},e=0,i=n.length;e<i;e++){var r=n[e],s=r.replace(/\.([^.]*)/g,"/$1").replace(/\[['"]?([^'"\]]*)['"]?\]/g,"/$1");t[r]=s.split("/")}return t},_getProperty:function(n,t){for(var e=this.object,i=0,r=n.length-(t||0);i<r&&e;i++)e=e[n[i]];return e},_setProperty:function(n,t){var e=this._getProperty(n,1);e&&(e[n[n.length-1]]=t)}}),jt={request:function(n){var t=new c.XMLHttpRequest;return t.open((n.method||"get").toUpperCase(),n.url,b.pick(n.async,!0)),n.mimeType&&t.overrideMimeType(n.mimeType),t.onload=function(){var e=t.status;e===0||e===200?n.onLoad&&n.onLoad.call(t,t.responseText):t.onerror()},t.onerror=function(){var e=t.status,i='Could not load "'+n.url+'" (Status: '+e+")";if(n.onError)n.onError(i,e);else throw new Error(i)},t.send(null)}},At=b.exports.CanvasProvider={canvases:[],getCanvas:function(n,t,e){if(!T)return null;var i,r=!0;typeof n=="object"&&(t=n.height,n=n.width),this.canvases.length?i=this.canvases.pop():(i=L.createElement("canvas"),r=!1);var s=i.getContext("2d",e||{});if(!s)throw new Error("Canvas "+i+" is unable to provide a 2D context.");return i.width===n&&i.height===t?r&&s.clearRect(0,0,n+1,t+1):(i.width=n,i.height=t),s.save(),i},getContext:function(n,t,e){var i=this.getCanvas(n,t,e);return i?i.getContext("2d",e||{}):null},release:function(n){var t=n&&n.canvas?n.canvas:n;t&&t.getContext&&(t.getContext("2d").restore(),this.canvases.push(t))}},kt=new function(){var n=Math.min,t=Math.max,e=Math.abs,i,r,s,a,l,h,f,d,_,g,p;function w(S,k,O){return .2989*S+.587*k+.114*O}function E(S,k,O,N){var M=N-w(S,k,O);_=S+M,g=k+M,p=O+M;var N=w(_,g,p),B=n(_,g,p),V=t(_,g,p);if(B<0){var z=N-B;_=N+(_-N)*N/z,g=N+(g-N)*N/z,p=N+(p-N)*N/z}if(V>255){var q=255-N,U=V-N;_=N+(_-N)*q/U,g=N+(g-N)*q/U,p=N+(p-N)*q/U}}function I(S,k,O){return t(S,k,O)-n(S,k,O)}function P(S,k,O,A){var M=[S,k,O],N=t(S,k,O),B=n(S,k,O),V;B=B===S?0:B===k?1:2,N=N===S?0:N===k?1:2,V=n(B,N)===0?t(B,N)===1?2:1:0,M[N]>M[B]?(M[V]=(M[V]-M[B])*A/(M[N]-M[B]),M[N]=A):M[V]=M[N]=0,M[B]=0,_=M[0],g=M[1],p=M[2]}var x={multiply:function(){_=l*i/255,g=h*r/255,p=f*s/255},screen:function(){_=l+i-l*i/255,g=h+r-h*r/255,p=f+s-f*s/255},overlay:function(){_=l<128?2*l*i/255:255-2*(255-l)*(255-i)/255,g=h<128?2*h*r/255:255-2*(255-h)*(255-r)/255,p=f<128?2*f*s/255:255-2*(255-f)*(255-s)/255},"soft-light":function(){var S=i*l/255;_=S+l*(255-(255-l)*(255-i)/255-S)/255,S=r*h/255,g=S+h*(255-(255-h)*(255-r)/255-S)/255,S=s*f/255,p=S+f*(255-(255-f)*(255-s)/255-S)/255},"hard-light":function(){_=i<128?2*i*l/255:255-2*(255-i)*(255-l)/255,g=r<128?2*r*h/255:255-2*(255-r)*(255-h)/255,p=s<128?2*s*f/255:255-2*(255-s)*(255-f)/255},"color-dodge":function(){_=l===0?0:i===255?255:n(255,255*l/(255-i)),g=h===0?0:r===255?255:n(255,255*h/(255-r)),p=f===0?0:s===255?255:n(255,255*f/(255-s))},"color-burn":function(){_=l===255?255:i===0?0:t(0,255-(255-l)*255/i),g=h===255?255:r===0?0:t(0,255-(255-h)*255/r),p=f===255?255:s===0?0:t(0,255-(255-f)*255/s)},darken:function(){_=l<i?l:i,g=h<r?h:r,p=f<s?f:s},lighten:function(){_=l>i?l:i,g=h>r?h:r,p=f>s?f:s},difference:function(){_=l-i,_<0&&(_=-_),g=h-r,g<0&&(g=-g),p=f-s,p<0&&(p=-p)},exclusion:function(){_=l+i*(255-l-l)/255,g=h+r*(255-h-h)/255,p=f+s*(255-f-f)/255},hue:function(){P(i,r,s,I(l,h,f)),E(_,g,p,w(l,h,f))},saturation:function(){P(l,h,f,I(i,r,s)),E(_,g,p,w(l,h,f))},luminosity:function(){E(l,h,f,w(i,r,s))},color:function(){E(i,r,s,w(l,h,f))},add:function(){_=n(l+i,255),g=n(h+r,255),p=n(f+s,255)},subtract:function(){_=t(l-i,0),g=t(h-r,0),p=t(f-s,0)},average:function(){_=(l+i)/2,g=(h+r)/2,p=(f+s)/2},negation:function(){_=255-e(255-i-l),g=255-e(255-r-h),p=255-e(255-s-f)}},v=this.nativeModes=b.each(["source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","lighter","darker","copy","xor"],function(S){this[S]=!0},{}),m=At.getContext(1,1,{willReadFrequently:!0});m&&(b.each(x,function(S,k){var O=k==="darken",A=!1;m.save();try{m.fillStyle=O?"#300":"#a00",m.fillRect(0,0,1,1),m.globalCompositeOperation=k,m.globalCompositeOperation===k&&(m.fillStyle=O?"#a00":"#300",m.fillRect(0,0,1,1),A=m.getImageData(0,0,1,1).data[0]!==O?170:51)}catch{}m.restore(),v[k]=A}),At.release(m)),this.process=function(S,k,O,A,M){var N=k.canvas,B=S==="normal";if(B||v[S])O.save(),O.setTransform(1,0,0,1,0,0),O.globalAlpha=A,B||(O.globalCompositeOperation=S),O.drawImage(N,M.x,M.y),O.restore();else{var V=x[S];if(!V)return;for(var z=O.getImageData(M.x,M.y,N.width,N.height),q=z.data,U=k.getImageData(0,0,N.width,N.height).data,j=0,G=q.length;j<G;j+=4){i=U[j],l=q[j],r=U[j+1],h=q[j+1],s=U[j+2],f=q[j+2],a=U[j+3],d=q[j+3],V();var $=a*A/255,nt=1-$;q[j]=$*_+nt*l,q[j+1]=$*g+nt*h,q[j+2]=$*p+nt*f,q[j+3]=a*A+nt*d}O.putImageData(z,M.x,M.y)}}},yt=new function(){var n="http://www.w3.org/2000/svg",t="http://www.w3.org/2000/xmlns",e="http://www.w3.org/1999/xlink",i={href:e,xlink:t,xmlns:t+"/","xmlns:xlink":t+"/"};function r(l,h,f){return a(L.createElementNS(n,l),h,f)}function s(l,h){var f=i[h],d=f?l.getAttributeNS(f,h):l.getAttribute(h);return d==="null"?null:d}function a(l,h,f){for(var d in h){var _=h[d],g=i[d];typeof _=="number"&&f&&(_=f.number(_)),g?l.setAttributeNS(g,d,_):l.setAttribute(d,_)}return l}return{svg:n,xmlns:t,xlink:e,create:r,get:s,set:a}},Zt=b.each({fillColor:["fill","color"],fillRule:["fill-rule","string"],strokeColor:["stroke","color"],strokeWidth:["stroke-width","number"],strokeCap:["stroke-linecap","string"],strokeJoin:["stroke-linejoin","string"],strokeScaling:["vector-effect","lookup",{true:"none",false:"non-scaling-stroke"},function(n,t){return!t&&(n instanceof ae||n instanceof ue||n instanceof Ve)}],miterLimit:["stroke-miterlimit","number"],dashArray:["stroke-dasharray","array"],dashOffset:["stroke-dashoffset","number"],fontFamily:["font-family","string"],fontWeight:["font-weight","string"],fontSize:["font-size","number"],justification:["text-anchor","lookup",{left:"start",center:"middle",right:"end"}],opacity:["opacity","number"],blendMode:["mix-blend-mode","style"]},function(n,t){var e=b.capitalize(t),i=n[2];this[t]={type:n[1],property:t,attribute:n[0],toSVG:i,fromSVG:i&&b.each(i,function(r,s){this[r]=s},{}),exportFilter:n[3],get:"get"+e,set:"set"+e}},{});new function(){var n;function t(x,v,m){var S=new b,k=x.getTranslation();if(v){var O;x.isInvertible()?(x=x._shiftless(),O=x._inverseTransform(k),k=null):O=new R,S[m?"cx":"x"]=O.x,S[m?"cy":"y"]=O.y}if(!x.isIdentity()){var A=x.decompose();if(A){var M=[],N=A.rotation,B=A.scaling,V=A.skewing;k&&!k.isZero()&&M.push("translate("+n.point(k)+")"),N&&M.push("rotate("+n.number(N)+")"),(!Y.isZero(B.x-1)||!Y.isZero(B.y-1))&&M.push("scale("+n.point(B)+")"),V.x&&M.push("skewX("+n.number(V.x)+")"),V.y&&M.push("skewY("+n.number(V.y)+")"),S.transform=M.join(" ")}else S.transform="matrix("+x.getValues().join(",")+")"}return S}function e(x,v){for(var m=t(x._matrix),S=x._children,k=yt.create("g",m,n),O=0,A=S.length;O<A;O++){var M=S[O],N=I(M,v);if(N)if(M.isClipMask()){var B=yt.create("clipPath");B.appendChild(N),w(M,B,"clip"),yt.set(k,{"clip-path":"url(#"+B.id+")"})}else k.appendChild(N)}return k}function i(x,v){var m=t(x._matrix,!0),S=x.getSize(),k=x.getImage();return m.x-=S.width/2,m.y-=S.height/2,m.width=S.width,m.height=S.height,m.href=v.embedImages==!1&&k&&k.src||x.toDataURL(),yt.create("image",m,n)}function r(x,v){var m=v.matchShapes;if(m){var S=x.toShape(!1);if(S)return s(S)}var k=x._segments,O=k.length,A,M=t(x._matrix);if(m&&O>=2&&!x.hasHandles())if(O>2){A=x._closed?"polygon":"polyline";for(var N=[],B=0;B<O;B++)N.push(n.point(k[B]._point));M.points=N.join(" ")}else{A="line";var V=k[0]._point,z=k[1]._point;M.set({x1:V.x,y1:V.y,x2:z.x,y2:z.y})}else A="path",M.d=x.getPathData(null,v.precision);return yt.create(A,M,n)}function s(x){var v=x._type,m=x._radius,S=t(x._matrix,!0,v!=="rectangle");if(v==="rectangle"){v="rect";var k=x._size,O=k.width,A=k.height;S.x-=O/2,S.y-=A/2,S.width=O,S.height=A,m.isZero()&&(m=null)}return m&&(v==="circle"?S.r=m:(S.rx=m.width,S.ry=m.height)),yt.create(v,S,n)}function a(x,v){var m=t(x._matrix),S=x.getPathData(null,v.precision);return S&&(m.d=S),yt.create("path",m,n)}function l(x,v){var m=t(x._matrix,!0),S=x._definition,k=p(S,"symbol"),O=S._item,A=O.getStrokeBounds();return k||(k=yt.create("symbol",{viewBox:n.rectangle(A)}),k.appendChild(I(O,v)),w(S,k,"symbol")),m.href="#"+k.id,m.x+=A.x,m.y+=A.y,m.width=A.width,m.height=A.height,m.overflow="visible",yt.create("use",m,n)}function h(x){var v=p(x,"color");if(!v){var m=x.getGradient(),S=m._radial,k=x.getOrigin(),O=x.getDestination(),A;if(S){A={cx:k.x,cy:k.y,r:k.getDistance(O)};var M=x.getHighlight();M&&(A.fx=M.x,A.fy=M.y)}else A={x1:k.x,y1:k.y,x2:O.x,y2:O.y};A.gradientUnits="userSpaceOnUse",v=yt.create((S?"radial":"linear")+"Gradient",A,n);for(var N=m._stops,B=0,V=N.length;B<V;B++){var z=N[B],q=z._color,U=q.getAlpha(),j=z._offset;A={offset:j??B/(V-1)},q&&(A["stop-color"]=q.toCSS(!0)),U<1&&(A["stop-opacity"]=U),v.appendChild(yt.create("stop",A,n))}w(x,v,"color")}return"url(#"+v.id+")"}function f(x){var v=yt.create("text",t(x._matrix,!0),n);return v.textContent=x._content,v}var d={Group:e,Layer:e,Raster:i,Path:r,Shape:s,CompoundPath:a,SymbolItem:l,PointText:f};function _(x,v,m,S){var k={},O=!S&&x.getParent(),A=[];return x._name!=null&&(k.id=x._name),b.each(Zt,function(M){var N=M.get,B=M.type,V=x[N]();if(M.exportFilter?M.exportFilter(x,V):m.reduceAttributes==!1||!O||!b.equals(O[N](),V)){if(B==="color"&&V!=null){var z=V.getAlpha();z<1&&(k[M.attribute+"-opacity"]=z)}B==="style"?A.push(M.attribute+": "+V):k[M.attribute]=V==null?"none":B==="color"?V.gradient?h(V):V.toCSS(!0):B==="array"?V.join(","):B==="lookup"?M.toSVG[V]:V}}),A.length&&(k.style=A.join(";")),k.opacity===1&&delete k.opacity,x._visible||(k.visibility="hidden"),yt.set(v,k,n)}var g;function p(x,v){return g||(g={ids:{},svgs:{}}),x&&g.svgs[v+"-"+(x._id||x.__id||(x.__id=lt.get("svg")))]}function w(x,v,m){g||p();var S=g.ids[m]=(g.ids[m]||0)+1;v.id=m+"-"+S,g.svgs[m+"-"+(x._id||x.__id)]=v}function E(x,v){var m=x,S=null;if(g){m=x.nodeName.toLowerCase()==="svg"&&x;for(var k in g.svgs)S||(m||(m=yt.create("svg"),m.appendChild(x)),S=m.insertBefore(yt.create("defs"),m.firstChild)),S.appendChild(g.svgs[k]);g=null}return v.asString?new c.XMLSerializer().serializeToString(m):m}function I(x,v,m){var S=d[x._class],k=S&&S(x,v);if(k){var O=v.onExport;O&&(k=O(x,k,v)||k);var A=JSON.stringify(x._data);A&&A!=="{}"&&A!=="null"&&k.setAttribute("data-paper-data",A)}return k&&_(x,k,v,m)}function P(x){return x||(x={}),n=new Q(x.precision),x}D.inject({exportSVG:function(x){return x=P(x),E(I(this,x,!0),x)}}),Xt.inject({exportSVG:function(x){x=P(x);var v=this._children,m=this.getView(),S=b.pick(x.bounds,"view"),k=x.matrix||S==="view"&&m._matrix,O=k&&St.read([k]),A=S==="view"?new ct([0,0],m.getViewSize()):S==="content"?D._getBounds(v,O,{stroke:!0}).rect:ct.read([S],0,{readNull:!0}),M={version:"1.1",xmlns:yt.svg,"xmlns:xlink":yt.xlink};A&&(M.width=A.width,M.height=A.height,(A.x||A.x===0||A.y||A.y===0)&&(M.viewBox=n.rectangle(A)));var N=yt.create("svg",M,n),B=N;O&&!O.isIdentity()&&(B=N.appendChild(yt.create("g",t(O),n)));for(var V=0,z=v.length;V<z;V++)B.appendChild(I(v[V],x,!0));return E(N,x)}})},new function(){var n={},t;function e(v,m,S,k,O,A){var M=yt.get(v,m)||A,N=M==null?k?null:S?"":0:S?M:parseFloat(M);return/%\s*$/.test(M)?N/100*(O?1:t[/x|^width/.test(m)?"width":"height"]):N}function i(v,m,S,k,O,A,M){return m=e(v,m||"x",!1,k,O,A),S=e(v,S||"y",!1,k,O,M),k&&(m==null||S==null)?null:new R(m,S)}function r(v,m,S,k,O){return m=e(v,m||"width",!1,k,O),S=e(v,S||"height",!1,k,O),k&&(m==null||S==null)?null:new ot(m,S)}function s(v,m,S){return v==="none"?null:m==="number"?parseFloat(v):m==="array"?v?v.split(/[\s,]+/g).map(parseFloat):[]:m==="color"?I(v)||v:m==="lookup"?S[v]:v}function a(v,m,S,k){var O=v.childNodes,A=m==="clippath",M=m==="defs",N=new $t,B=N._project,V=B._currentStyle,z=[];if(!A&&!M&&(N=E(N,v,k),B._currentStyle=N._style.clone()),k)for(var q=v.querySelectorAll("defs"),U=0,j=q.length;U<j;U++)P(q[U],S,!1);for(var U=0,j=O.length;U<j;U++){var G=O[U],$;G.nodeType===1&&!/^defs$/i.test(G.nodeName)&&($=P(G,S,!1))&&!($ instanceof _e)&&z.push($)}return N.addChildren(z),A&&(N=E(N.reduce(),v,k)),B._currentStyle=V,(A||M)&&(N.remove(),N=null),N}function l(v,m){for(var S=v.getAttribute("points").match(/[+-]?(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?/g),k=[],O=0,A=S.length;O<A;O+=2)k.push(new R(parseFloat(S[O]),parseFloat(S[O+1])));var M=new qt(k);return m==="polygon"&&M.closePath(),M}function h(v){return ae.create(v.getAttribute("d"))}function f(v,m){var S=(e(v,"href",!0)||"").substring(1),k=m==="radialgradient",O;if(S)O=n[S].getGradient(),O._radial^k&&(O=O.clone(),O._radial=k);else{for(var A=v.childNodes,M=[],N=0,B=A.length;N<B;N++){var V=A[N];V.nodeType===1&&M.push(E(new Ct,V))}O=new Fe(M,k)}var z,q,U,j=e(v,"gradientUnits",!0)!=="userSpaceOnUse";k?(z=i(v,"cx","cy",!1,j,"50%","50%"),q=z.add(e(v,"r",!1,!1,j,"50%"),0),U=i(v,"fx","fy",!0,j)):(z=i(v,"x1","y1",!1,j,"0%","0%"),q=i(v,"x2","y2",!1,j,"100%","0%"));var G=E(new ne(O,z,q,U),v);return G._scaleToBounds=j,null}var d={"#document":function(v,m,S,k){for(var O=v.childNodes,A=0,M=O.length;A<M;A++){var N=O[A];if(N.nodeType===1)return P(N,S,k)}},g:a,svg:a,clippath:a,polygon:l,polyline:l,path:h,lineargradient:f,radialgradient:f,image:function(v){var m=new Re(e(v,"href",!0));return m.on("load",function(){var S=r(v);this.setSize(S);var k=i(v).add(S.divide(2));this._matrix.append(new St().translate(k))}),m},symbol:function(v,m,S,k){return new _e(a(v,m,S,k),!0)},defs:a,use:function(v){var m=(e(v,"href",!0)||"").substring(1),S=n[m],k=i(v);return S?S instanceof _e?S.place(k):S.clone().translate(k):null},circle:function(v){return new ue.Circle(i(v,"cx","cy"),e(v,"r"))},ellipse:function(v){return new ue.Ellipse({center:i(v,"cx","cy"),radius:r(v,"rx","ry")})},rect:function(v){return new ue.Rectangle(new ct(i(v),r(v)),r(v,"rx","ry"))},line:function(v){return new qt.Line(i(v,"x1","y1"),i(v,"x2","y2"))},text:function(v){var m=new li(i(v).add(i(v,"dx","dy")));return m.setContent(v.textContent.trim()||""),m},switch:a};function _(v,m,S,k){if(v.transform){for(var O=(k.getAttribute(S)||"").split(/\)\s*/g),A=new St,M=0,N=O.length;M<N;M++){var B=O[M];if(!B)break;for(var V=B.split(/\(\s*/),z=V[0].trim(),q=V[1].split(/[\s,]+/g),U=0,j=q.length;U<j;U++)q[U]=parseFloat(q[U]);switch(z){case"matrix":A.append(new St(q[0],q[1],q[2],q[3],q[4],q[5]));break;case"rotate":A.rotate(q[0],q[1]||0,q[2]||0);break;case"translate":A.translate(q[0],q[1]||0);break;case"scale":A.scale(q);break;case"skewX":A.skew(q[0],0);break;case"skewY":A.skew(0,q[0]);break}}v.transform(A)}}function g(v,m,S){var k=S==="fill-opacity"?"getFillColor":"getStrokeColor",O=v[k]&&v[k]();O&&O.setAlpha(parseFloat(m))}var p=b.set(b.each(Zt,function(v){this[v.attribute]=function(m,S){if(m[v.set]&&(m[v.set](s(S,v.type,v.fromSVG)),v.type==="color")){var k=m[v.get]();if(k&&k._scaleToBounds){var O=m.getBounds();k.transform(new St().translate(O.getPoint()).scale(O.getSize()))}}}},{}),{id:function(v,m){n[m]=v,v.setName&&v.setName(m)},"clip-path":function(v,m){var S=I(m);if(S)if(S=S.clone(),S.setClipMask(!0),v instanceof $t)v.insertChild(0,S);else return new $t(S,v)},gradientTransform:_,transform:_,"fill-opacity":g,"stroke-opacity":g,visibility:function(v,m){v.setVisible&&v.setVisible(m==="visible")},display:function(v,m){v.setVisible&&v.setVisible(m!==null)},"stop-color":function(v,m){v.setColor&&v.setColor(m)},"stop-opacity":function(v,m){v._color&&v._color.setAlpha(parseFloat(m))},offset:function(v,m){if(v.setOffset){var S=m.match(/(.*)%$/);v.setOffset(S?S[1]/100:parseFloat(m))}},viewBox:function(v,m,S,k,O){var A=new ct(s(m,"array")),M=r(k,null,null,!0),N,B;if(v instanceof $t){var V=M?M.divide(A.getSize()):1,B=new St().scale(V).translate(A.getPoint().negate());N=v}else v instanceof _e&&(M&&A.setSize(M),N=v._item);if(N){if(w(k,"overflow",O)!=="visible"){var z=new ue.Rectangle(A);z.setClipMask(!0),N.addChild(z)}B&&N.transform(B)}}});function w(v,m,S){var k=v.attributes[m],O=k&&k.value;if(!O&&v.style){var A=b.camelize(m);O=v.style[A],!O&&S.node[A]!==S.parent[A]&&(O=S.node[A])}return O?O==="none"?null:O:y}function E(v,m,S){var k=m.parentNode,O={node:bt.getStyles(m)||{},parent:!S&&!/^defs$/i.test(k.tagName)&&bt.getStyles(k)||{}};return b.each(p,function(A,M){var N=w(m,M,O);v=N!==y&&A(v,N,M,m,O)||v}),v}function I(v){var m=v&&v.match(/\((?:["'#]*)([^"')]+)/),S=m&&m[1],k=S&&n[T?S.replace(T.location.href.split("#")[0]+"#",""):S];return k&&k._scaleToBounds&&(k=k.clone(),k._scaleToBounds=!0),k}function P(v,m,S){var k=v.nodeName.toLowerCase(),O=k!=="#document",A=L.body,M,N,B;S&&O&&(t=Et.getView().getSize(),t=r(v,null,null,!0)||t,M=yt.create("svg",{style:"stroke-width: 1px; stroke-miterlimit: 10"}),N=v.parentNode,B=v.nextSibling,M.appendChild(v),A.appendChild(M));var V=Et.settings,z=V.applyMatrix,q=V.insertItems;V.applyMatrix=!1,V.insertItems=!1;var U=d[k],j=U&&U(v,k,m,S)||null;if(V.insertItems=q,V.applyMatrix=z,j){O&&!(j instanceof $t)&&(j=E(j,v,S));var G=m.onImport,$=O&&v.getAttribute("data-paper-data");G&&(j=G(v,j,m)||j),m.expandShapes&&j instanceof ue&&(j.remove(),j=j.toPath()),$&&(j._data=JSON.parse($))}return M&&(A.removeChild(M),N&&(B?N.insertBefore(v,B):N.appendChild(v))),S&&(n={},j&&b.pick(m.applyMatrix,z)&&j.matrix.apply(!0,!0)),j}function x(v,m,S){if(!v)return null;m=typeof m=="function"?{onLoad:m}:m||{};var k=Et,O=null;function A(V){try{var z=typeof V=="object"?V:new c.DOMParser().parseFromString(V.trim(),"image/svg+xml");if(!z.nodeName)throw z=null,new Error("Unsupported SVG source: "+v);Et=k,O=P(z,m,!0),(!m||m.insert!==!1)&&S._insertItem(y,O);var q=m.onLoad;q&&q(O,V)}catch(U){M(U)}}function M(V,z){var q=m.onError;if(q)q(V,z);else throw new Error(V)}if(typeof v=="string"&&!/^[\s\S]*</.test(v)){var N=L.getElementById(v);N?A(N):jt.request({url:v,async:!0,onLoad:A,onError:M})}else if(typeof File<"u"&&v instanceof File){var B=new FileReader;return B.onload=function(){A(B.result)},B.onerror=function(){M(B.error)},B.readAsText(v)}else A(v);return O}D.inject({importSVG:function(v,m){return x(v,m,this)}}),Xt.inject({importSVG:function(v,m){return this.activate(),x(v,m,this)}})};var Et=new(Z.inject(b.exports,{Base:b,Numerical:Y,Key:dt,DomEvent:Mt,DomElement:bt,document:L,window:T,Symbol:_e,PlacedSymbol:Ue}));return Et.agent.node&&Br(Et),typeof y=="function"&&y.amd?y("paper",Et):u&&(u.exports=Et),Et}).call(la,typeof self=="object"?self:null)})(Nu);var Xc=Nu.exports;const Yc=ia({name:"Canvas",props:["canvasId"],data:()=>({path:null,scope:new xs.PaperScope,tool:Xc.tool,pathData:""}),methods:{reset(){this.scope.project.activeLayer.removeChildren()},pathCreate(u){return u.activate(),new xs.Path({strokeColor:"#000000",strokeJoin:"round",strokeWidth:1.5})},createTool(u){return u.activate(),new xs.Tool},mouseDown(){const u=this;this.tool=this.createTool(this.scope),this.tool.onMouseDown=c=>{u.path&&u.reset(),u.path=u.pathCreate(u.scope),u.path.add(c.point)},this.tool.onMouseDrag=c=>{u.path||(u.path=u.pathCreate(u.scope)),u.path.add(c.point)},this.tool.onMouseUp=c=>{var L;u.path||(u.path=u.pathCreate(u.scope)),u.path.simplify(10),console.log(u.path.exportSVG({asString:!0}));const T=u.path.exportSVG({asString:!0}).toString().split('d="')[1].split('"')[0];this.pathData=T,console.log(this.pathData.toString()),document.documentElement.style.setProperty("--pathData",`"${this.pathData}"`),(L=document.getElementById("path"))==null||L.setAttribute("d",this.pathData.toString())}},writeValue(u){const c=u.target,y=c.value,T=c.name;console.log(y,T);const L=document.getElementById("css-overrides"),b=document.getElementById("offset-anchor-x"),W=document.getElementById("offset-anchor-y"),Z=document.getElementById("offset-distance"),K=document.getElementById("offset-pos"),rt=document.getElementById("offset-rot-x"),Q=document.getElementById("offset-rot-y");if(isNaN(Number(Z.value))){const lt=Z.value.split("%")[0];Z.value=lt,isNaN(Number(lt))&&(console.error("Please enter a valid number or a number with a percent sign at the end."),Z.value="0")}if(!L)return;L.innerHTML=`
            #motion-demo {
                /* user-editable settings */
                offset-anchor: ${b.value} ${W.value};
                offset-distance: ${Z.value}%;
                offset-position: ${K.value};
                offset-rotate: ${rt.value} ${Q.value};
            }
            `;const Y=document.getElementById("code-window");Y&&(Y.innerHTML=`
            #motion-demo {<br />
            offset-path: "${this.pathData.toString()}";<br/>
            offset-anchor: ${b.value} ${W.value};<br />
            offset-distance: ${Z.value}%;<br />
            offset-position: ${K.value};<br />
            offset-rotate: ${rt.value} ${Q.value};<br/>
            }
            `)}},mounted(){this.scope.setup("canvasId")}}),Jc=(u,c)=>{const y=u.__vccOpts||u;for(const[T,L]of c)y[T]=L;return y},Qc={class:"flex flex-row m-8 space-x-32"},$c={class:"control-section flex-1 flex flex-col space-y-4"},td={class:"flex flex-col space-y-2"},ed={class:"flex flex-col space-y-2"},id={class:"flex flex-row space-x-4 w-full"},nd={class:"flex flex-col space-y-2"},rd={class:"flex flex-row space-x-4 w-full"},sd={class:"flex flex-col space-y-2"},ad={class:"flex flex-row space-x-4 w-full"},od={class:"flex flex-col space-y-2"},ud={class:"flex flex-row space-x-4 w-full"},ld={class:"demo-output flex-1 flex flex-col justify-start items-center space-y-16 mt-12"},hd={class:"wrapper"},fd={xmlns:"http://www.w3.org/2000/svg",style:{width:"100%",height:"100%"}};function cd(u,c,y,T,L,b){return Va(),qa("div",Qc,[xe("div",$c,[c[15]||(c[15]=Xi('<div class="info-panel flex flex-col space-y-2"><div class="text-6xl font-medium">CSS Motion Path</div><div class="text-2xl font-semibold">About Motion Path</div><div class="text-sm font-light"> The CSS motion path module allows authors to animate any graphical object along a custom path. The idea is that when you want to animate an element moving along a path, you previously only had animating translation, position, etc. at your disposal, which wasn&#39;t ideal and only allowed for simple movements. With offset-path you can define a specific path of any shape you want. You then animate it along that path by animating offset-distance, and can choose to rotate it at any point using offset-rotate. </div></div><div class="text-xl font-semibold">Try Motion Path</div>',2)),xe("div",td,[c[7]||(c[7]=xe("div",{class:"text-xl font-medium"},"Draw the offset path",-1)),xe("canvas",{id:"canvasId",class:"canvas-style",ref:"canvas",onMousedown:c[0]||(c[0]=(...W)=>u.mouseDown&&u.mouseDown(...W))},null,544)]),xe("div",ed,[c[10]||(c[10]=Xi('<div class="text-xl font-medium"><div class="flex flex-col space-y-1"><div class="flex flex-row space-x-4"><div>Set the offset anchor</div><div class="text-sm font-light">[k, k]</div><div class="tooltip cursor-help"><i class="fas fa-circle-question" title="(keywords): Valid inputs for either are `center`, `left`, `top`, `right`, `bottom`"></i></div></div></div><p class="text-sm font-light"> The offset-anchor CSS property specifies the point inside the box of an element traveling along an offset-path that is actually moving along the path. Try changing these values and see what happens. </p></div><div class="text-base font-light">offset-anchor</div>',2)),xe("div",id,[xe("select",{class:"text-black border border-black rounded-md px-2 py-1",id:"offset-anchor-x",onChange:c[1]||(c[1]=(...W)=>u.writeValue&&u.writeValue(...W))},c[8]||(c[8]=[Xi('<option value="center">center</option><option value="left">left</option><option value="top">top</option><option value="right">right</option><option value="bottom">bottom</option>',5)]),32),xe("select",{class:"text-black border border-black rounded-md px-2 py-1",id:"offset-anchor-y",onChange:c[2]||(c[2]=(...W)=>u.writeValue&&u.writeValue(...W))},c[9]||(c[9]=[Xi('<option value="center">center</option><option value="left">left</option><option value="top">top</option><option value="right">right</option><option value="bottom">bottom</option>',5)]),32)])]),xe("div",nd,[c[11]||(c[11]=Xi('<div class="text-xl font-medium"><div class="flex flex-col space-y-1"><div class="flex flex-row space-x-4"><div>Set the offset distance</div><div class="text-sm font-light">[d]</div><div class="tooltip cursor-help"><i class="fas fa-circle-question" title="(decimal): Valid inputs are any decimal value or whole number"></i></div></div></div><p class="text-sm font-light"> The offset-distance CSS property specifies a position along an offset-path for an element to be placed. Try setting this value to <b class="font-bold">50</b> and see what happens. </p></div><div class="text-base font-light">offset-distance</div>',2)),xe("div",rd,[xe("input",{type:"number",step:"0.01",class:"bg-transparent border w-full border-black rounded-md text-center",name:"offset-distance",id:"offset-distance",placeholder:"Set an offset-distance",value:"25",onChange:c[3]||(c[3]=(...W)=>u.writeValue&&u.writeValue(...W))},null,32)])]),xe("div",sd,[c[13]||(c[13]=Xi('<div class="text-xl font-medium"><div class="flex flex-col space-y-1"><div class="flex flex-row space-x-4"><div>Set the offset position</div><div class="text-sm font-light">[k]</div><div class="tooltip cursor-help"><i class="fas fa-circle-question" title="(keyword): Valid inputs are `auto`, `normal`, `center`, `left`, `top`, `right`, `bottom`"></i></div></div></div><p class="text-sm font-light"> The offset-position CSS property is what sets the initial position of the element along the offset path. This property is typically used in combination with the offset-path property to create a motion effect. </p></div><div class="text-base font-light">offset-position</div>',2)),xe("div",ad,[xe("select",{class:"text-black border border-black rounded-md px-2 py-1 w-full text-center",id:"offset-pos",onChange:c[4]||(c[4]=(...W)=>u.writeValue&&u.writeValue(...W))},c[12]||(c[12]=[Xi('<option value="center">auto</option><option value="center">normal</option><option value="center">center</option><option value="left">left</option><option value="top">top</option><option value="right">right</option><option value="bottom">bottom</option>',7)]),32)])]),xe("div",od,[c[14]||(c[14]=Xi('<div class="text-xl font-medium"><div class="flex flex-col space-y-1"><div class="flex flex-row space-x-4"><div>Set the offset rotation</div><div class="text-sm font-light">[x | k, y | k]</div><div class="tooltip cursor-help"><i class="fas fa-circle-question" title="(x-values or keywords): Valid inputs are `auto`, `&lt;angle&gt;`, `auto &lt;angle&gt;` or `reverse`"></i></div></div></div><p class="text-sm font-light"> The first value is the x-axis rotation and the second value is the y-axis rotation. What this does is set the rotation of the object traversing across the offet path. Try setting both values to <b class="font-bold">auto</b> and see what happens. </p></div><div class="text-base font-light">offset-rotate</div>',2)),xe("div",ud,[xe("input",{type:"text",class:"bg-transparent border border-black rounded-md text-center w-full",name:"offset-rot-x",id:"offset-rot-x",placeholder:"Set a value of either 'auto' or <deg>deg",value:"auto",onInput:c[5]||(c[5]=(...W)=>u.writeValue&&u.writeValue(...W))},null,32),xe("input",{type:"text",class:"bg-transparent border border-black rounded-md text-center w-full",name:"offset-rot-y",id:"offset-rot-y",placeholder:"Set a value of either 'auto' or <deg>deg",value:"60deg",onInput:c[6]||(c[6]=(...W)=>u.writeValue&&u.writeValue(...W))},null,32)])])]),xe("div",ld,[xe("div",hd,[c[17]||(c[17]=xe("div",{class:"text-xl font-semibold m-4 text-gray-500 absolute top-0"},"Output window",-1)),c[18]||(c[18]=xe("div",{id:"motion-demo"},null,-1)),(Va(),qa("svg",fd,c[16]||(c[16]=[xe("path",{id:"path",class:"path",d:"M180,110 C180,220 320,220 320,110",fill:"none",stroke:"#5e5e7d","stroke-width":"3","stroke-miterlimit":"10"},null,-1)])))]),c[19]||(c[19]=xe("div",{class:"generated-code block w-full py-4"},[xe("div",{class:"text-xl font-semibold"},"Generated code"),xe("div",{class:"code-window text-white bg-gray-800 py-6 px-4 w-full h-full my-4 rounded-lg",id:"code-window"},[Ji(" #motion-demo {"),xe("br"),Ji(" /* user-editable settings */"),xe("br"),Ji(" offset-anchor: center center;"),xe("br"),Ji(" offset-distance: 25%;"),xe("br"),Ji(" offset-position: auto;"),xe("br"),Ji(" offset-rotate: auto 60deg;"),xe("br"),Ji(" } ")])],-1))])])}const dd=Jc(Yc,[["render",cd]]),pd=zc({history:hc(),routes:qc}),Ru=Of(dd);Ru.use(pd);Ru.mount("#app");export{Jc as _,Xc as a,xe as b,qa as c,ia as d,Xi as e,Ji as f,Va as o,xs as p};
